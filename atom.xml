<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh-CN"><generator uri="https://gohugo.io/" version="0.92.1">Hugo</generator><title type="html">Asky</title><link href="https://askyx.github.io/" rel="alternate" type="text/html" title="HTML"/><link href="https://askyx.github.io/atom.xml" rel="self" type="application/rss+xml" title="atom"/><link href="https://askyx.github.io/index.json" rel="alternate" type="application/json" title="JSON"/><updated>2024-02-18T09:09:10+00:00</updated><id>https://askyx.github.io/</id><entry><title type="html">源码编译 GreenPlum 速通版</title><link href="https://askyx.github.io/posts/build/" rel="alternate" type="text/html"/><id>https://askyx.github.io/posts/build/</id><published>2024-01-05T11:07:23+08:00</published><updated>2024-01-05T11:07:23+08:00</updated><content type="html"><![CDATA[<blockquote>docker GreenPlum 源码编译</blockquote><h2 id="shell">shell</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
git clone --depth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> https://hub.fgit.cf/greenplum-db/gpdb.git -b 7.0.0


docker run  -itd  --name gpdb --cap-add<span style="color:#f92672">=</span>SYS_PTRACE --privileged<span style="color:#f92672">=</span>true --hostname vscode  --mount type<span style="color:#f92672">=</span>bind,source<span style="color:#f92672">=</span>/home/wen/gpdb,target<span style="color:#f92672">=</span>/workspaces/gpdb  runner  bash
docker exec -it -u vscode gpdb bash

sudo service ssh start

ssh-keygen
cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys
chmod <span style="color:#ae81ff">700</span> ~/.ssh
chmod <span style="color:#ae81ff">644</span> ~/.ssh/authorized_keys


sudo chown vscode:vscode -R /workspaces/gpdb


<span style="color:#75715e"># 不支持其他文件夹编译，只能在gpdb目录下</span>

cd /workspaces/gpdb

sudo apt install -y libkrb5-dev krb5-config iproute2 libossp-uuid-dev libapr1-dev libyaml-dev libxerces-c-dev less rsync pip libevent-dev

./configure --with-perl --enable-orca --with-python --with-libxml --with-gssapi --enable-debug CFLAGS<span style="color:#f92672">=</span>-O0 CXXFLAGS<span style="color:#f92672">=</span>-O0 --prefix<span style="color:#f92672">=</span>/home/vscode/.build

make -j64 <span style="color:#f92672">&amp;&amp;</span> make install



<span style="color:#75715e"># .bashrc 文件</span>

cat &gt; /home/vscode/.bashrc <span style="color:#e6db74">&lt;&lt;EOF
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">source /home/vscode/.build/greenplum_path.sh
</span><span style="color:#e6db74">alias psql=&#39;psql -p 7000&#39;
</span><span style="color:#e6db74">alias gpstart=&#39;gpstart -d /workspaces/gpdb/gpAux/gpdemo/datadirs/qddir/demoDataDir-1&#39;
</span><span style="color:#e6db74">alias gpstop=&#39;gpstop -d /workspaces/gpdb/gpAux/gpdemo/datadirs/qddir/demoDataDir-1&#39;
</span><span style="color:#e6db74">alias sqps=&#34;echo &#39;USER         PID     PPID VSZ                  CMD&#39; ; ps -eo user,pid,ppid,vsize,cmd | grep -E &#39;postgres&#39; &#34;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">EOF</span>

source /home/vscode/.bashrc


pip install gssapi psycopg2 psutil -i https://pypi.tuna.tsinghua.edu.cn/simple

ssh localhost

<span style="color:#75715e"># 创建demo 集群</span>
make create-demo-cluster

createdb -p <span style="color:#ae81ff">7000</span> vscode

<span style="color:#75715e"># 销毁demo集群</span>
make destroy-demo-cluster



</code></pre></div><h2 id="demo-sql">demo sql</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">
<span style="color:#66d9ef">select</span> <span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">drop table if exists t0_2357;
</span><span style="color:#e6db74">drop table if exists t0_2357_hash;                drop table if exists t1_2357_hash;                  drop table if exists t2_2357_hash;
</span><span style="color:#e6db74">drop table if exists t0_2357_repl;                drop table if exists t1_2357_repl;                  drop table if exists t2_2357_repl;
</span><span style="color:#e6db74">drop table if exists t0_2357_random;              drop table if exists t1_2357_random;                drop table if exists t2_2357_random;
</span><span style="color:#e6db74">&#39;</span> droptable <span style="color:#960050;background-color:#1e0010">\</span>gset

<span style="color:#66d9ef">select</span> <span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">create table t0(a int, b int, c char(10), d timestamp);
</span><span style="color:#e6db74">insert into t0 values
</span><span style="color:#e6db74">(1,  1,  &#39;&#39;1&#39;&#39;,  &#39;&#39;2021-12-29 20:10:01&#39;&#39;),(2,  2,  &#39;&#39;2&#39;&#39;,  &#39;&#39;2022-12-29 20:10:01&#39;&#39;),(3,  3,  &#39;&#39;3&#39;&#39;,  &#39;&#39;2023-12-29 20:10:01&#39;&#39;),(4,  4,  &#39;&#39;4&#39;&#39;,  &#39;&#39;2024-12-29 20:10:01&#39;&#39;),
</span><span style="color:#e6db74">(5,  5,  &#39;&#39;5&#39;&#39;,  &#39;&#39;2025-12-29 20:10:01&#39;&#39;),(6,  6,  &#39;&#39;6&#39;&#39;,  &#39;&#39;2026-12-29 20:10:01&#39;&#39;),(7,  7,  &#39;&#39;7&#39;&#39;,  &#39;&#39;2027-12-29 20:10:01&#39;&#39;),(8,  8,  &#39;&#39;8&#39;&#39;,  &#39;&#39;2028-12-29 20:10:01&#39;&#39;),
</span><span style="color:#e6db74">(9,  9,  &#39;&#39;9&#39;&#39;,  &#39;&#39;2029-12-29 20:10:01&#39;&#39;),(10, 10, &#39;&#39;10&#39;&#39;, &#39;&#39;2010-12-29 20:10:01&#39;&#39;),(11, 11, &#39;&#39;11&#39;&#39;, &#39;&#39;2011-12-29 20:10:01&#39;&#39;),(12, 12, &#39;&#39;12&#39;&#39;, &#39;&#39;2012-12-29 20:10:01&#39;&#39;),
</span><span style="color:#e6db74">(13, 13, &#39;&#39;13&#39;&#39;, &#39;&#39;2013-12-29 20:10:01&#39;&#39;),(14, 14, &#39;&#39;14&#39;&#39;, &#39;&#39;2014-12-29 20:10:01&#39;&#39;),(15, 15, &#39;&#39;15&#39;&#39;, &#39;&#39;2015-12-29 20:10:01&#39;&#39;),(16, 16, &#39;&#39;16&#39;&#39;, &#39;&#39;2016-12-29 20:10:01&#39;&#39;),
</span><span style="color:#e6db74">(17, 17, &#39;&#39;17&#39;&#39;, &#39;&#39;2017-12-29 20:10:01&#39;&#39;),(18, 18, &#39;&#39;18&#39;&#39;, &#39;&#39;2018-12-29 20:10:01&#39;&#39;),(19, 19, &#39;&#39;19&#39;&#39;, &#39;&#39;2019-12-29 20:10:01&#39;&#39;),(20, 20, &#39;&#39;20&#39;&#39;, &#39;&#39;2020-12-29 20:10:01&#39;&#39;);
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">create table t0_2357_hash   (a int, b int, c char(10), d timestamp) Distributed by (a);
</span><span style="color:#e6db74">create table t0_2357_repl   (a int, b int, c char(10), d timestamp) Distributed REPLICATED;
</span><span style="color:#e6db74">create table t0_2357_random (a int, b int, c char(10), d timestamp) Distributed RANDOMLY;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">create table t1_2357_hash   (a int, b int, c char(10), d timestamp) Distributed by (a);
</span><span style="color:#e6db74">create table t1_2357_repl   (a int, b int, c char(10), d timestamp) Distributed REPLICATED;
</span><span style="color:#e6db74">create table t1_2357_random (a int, b int, c char(10), d timestamp) Distributed RANDOMLY;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">create table t2_2357_hash   (a int, b int, c char(10), d timestamp) Distributed by (a);
</span><span style="color:#e6db74">create table t2_2357_repl   (a int, b int, c char(10), d timestamp) Distributed REPLICATED;
</span><span style="color:#e6db74">create table t2_2357_random (a int, b int, c char(10), d timestamp) Distributed RANDOMLY;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">insert into t0_2357_hash select * from t0;
</span><span style="color:#e6db74">insert into t0_2357_repl select * from t0;
</span><span style="color:#e6db74">insert into t0_2357_random select * from t0;
</span><span style="color:#e6db74">insert into t1_2357_hash select * from t0;
</span><span style="color:#e6db74">insert into t1_2357_repl select * from t0;
</span><span style="color:#e6db74">insert into t1_2357_random select * from t0;
</span><span style="color:#e6db74">insert into t2_2357_hash select * from t0;
</span><span style="color:#e6db74">insert into t2_2357_repl select * from t0;
</span><span style="color:#e6db74">insert into t2_2357_random select * from t0;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">vacuum ANALYZE t0_2357_hash;                vacuum ANALYZE t1_2357_hash;                  vacuum ANALYZE t2_2357_hash;
</span><span style="color:#e6db74">vacuum ANALYZE t0_2357_repl;                vacuum ANALYZE t1_2357_repl;                  vacuum ANALYZE t2_2357_repl;
</span><span style="color:#e6db74">vacuum ANALYZE t0_2357_random;              vacuum ANALYZE t1_2357_random;                vacuum ANALYZE t2_2357_random;
</span><span style="color:#e6db74">&#39;</span> createtable <span style="color:#960050;background-color:#1e0010">\</span>gset


<span style="color:#75715e">-- test start: case 1
</span><span style="color:#75715e">--2 层 简单 子查询
</span><span style="color:#75715e"></span><span style="color:#66d9ef">select</span> <span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select avg(t1_2357_random.a)::int from t1_2357_random) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select avg(t1_2357_random.a)::int from t1_2357_random) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select avg(t1_2357_random.a)::int from t1_2357_random) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">&#39;</span> testcase1 <span style="color:#960050;background-color:#1e0010">\</span>gset

<span style="color:#75715e">-- test start: case 2
</span><span style="color:#75715e">--2 层 join 子查询
</span><span style="color:#75715e"></span><span style="color:#66d9ef">select</span> <span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (max(t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (max(t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (max(t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (max(t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (max(t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (max(t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (max(t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (max(t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (max(t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (max(t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (max(t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (max(t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (max(t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (max(t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (max(t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (max(t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (max(t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (max(t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (max(t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (max(t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (max(t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (max(t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (max(t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (max(t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (max(t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (max(t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (max(t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">&#39;</span> testcase2 <span style="color:#960050;background-color:#1e0010">\</span>gset

<span style="color:#75715e">-- test start: case 3
</span><span style="color:#75715e">--2 层 关联 子查询
</span><span style="color:#75715e"></span><span style="color:#66d9ef">select</span> <span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt; 5 and t0_2357_hash.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash where t0_2357_hash.a = t1_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt; 5 and t0_2357_hash.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash where t0_2357_hash.b = t1_2357_hash.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt; 5 and t0_2357_hash.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash where t0_2357_hash.c = t1_2357_hash.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt; 5 and t0_2357_hash.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash where t0_2357_hash.d = t1_2357_hash.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt; 5 and t0_2357_hash.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl where t0_2357_hash.a = t1_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt; 5 and t0_2357_hash.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl where t0_2357_hash.b = t1_2357_repl.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt; 5 and t0_2357_hash.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl where t0_2357_hash.c = t1_2357_repl.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt; 5 and t0_2357_hash.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl where t0_2357_hash.d = t1_2357_repl.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt; 5 and t0_2357_hash.a in (select avg(t1_2357_random.a)::int from t1_2357_random where t0_2357_hash.a = t1_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt; 5 and t0_2357_hash.a in (select avg(t1_2357_random.a)::int from t1_2357_random where t0_2357_hash.b = t1_2357_random.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt; 5 and t0_2357_hash.a in (select avg(t1_2357_random.a)::int from t1_2357_random where t0_2357_hash.c = t1_2357_random.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt; 5 and t0_2357_hash.a in (select avg(t1_2357_random.a)::int from t1_2357_random where t0_2357_hash.d = t1_2357_random.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt; 5 and t0_2357_repl.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash where t0_2357_repl.a = t1_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt; 5 and t0_2357_repl.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash where t0_2357_repl.b = t1_2357_hash.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt; 5 and t0_2357_repl.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash where t0_2357_repl.c = t1_2357_hash.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt; 5 and t0_2357_repl.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash where t0_2357_repl.d = t1_2357_hash.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt; 5 and t0_2357_repl.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl where t0_2357_repl.a = t1_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt; 5 and t0_2357_repl.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl where t0_2357_repl.b = t1_2357_repl.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt; 5 and t0_2357_repl.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl where t0_2357_repl.c = t1_2357_repl.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt; 5 and t0_2357_repl.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl where t0_2357_repl.d = t1_2357_repl.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt; 5 and t0_2357_repl.a in (select avg(t1_2357_random.a)::int from t1_2357_random where t0_2357_repl.a = t1_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt; 5 and t0_2357_repl.a in (select avg(t1_2357_random.a)::int from t1_2357_random where t0_2357_repl.b = t1_2357_random.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt; 5 and t0_2357_repl.a in (select avg(t1_2357_random.a)::int from t1_2357_random where t0_2357_repl.c = t1_2357_random.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt; 5 and t0_2357_repl.a in (select avg(t1_2357_random.a)::int from t1_2357_random where t0_2357_repl.d = t1_2357_random.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt; 5 and t0_2357_random.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash where t0_2357_random.a = t1_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt; 5 and t0_2357_random.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash where t0_2357_random.b = t1_2357_hash.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt; 5 and t0_2357_random.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash where t0_2357_random.c = t1_2357_hash.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt; 5 and t0_2357_random.a in (select avg(t1_2357_hash.a)::int from t1_2357_hash where t0_2357_random.d = t1_2357_hash.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt; 5 and t0_2357_random.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl where t0_2357_random.a = t1_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt; 5 and t0_2357_random.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl where t0_2357_random.b = t1_2357_repl.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt; 5 and t0_2357_random.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl where t0_2357_random.c = t1_2357_repl.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt; 5 and t0_2357_random.a in (select avg(t1_2357_repl.a)::int from t1_2357_repl where t0_2357_random.d = t1_2357_repl.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt; 5 and t0_2357_random.a in (select avg(t1_2357_random.a)::int from t1_2357_random where t0_2357_random.a = t1_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt; 5 and t0_2357_random.a in (select avg(t1_2357_random.a)::int from t1_2357_random where t0_2357_random.b = t1_2357_random.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt; 5 and t0_2357_random.a in (select avg(t1_2357_random.a)::int from t1_2357_random where t0_2357_random.c = t1_2357_random.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt; 5 and t0_2357_random.a in (select avg(t1_2357_random.a)::int from t1_2357_random where t0_2357_random.d = t1_2357_random.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">&#39;</span> testcase3 <span style="color:#960050;background-color:#1e0010">\</span>gset

<span style="color:#75715e">-- test start: case 5
</span><span style="color:#75715e">--3 层 非关联关联子查询
</span><span style="color:#75715e"></span><span style="color:#66d9ef">select</span> <span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">&#39;</span> testcase5 <span style="color:#960050;background-color:#1e0010">\</span>gset

<span style="color:#75715e">-- test start: case 7
</span><span style="color:#75715e">--3 层 关联子查询，关联13层
</span><span style="color:#75715e"></span><span style="color:#66d9ef">select</span> <span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.a = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">-- explain this query, must be remote table query
</span><span style="color:#e6db74">explain (costs off) select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.a = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.b = t2_2357_hash.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.c = t2_2357_hash.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.d = t2_2357_hash.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.a = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.b = t2_2357_repl.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.c = t2_2357_repl.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.d = t2_2357_repl.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.a = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.b = t2_2357_random.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.c = t2_2357_random.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.d = t2_2357_random.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.a = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.b = t2_2357_hash.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.c = t2_2357_hash.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.d = t2_2357_hash.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.a = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.b = t2_2357_repl.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.c = t2_2357_repl.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.d = t2_2357_repl.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.a = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.b = t2_2357_random.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.c = t2_2357_random.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.d = t2_2357_random.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.a = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.b = t2_2357_hash.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.c = t2_2357_hash.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.d = t2_2357_hash.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.a = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.b = t2_2357_repl.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.c = t2_2357_repl.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.d = t2_2357_repl.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.a = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.b = t2_2357_random.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.c = t2_2357_random.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.d = t2_2357_random.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.a = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.b = t2_2357_hash.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.c = t2_2357_hash.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.d = t2_2357_hash.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.a = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.b = t2_2357_repl.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.c = t2_2357_repl.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.d = t2_2357_repl.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.a = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.b = t2_2357_random.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.c = t2_2357_random.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.d = t2_2357_random.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.a = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.b = t2_2357_hash.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.c = t2_2357_hash.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.d = t2_2357_hash.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.a = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.b = t2_2357_repl.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.c = t2_2357_repl.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.d = t2_2357_repl.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.a = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.b = t2_2357_random.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.c = t2_2357_random.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.d = t2_2357_random.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.a = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.b = t2_2357_hash.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.c = t2_2357_hash.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.d = t2_2357_hash.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.a = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.b = t2_2357_repl.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.c = t2_2357_repl.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.d = t2_2357_repl.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.a = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.b = t2_2357_random.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.c = t2_2357_random.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.d = t2_2357_random.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.a = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.b = t2_2357_hash.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.c = t2_2357_hash.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.d = t2_2357_hash.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.a = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.b = t2_2357_repl.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.c = t2_2357_repl.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.d = t2_2357_repl.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.a = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.b = t2_2357_random.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.c = t2_2357_random.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.d = t2_2357_random.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.a = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.b = t2_2357_hash.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.c = t2_2357_hash.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.d = t2_2357_hash.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.a = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.b = t2_2357_repl.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.c = t2_2357_repl.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.d = t2_2357_repl.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.a = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.b = t2_2357_random.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.c = t2_2357_random.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.d = t2_2357_random.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.a = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.b = t2_2357_hash.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.c = t2_2357_hash.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.d = t2_2357_hash.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.a = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.b = t2_2357_repl.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.c = t2_2357_repl.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.d = t2_2357_repl.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.a = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.b = t2_2357_random.b)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.c = t2_2357_random.c)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.d = t2_2357_random.d)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span> testcase7 <span style="color:#960050;background-color:#1e0010">\</span>gset

<span style="color:#75715e">-- test start: case 4
</span><span style="color:#75715e">--2 层 join 关联子查询
</span><span style="color:#75715e"></span><span style="color:#66d9ef">select</span> <span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.b and t0_2357_hash.a = t1_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.b and t0_2357_hash.b = t1_2357_hash.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.b and t0_2357_hash.c = t1_2357_hash.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.b and t0_2357_hash.d = t1_2357_hash.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.b and t0_2357_hash.a = t1_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.b and t0_2357_hash.b = t1_2357_hash.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.b and t0_2357_hash.c = t1_2357_hash.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.b and t0_2357_hash.d = t1_2357_hash.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.b and t0_2357_hash.a = t1_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.b and t0_2357_hash.b = t1_2357_hash.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.b and t0_2357_hash.c = t1_2357_hash.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.b and t0_2357_hash.d = t1_2357_hash.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.b and t0_2357_hash.a = t1_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.b and t0_2357_hash.b = t1_2357_repl.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.b and t0_2357_hash.c = t1_2357_repl.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.b and t0_2357_hash.d = t1_2357_repl.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.b and t0_2357_hash.a = t1_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.b and t0_2357_hash.b = t1_2357_repl.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.b and t0_2357_hash.c = t1_2357_repl.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.b and t0_2357_hash.d = t1_2357_repl.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.b and t0_2357_hash.a = t1_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.b and t0_2357_hash.b = t1_2357_repl.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.b and t0_2357_hash.c = t1_2357_repl.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.b and t0_2357_hash.d = t1_2357_repl.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.b and t0_2357_hash.a = t1_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.b and t0_2357_hash.b = t1_2357_random.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.b and t0_2357_hash.c = t1_2357_random.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.b and t0_2357_hash.d = t1_2357_random.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.b and t0_2357_hash.a = t1_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.b and t0_2357_hash.b = t1_2357_random.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.b and t0_2357_hash.c = t1_2357_random.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.b and t0_2357_hash.d = t1_2357_random.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.b and t0_2357_hash.a = t1_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.b and t0_2357_hash.b = t1_2357_random.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.b and t0_2357_hash.c = t1_2357_random.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.b and t0_2357_hash.d = t1_2357_random.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.b and t0_2357_repl.a = t1_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.b and t0_2357_repl.b = t1_2357_hash.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.b and t0_2357_repl.c = t1_2357_hash.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.b and t0_2357_repl.d = t1_2357_hash.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.b and t0_2357_repl.a = t1_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.b and t0_2357_repl.b = t1_2357_hash.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.b and t0_2357_repl.c = t1_2357_hash.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.b and t0_2357_repl.d = t1_2357_hash.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.b and t0_2357_repl.a = t1_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.b and t0_2357_repl.b = t1_2357_hash.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.b and t0_2357_repl.c = t1_2357_hash.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.b and t0_2357_repl.d = t1_2357_hash.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.b and t0_2357_repl.a = t1_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.b and t0_2357_repl.b = t1_2357_repl.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.b and t0_2357_repl.c = t1_2357_repl.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.b and t0_2357_repl.d = t1_2357_repl.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.b and t0_2357_repl.a = t1_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.b and t0_2357_repl.b = t1_2357_repl.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.b and t0_2357_repl.c = t1_2357_repl.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.b and t0_2357_repl.d = t1_2357_repl.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.b and t0_2357_repl.a = t1_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.b and t0_2357_repl.b = t1_2357_repl.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.b and t0_2357_repl.c = t1_2357_repl.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.b and t0_2357_repl.d = t1_2357_repl.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.b and t0_2357_repl.a = t1_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.b and t0_2357_repl.b = t1_2357_random.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.b and t0_2357_repl.c = t1_2357_random.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.b and t0_2357_repl.d = t1_2357_random.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.b and t0_2357_repl.a = t1_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.b and t0_2357_repl.b = t1_2357_random.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.b and t0_2357_repl.c = t1_2357_random.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.b and t0_2357_repl.d = t1_2357_random.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.b and t0_2357_repl.a = t1_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.b and t0_2357_repl.b = t1_2357_random.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.b and t0_2357_repl.c = t1_2357_random.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.b and t0_2357_repl.d = t1_2357_random.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.b and t0_2357_random.a = t1_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.b and t0_2357_random.b = t1_2357_hash.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.b and t0_2357_random.c = t1_2357_hash.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_hash where t1_2357_hash.a = t2_2357_hash.b and t0_2357_random.d = t1_2357_hash.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.b and t0_2357_random.a = t1_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.b and t0_2357_random.b = t1_2357_hash.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.b and t0_2357_random.c = t1_2357_hash.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_repl where t1_2357_hash.a = t2_2357_repl.b and t0_2357_random.d = t1_2357_hash.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.b and t0_2357_random.a = t1_2357_hash.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.b and t0_2357_random.b = t1_2357_hash.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.b and t0_2357_random.c = t1_2357_hash.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_hash.a))::int from t1_2357_hash, t2_2357_random where t1_2357_hash.a = t2_2357_random.b and t0_2357_random.d = t1_2357_hash.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.b and t0_2357_random.a = t1_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.b and t0_2357_random.b = t1_2357_repl.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.b and t0_2357_random.c = t1_2357_repl.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_hash where t1_2357_repl.a = t2_2357_hash.b and t0_2357_random.d = t1_2357_repl.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.b and t0_2357_random.a = t1_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.b and t0_2357_random.b = t1_2357_repl.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.b and t0_2357_random.c = t1_2357_repl.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_repl where t1_2357_repl.a = t2_2357_repl.b and t0_2357_random.d = t1_2357_repl.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.b and t0_2357_random.a = t1_2357_repl.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.b and t0_2357_random.b = t1_2357_repl.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.b and t0_2357_random.c = t1_2357_repl.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_repl.a))::int from t1_2357_repl, t2_2357_random where t1_2357_repl.a = t2_2357_random.b and t0_2357_random.d = t1_2357_repl.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.b and t0_2357_random.a = t1_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.b and t0_2357_random.b = t1_2357_random.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.b and t0_2357_random.c = t1_2357_random.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_hash.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_hash where t1_2357_random.a = t2_2357_hash.b and t0_2357_random.d = t1_2357_random.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.b and t0_2357_random.a = t1_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.b and t0_2357_random.b = t1_2357_random.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.b and t0_2357_random.c = t1_2357_random.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_repl.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_repl where t1_2357_random.a = t2_2357_repl.b and t0_2357_random.d = t1_2357_random.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.b and t0_2357_random.a = t1_2357_random.a) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.b and t0_2357_random.b = t1_2357_random.b) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.b and t0_2357_random.c = t1_2357_random.c) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a in (select (sum( t2_2357_random.b)::int/avg(t1_2357_random.a))::int from t1_2357_random, t2_2357_random where t1_2357_random.a = t2_2357_random.b and t0_2357_random.d = t1_2357_random.d) order by 1,2,3 limit 3;
</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span> testcase4 <span style="color:#960050;background-color:#1e0010">\</span>gset

<span style="color:#75715e">-- test start: case 6
</span><span style="color:#75715e">--3 层 关联子查询，关联12层
</span><span style="color:#75715e"></span><span style="color:#66d9ef">select</span> <span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_hash.a = t1_2357_hash.a and t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_hash.b = t1_2357_hash.b and t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_hash.c = t1_2357_hash.c and t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_hash.d = t1_2357_hash.d and t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_hash.a = t1_2357_hash.a and t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_hash.b = t1_2357_hash.b and t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_hash.c = t1_2357_hash.c and t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_hash.d = t1_2357_hash.d and t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_hash.a = t1_2357_hash.a and t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_hash.b = t1_2357_hash.b and t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_hash.c = t1_2357_hash.c and t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_hash.d = t1_2357_hash.d and t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_hash.a = t1_2357_repl.a and t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_hash.b = t1_2357_repl.b and t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_hash.c = t1_2357_repl.c and t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_hash.d = t1_2357_repl.d and t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_hash.a = t1_2357_repl.a and t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_hash.b = t1_2357_repl.b and t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_hash.c = t1_2357_repl.c and t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_hash.d = t1_2357_repl.d and t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_hash.a = t1_2357_repl.a and t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_hash.b = t1_2357_repl.b and t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_hash.c = t1_2357_repl.c and t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_hash.d = t1_2357_repl.d and t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_hash.a = t1_2357_random.a and t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_hash.b = t1_2357_random.b and t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_hash.c = t1_2357_random.c and t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_hash.d = t1_2357_random.d and t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_hash.a = t1_2357_random.a and t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_hash.b = t1_2357_random.b and t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_hash.c = t1_2357_random.c and t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_hash.d = t1_2357_random.d and t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_hash.a = t1_2357_random.a and t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_hash.b = t1_2357_random.b and t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_hash.c = t1_2357_random.c and t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_hash.d = t1_2357_random.d and t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_repl.a = t1_2357_hash.a and t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_repl.b = t1_2357_hash.b and t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_repl.c = t1_2357_hash.c and t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_repl.d = t1_2357_hash.d and t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_repl.a = t1_2357_hash.a and t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_repl.b = t1_2357_hash.b and t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_repl.c = t1_2357_hash.c and t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_repl.d = t1_2357_hash.d and t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_repl.a = t1_2357_hash.a and t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_repl.b = t1_2357_hash.b and t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_repl.c = t1_2357_hash.c and t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_repl.d = t1_2357_hash.d and t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_repl.a = t1_2357_repl.a and t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_repl.b = t1_2357_repl.b and t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_repl.c = t1_2357_repl.c and t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_repl.d = t1_2357_repl.d and t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_repl.a = t1_2357_repl.a and t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_repl.b = t1_2357_repl.b and t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_repl.c = t1_2357_repl.c and t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_repl.d = t1_2357_repl.d and t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_repl.a = t1_2357_repl.a and t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_repl.b = t1_2357_repl.b and t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_repl.c = t1_2357_repl.c and t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_repl.d = t1_2357_repl.d and t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_repl.a = t1_2357_random.a and t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_repl.b = t1_2357_random.b and t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_repl.c = t1_2357_random.c and t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_repl.d = t1_2357_random.d and t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_repl.a = t1_2357_random.a and t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_repl.b = t1_2357_random.b and t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_repl.c = t1_2357_random.c and t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_repl.d = t1_2357_random.d and t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_repl.a = t1_2357_random.a and t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_repl.b = t1_2357_random.b and t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_repl.c = t1_2357_random.c and t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_repl.d = t1_2357_random.d and t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_random.a = t1_2357_hash.a and t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_random.b = t1_2357_hash.b and t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_random.c = t1_2357_hash.c and t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_random.d = t1_2357_hash.d and t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_random.a = t1_2357_hash.a and t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_random.b = t1_2357_hash.b and t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_random.c = t1_2357_hash.c and t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_random.d = t1_2357_hash.d and t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_random.a = t1_2357_hash.a and t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_random.b = t1_2357_hash.b and t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_random.c = t1_2357_hash.c and t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t0_2357_random.d = t1_2357_hash.d and t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_random.a = t1_2357_repl.a and t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_random.b = t1_2357_repl.b and t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_random.c = t1_2357_repl.c and t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_random.d = t1_2357_repl.d and t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_random.a = t1_2357_repl.a and t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_random.b = t1_2357_repl.b and t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_random.c = t1_2357_repl.c and t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_random.d = t1_2357_repl.d and t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_random.a = t1_2357_repl.a and t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_random.b = t1_2357_repl.b and t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_random.c = t1_2357_repl.c and t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t0_2357_random.d = t1_2357_repl.d and t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_random.a = t1_2357_random.a and t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_random.b = t1_2357_random.b and t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_random.c = t1_2357_random.c and t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_random.d = t1_2357_random.d and t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_random.a = t1_2357_random.a and t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_random.b = t1_2357_random.b and t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_random.c = t1_2357_random.c and t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_random.d = t1_2357_random.d and t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_random.a = t1_2357_random.a and t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_random.b = t1_2357_random.b and t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_random.c = t1_2357_random.c and t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t0_2357_random.d = t1_2357_random.d and t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span> testcase6 <span style="color:#960050;background-color:#1e0010">\</span>gset

<span style="color:#75715e">-- test start: case 8
</span><span style="color:#75715e">--3 层 关联子查询，关联123层
</span><span style="color:#75715e"></span><span style="color:#66d9ef">select</span> <span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.a = t2_2357_hash.a and t1_2357_hash.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">-- explain this query, must be remote table query
</span><span style="color:#e6db74">explain (costs off) select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.a = t2_2357_hash.a and t1_2357_hash.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.b = t2_2357_hash.b and t1_2357_hash.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.c = t2_2357_hash.c and t1_2357_hash.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.d = t2_2357_hash.d and t1_2357_hash.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.a = t2_2357_repl.a and t1_2357_hash.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.b = t2_2357_repl.b and t1_2357_hash.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.c = t2_2357_repl.c and t1_2357_hash.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.d = t2_2357_repl.d and t1_2357_hash.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.a = t2_2357_random.a and t1_2357_hash.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.b = t2_2357_random.b and t1_2357_hash.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.c = t2_2357_random.c and t1_2357_hash.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.d = t2_2357_random.d and t1_2357_hash.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.a = t2_2357_hash.a and t1_2357_repl.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.b = t2_2357_hash.b and t1_2357_repl.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.c = t2_2357_hash.c and t1_2357_repl.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.d = t2_2357_hash.d and t1_2357_repl.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.a = t2_2357_repl.a and t1_2357_repl.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.b = t2_2357_repl.b and t1_2357_repl.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.c = t2_2357_repl.c and t1_2357_repl.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.d = t2_2357_repl.d and t1_2357_repl.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.a = t2_2357_random.a and t1_2357_repl.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.b = t2_2357_random.b and t1_2357_repl.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.c = t2_2357_random.c and t1_2357_repl.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.d = t2_2357_random.d and t1_2357_repl.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.a = t2_2357_hash.a and t1_2357_random.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.b = t2_2357_hash.b and t1_2357_random.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.c = t2_2357_hash.c and t1_2357_random.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_hash.d = t2_2357_hash.d and t1_2357_random.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.a = t2_2357_repl.a and t1_2357_random.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.b = t2_2357_repl.b and t1_2357_random.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.c = t2_2357_repl.c and t1_2357_random.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_hash.d = t2_2357_repl.d and t1_2357_random.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.a = t2_2357_random.a and t1_2357_random.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.b = t2_2357_random.b and t1_2357_random.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.c = t2_2357_random.c and t1_2357_random.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_hash where t0_2357_hash.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_hash.d = t2_2357_random.d and t1_2357_random.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.a = t2_2357_hash.a and t1_2357_hash.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.b = t2_2357_hash.b and t1_2357_hash.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.c = t2_2357_hash.c and t1_2357_hash.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.d = t2_2357_hash.d and t1_2357_hash.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.a = t2_2357_repl.a and t1_2357_hash.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.b = t2_2357_repl.b and t1_2357_hash.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.c = t2_2357_repl.c and t1_2357_hash.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.d = t2_2357_repl.d and t1_2357_hash.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.a = t2_2357_random.a and t1_2357_hash.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.b = t2_2357_random.b and t1_2357_hash.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.c = t2_2357_random.c and t1_2357_hash.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.d = t2_2357_random.d and t1_2357_hash.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.a = t2_2357_hash.a and t1_2357_repl.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.b = t2_2357_hash.b and t1_2357_repl.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.c = t2_2357_hash.c and t1_2357_repl.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.d = t2_2357_hash.d and t1_2357_repl.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.a = t2_2357_repl.a and t1_2357_repl.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.b = t2_2357_repl.b and t1_2357_repl.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.c = t2_2357_repl.c and t1_2357_repl.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.d = t2_2357_repl.d and t1_2357_repl.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.a = t2_2357_random.a and t1_2357_repl.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.b = t2_2357_random.b and t1_2357_repl.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.c = t2_2357_random.c and t1_2357_repl.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.d = t2_2357_random.d and t1_2357_repl.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.a = t2_2357_hash.a and t1_2357_random.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.b = t2_2357_hash.b and t1_2357_random.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.c = t2_2357_hash.c and t1_2357_random.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_repl.d = t2_2357_hash.d and t1_2357_random.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.a = t2_2357_repl.a and t1_2357_random.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.b = t2_2357_repl.b and t1_2357_random.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.c = t2_2357_repl.c and t1_2357_random.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_repl.d = t2_2357_repl.d and t1_2357_random.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.a = t2_2357_random.a and t1_2357_random.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.b = t2_2357_random.b and t1_2357_random.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.c = t2_2357_random.c and t1_2357_random.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_repl where t0_2357_repl.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_repl.d = t2_2357_random.d and t1_2357_random.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.a = t2_2357_hash.a and t1_2357_hash.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.b = t2_2357_hash.b and t1_2357_hash.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.c = t2_2357_hash.c and t1_2357_hash.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.d = t2_2357_hash.d and t1_2357_hash.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.a = t2_2357_repl.a and t1_2357_hash.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.b = t2_2357_repl.b and t1_2357_hash.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.c = t2_2357_repl.c and t1_2357_hash.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.d = t2_2357_repl.d and t1_2357_hash.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.a = t2_2357_random.a and t1_2357_hash.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.b = t2_2357_random.b and t1_2357_hash.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.c = t2_2357_random.c and t1_2357_hash.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_hash.b)::int from t1_2357_hash where t1_2357_hash.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.d = t2_2357_random.d and t1_2357_hash.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.a = t2_2357_hash.a and t1_2357_repl.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.b = t2_2357_hash.b and t1_2357_repl.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.c = t2_2357_hash.c and t1_2357_repl.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.d = t2_2357_hash.d and t1_2357_repl.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.a = t2_2357_repl.a and t1_2357_repl.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.b = t2_2357_repl.b and t1_2357_repl.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.c = t2_2357_repl.c and t1_2357_repl.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.d = t2_2357_repl.d and t1_2357_repl.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.a = t2_2357_random.a and t1_2357_repl.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.b = t2_2357_random.b and t1_2357_repl.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.c = t2_2357_random.c and t1_2357_repl.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_repl.b)::int from t1_2357_repl where t1_2357_repl.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.d = t2_2357_random.d and t1_2357_repl.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.a = t2_2357_hash.a and t1_2357_random.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.b = t2_2357_hash.b and t1_2357_random.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.c = t2_2357_hash.c and t1_2357_random.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_hash.a) from t2_2357_hash where t0_2357_random.d = t2_2357_hash.d and t1_2357_random.b = t2_2357_hash.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.a = t2_2357_repl.a and t1_2357_random.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.b = t2_2357_repl.b and t1_2357_random.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.c = t2_2357_repl.c and t1_2357_random.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_repl.a) from t2_2357_repl where t0_2357_random.d = t2_2357_repl.d and t1_2357_random.b = t2_2357_repl.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.a = t2_2357_random.a and t1_2357_random.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.b = t2_2357_random.b and t1_2357_random.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.c = t2_2357_random.c and t1_2357_random.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74">select * from t0_2357_random where t0_2357_random.a &gt;= (select avg(t1_2357_random.b)::int from t1_2357_random where t1_2357_random.a &lt;= (select sum(t2_2357_random.a) from t2_2357_random where t0_2357_random.d = t2_2357_random.d and t1_2357_random.b = t2_2357_random.a)) order by 1,2,3 limit 3;
</span><span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span> testcase8 <span style="color:#960050;background-color:#1e0010">\</span>gset


:droptable
:createtable
<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#66d9ef">set</span> ECHO queries

<span style="color:#75715e">-- test start 
</span><span style="color:#75715e"></span>

:testcase1
:testcase2
:testcase3
:testcase4
:testcase5
:testcase6
:testcase7
:testcase8

<span style="color:#75715e">-- should be There is no previous error.
</span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">\</span>errverbose


<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#66d9ef">set</span> ECHO <span style="color:#66d9ef">none</span>

:droptable

</code></pre></div>]]></content><category scheme="https://askyx.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93" term="%E6%95%B0%E6%8D%AE%E5%BA%93" label="数据库"/><category scheme="https://askyx.github.io/tags/postgres" term="postgres" label="Postgres"/><category scheme="https://askyx.github.io/tags/greenplum" term="greenplum" label="GreenPlum"/><category scheme="https://askyx.github.io/tags/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91" term="%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91" label="源码编译"/></entry><entry><title type="html">源码编译 OpenTenBase 速通版</title><link href="https://askyx.github.io/posts/build/" rel="alternate" type="text/html"/><id>https://askyx.github.io/posts/build/</id><published>2024-01-05T11:07:23+08:00</published><updated>2024-01-05T11:07:23+08:00</updated><content type="html"><![CDATA[<blockquote>docker OpenTenBase 源码编译</blockquote><h2 id="shell">shell</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
git clone --depth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> https://hub.fgit.cf/OpenTenBase/OpenTenBase.git


docker run  -itd  --name tbase --cap-add<span style="color:#f92672">=</span>SYS_PTRACE --privileged<span style="color:#f92672">=</span>true --hostname vscode --mount type<span style="color:#f92672">=</span>bind,source<span style="color:#f92672">=</span>/home/wen/OpenTenBase,target<span style="color:#f92672">=</span>/workspaces/OpenTenBase  runner  bash
docker exec -it -u vscode tbase bash

sudo service ssh start

ssh-keygen
cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys
chmod <span style="color:#ae81ff">700</span> ~/.ssh
chmod <span style="color:#ae81ff">644</span> ~/.ssh/authorized_keys

sudo chown vscode:vscode -R /workspaces/OpenTenBase


mkdir -p .build/making
mkdir .data

cd .build/making


/workspaces/OpenTenBase/configure --prefix<span style="color:#f92672">=</span>/home/vscode/.build --enable-user-switch --with-openssl --with-ossp-uuid --enable-alltype-distri CFLAGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-fgnu89-inline -g -O0&#34;</span>

make -j64 <span style="color:#f92672">&amp;&amp;</span> make install <span style="color:#f92672">&amp;&amp;</span> cd contrib <span style="color:#f92672">&amp;&amp;</span> make -j64 <span style="color:#f92672">&amp;&amp;</span> make install 

cd ~

mkdir pgxc_ctl
<span style="color:#75715e"># 写入下面的模板</span>
touch pgxc_ctl/pg.conf

<span style="color:#75715e"># ssh localhost</span>

pgxc_ctl -c pg.conf init all

createdb -p <span style="color:#ae81ff">6011</span> vscode




<span style="color:#75715e"># .bashrc 文件 此外，/home/vscode/.build/bin 需要写入到  /etc/environment</span>

cat &gt; /home/vscode/.bashrc <span style="color:#e6db74">&lt;&lt;EOF
</span><span style="color:#e6db74">export PATH=&#34;$PATH:/home/vscode/.build/bin&#34;
</span><span style="color:#e6db74">export LD_LIBRARY_PATH=&#34;$LD_LIBRARY_PATH:/home/vscode/.build/lib&#34;
</span><span style="color:#e6db74">export LC_ALL=C
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">alias psql=&#39;psql -p 6011&#39;
</span><span style="color:#e6db74">alias pstart=&#39;pgxc_ctl -c pg.conf start all&#39;
</span><span style="color:#e6db74">alias pstop=&#39;pgxc_ctl -c pg.conf stop all&#39;
</span><span style="color:#e6db74">alias sqps=&#34;echo &#39;USER         PID     PPID VSZ                  CMD&#39; ; ps -eo user,pid,ppid,vsize,cmd | grep -E &#39;postgres&#39; &#34;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">EOF</span>


</code></pre></div><h2 id="conf-file-pgconf">conf file (pg.conf)</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pgxcInstallDir<span style="color:#f92672">=</span>/home/vscode/.build

pgxcOwner<span style="color:#f92672">=</span>vscode
pgxcUser<span style="color:#f92672">=</span>$pgxcOwner
defaultDatabase<span style="color:#f92672">=</span>postgres
tmpDir<span style="color:#f92672">=</span>/tmp
localTmpDir<span style="color:#f92672">=</span>$tmpDir

<span style="color:#75715e">#------------------------ GTM  ---------------------</span>
gtmName<span style="color:#f92672">=</span>gtm
gtmMasterServer<span style="color:#f92672">=</span>vscode
gtmMasterPort<span style="color:#f92672">=</span><span style="color:#ae81ff">6006</span>
gtmMasterDir<span style="color:#f92672">=</span>/home/vscode/.data/gtm_master
gtmExtraConfig<span style="color:#f92672">=</span>none
gtmMasterSpecificExtraConfig<span style="color:#f92672">=</span>none

gtmSlave<span style="color:#f92672">=</span>n

<span style="color:#75715e">#------------------------ Coordinators ---------------------</span>
coordNames<span style="color:#f92672">=(</span>cn001 cn002<span style="color:#f92672">)</span>
coordMasterCluster<span style="color:#f92672">=(</span>vscode_cluster vscode_cluster<span style="color:#f92672">)</span>
coordPorts<span style="color:#f92672">=(</span><span style="color:#ae81ff">6011</span> 6012<span style="color:#f92672">)</span>
poolerPorts<span style="color:#f92672">=(</span><span style="color:#ae81ff">6111</span> 6112<span style="color:#f92672">)</span>
coordPgHbaEntries<span style="color:#f92672">=(</span>0.0.0.0/0<span style="color:#f92672">)</span>
coordMasterServers<span style="color:#f92672">=(</span>vscode vscode<span style="color:#f92672">)</span>
coordMasterDirs<span style="color:#f92672">=(</span>/home/vscode/.data/cn001 /home/vscode/.data/cn002<span style="color:#f92672">)</span>
coordMaxWALSenders<span style="color:#f92672">=(</span><span style="color:#ae81ff">10</span> 10<span style="color:#f92672">)</span>
coordSlave<span style="color:#f92672">=</span>n
coordSlaveSync<span style="color:#f92672">=</span>n
coordArchLogDirs<span style="color:#f92672">=(</span>/home/vscode/.data/archlog/cn001 /home/vscode/.data/archlog/cn002<span style="color:#f92672">)</span>

coordExtraConfig<span style="color:#f92672">=</span>coordExtraConfig
cat &gt; $coordExtraConfig <span style="color:#e6db74">&lt;&lt;EOF
</span><span style="color:#e6db74">#================================================
</span><span style="color:#e6db74"># Added to all the coordinator postgresql.conf
</span><span style="color:#e6db74"># Original: $coordExtraConfig
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">include_if_exists = &#39;/home/vscode/.data/global/global_vscode.conf&#39;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">wal_level = replica
</span><span style="color:#e6db74">wal_keep_segments = 256
</span><span style="color:#e6db74">max_wal_senders = 4
</span><span style="color:#e6db74">archive_mode = on
</span><span style="color:#e6db74">archive_timeout = 1800
</span><span style="color:#e6db74">archive_command = &#39;echo 0&#39;
</span><span style="color:#e6db74">log_truncate_on_rotation = on
</span><span style="color:#e6db74">log_filename = &#39;postgresql-%M.log&#39;
</span><span style="color:#e6db74">log_rotation_age = 4h
</span><span style="color:#e6db74">log_rotation_size = 100MB
</span><span style="color:#e6db74">hot_standby = on
</span><span style="color:#e6db74">wal_sender_timeout = 30min
</span><span style="color:#e6db74">wal_receiver_timeout = 30min
</span><span style="color:#e6db74">shared_buffers = 16384MB
</span><span style="color:#e6db74">max_pool_size = 2000
</span><span style="color:#e6db74">log_statement = &#39;ddl&#39;
</span><span style="color:#e6db74">log_destination = &#39;csvlog&#39;
</span><span style="color:#e6db74">logging_collector = on
</span><span style="color:#e6db74">log_directory = &#39;pg_log&#39;
</span><span style="color:#e6db74">listen_addresses = &#39;*&#39;
</span><span style="color:#e6db74">max_connections = 2000
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">EOF</span>

coordSpecificExtraConfig<span style="color:#f92672">=(</span>none none<span style="color:#f92672">)</span>
coordExtraPgHba<span style="color:#f92672">=</span>coordExtraPgHba
cat &gt; $coordExtraPgHba <span style="color:#e6db74">&lt;&lt;EOF
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">local   all             all                                     trust
</span><span style="color:#e6db74">host    all             all             0.0.0.0/0               trust
</span><span style="color:#e6db74">host    replication     all             0.0.0.0/0               trust
</span><span style="color:#e6db74">host    all             all             ::1/128                 trust
</span><span style="color:#e6db74">host    replication     all             ::1/128                 trust
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">EOF</span>

coordSpecificExtraPgHba<span style="color:#f92672">=(</span>none none<span style="color:#f92672">)</span>
coordAdditionalSlaves<span style="color:#f92672">=</span>n
cad1_Sync<span style="color:#f92672">=</span>n

<span style="color:#75715e">#------------------------ Datanodes ---------------------</span>
primaryDatanode<span style="color:#f92672">=</span>dn001
datanodeNames<span style="color:#f92672">=(</span>dn001 dn002 dn003<span style="color:#f92672">)</span>
datanodePorts<span style="color:#f92672">=(</span><span style="color:#ae81ff">6021</span> <span style="color:#ae81ff">6022</span> 6023<span style="color:#f92672">)</span>
datanodePoolerPorts<span style="color:#f92672">=(</span><span style="color:#ae81ff">6121</span> <span style="color:#ae81ff">6122</span> 6123<span style="color:#f92672">)</span>
datanodeMasterCluster<span style="color:#f92672">=(</span>vscode_cluster vscode_cluster vscode_cluster<span style="color:#f92672">)</span>
datanodePgHbaEntries<span style="color:#f92672">=(</span>0.0.0.0/0<span style="color:#f92672">)</span>
datanodeMasterServers<span style="color:#f92672">=(</span>vscode vscode vscode<span style="color:#f92672">)</span>
datanodeMasterDirs<span style="color:#f92672">=(</span>/home/vscode/.data/dn001 /home/vscode/.data/dn002 /home/vscode/.data/dn003<span style="color:#f92672">)</span>
datanodeMaxWALSenders<span style="color:#f92672">=(</span><span style="color:#ae81ff">10</span> <span style="color:#ae81ff">10</span> 10<span style="color:#f92672">)</span>
datanodeArchLogDirs<span style="color:#f92672">=(</span>/home/vscode/.data/archlog/dn001 /home/vscode/.data/archlog/dn002 /home/vscode/.data/archlog/dn003<span style="color:#f92672">)</span>

datanodeSlave<span style="color:#f92672">=</span>n

datanodeExtraConfig<span style="color:#f92672">=</span>datanodeExtraConfig
cat &gt; $datanodeExtraConfig <span style="color:#e6db74">&lt;&lt;EOF
</span><span style="color:#e6db74">#================================================
</span><span style="color:#e6db74"># Added to all the coordinator postgresql.conf
</span><span style="color:#e6db74"># Original: $datanodeExtraConfig
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">include_if_exists = &#39;/home/vscode/.data/global/global_vscode.conf&#39;
</span><span style="color:#e6db74">listen_addresses = &#39;*&#39;
</span><span style="color:#e6db74">wal_level = replica
</span><span style="color:#e6db74">wal_keep_segments = 256
</span><span style="color:#e6db74">max_wal_senders = 4
</span><span style="color:#e6db74">archive_mode = on
</span><span style="color:#e6db74">archive_timeout = 1800
</span><span style="color:#e6db74">archive_command = &#39;echo 0&#39;
</span><span style="color:#e6db74">log_directory = &#39;pg_log&#39;
</span><span style="color:#e6db74">logging_collector = on
</span><span style="color:#e6db74">log_truncate_on_rotation = on
</span><span style="color:#e6db74">log_filename = &#39;postgresql-%M.log&#39;
</span><span style="color:#e6db74">log_rotation_age = 4h
</span><span style="color:#e6db74">log_rotation_size = 100MB
</span><span style="color:#e6db74">hot_standby = on
</span><span style="color:#e6db74">wal_sender_timeout = 30min
</span><span style="color:#e6db74">wal_receiver_timeout = 30min
</span><span style="color:#e6db74">shared_buffers = 16384MB
</span><span style="color:#e6db74">max_connections = 4000
</span><span style="color:#e6db74">max_pool_size = 4000
</span><span style="color:#e6db74">log_statement = &#39;ddl&#39;
</span><span style="color:#e6db74">log_destination = &#39;csvlog&#39;
</span><span style="color:#e6db74">wal_buffers = 1GB
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">EOF</span>

datanodeSpecificExtraConfig<span style="color:#f92672">=(</span>none none<span style="color:#f92672">)</span>
datanodeExtraPgHba<span style="color:#f92672">=</span>datanodeExtraPgHba
cat &gt; $datanodeExtraPgHba <span style="color:#e6db74">&lt;&lt;EOF
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">local   all             all                                     trust
</span><span style="color:#e6db74">host    all             all             0.0.0.0/0               trust
</span><span style="color:#e6db74">host    replication     all             0.0.0.0/0               trust
</span><span style="color:#e6db74">host    all             all             ::1/128                 trust
</span><span style="color:#e6db74">host    replication     all             ::1/128                 trust
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">EOF</span>

datanodeSpecificExtraPgHba<span style="color:#f92672">=(</span>none none<span style="color:#f92672">)</span>
datanodeAdditionalSlaves<span style="color:#f92672">=</span>n
walArchive<span style="color:#f92672">=</span>n
</code></pre></div><h2 id="demo-sql">demo sql</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">
<span style="color:#66d9ef">select</span> <span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">drop table if exists t0;
</span><span style="color:#e6db74">drop table if exists t0_2357_hash;                drop table if exists t1_2357_hash;                  drop table if exists t2_2357_hash;
</span><span style="color:#e6db74">drop table if exists t0_2357_mod;                 drop table if exists t1_2357_mod;                   drop table if exists t2_2357_mod;
</span><span style="color:#e6db74">drop table if exists t0_2357_repl;                drop table if exists t1_2357_repl;                  drop table if exists t2_2357_repl;
</span><span style="color:#e6db74">drop table if exists t0_2357_round;               drop table if exists t1_2357_round;                 drop table if exists t2_2357_round;
</span><span style="color:#e6db74">drop table if exists t0_2357_random;              drop table if exists t1_2357_random;                drop table if exists t2_2357_random;
</span><span style="color:#e6db74">&#39;</span> droptable <span style="color:#960050;background-color:#1e0010">\</span>gset

<span style="color:#66d9ef">select</span> <span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">create table t0(a int, b int, c char(10), d timestamp);
</span><span style="color:#e6db74">insert into t0 values
</span><span style="color:#e6db74">(1,  1,  &#39;&#39;1&#39;&#39;,  &#39;&#39;2021-12-29 20:10:01&#39;&#39;),(2,  2,  &#39;&#39;2&#39;&#39;,  &#39;&#39;2022-12-29 20:10:01&#39;&#39;),(3,  3,  &#39;&#39;3&#39;&#39;,  &#39;&#39;2023-12-29 20:10:01&#39;&#39;),(4,  4,  &#39;&#39;4&#39;&#39;,  &#39;&#39;2024-12-29 20:10:01&#39;&#39;),
</span><span style="color:#e6db74">(5,  5,  &#39;&#39;5&#39;&#39;,  &#39;&#39;2025-12-29 20:10:01&#39;&#39;),(6,  6,  &#39;&#39;6&#39;&#39;,  &#39;&#39;2026-12-29 20:10:01&#39;&#39;),(7,  7,  &#39;&#39;7&#39;&#39;,  &#39;&#39;2027-12-29 20:10:01&#39;&#39;),(8,  8,  &#39;&#39;8&#39;&#39;,  &#39;&#39;2028-12-29 20:10:01&#39;&#39;),
</span><span style="color:#e6db74">(9,  9,  &#39;&#39;9&#39;&#39;,  &#39;&#39;2029-12-29 20:10:01&#39;&#39;),(10, 10, &#39;&#39;10&#39;&#39;, &#39;&#39;2010-12-29 20:10:01&#39;&#39;),(11, 11, &#39;&#39;11&#39;&#39;, &#39;&#39;2011-12-29 20:10:01&#39;&#39;),(12, 12, &#39;&#39;12&#39;&#39;, &#39;&#39;2012-12-29 20:10:01&#39;&#39;),
</span><span style="color:#e6db74">(13, 13, &#39;&#39;13&#39;&#39;, &#39;&#39;2013-12-29 20:10:01&#39;&#39;),(14, 14, &#39;&#39;14&#39;&#39;, &#39;&#39;2014-12-29 20:10:01&#39;&#39;),(15, 15, &#39;&#39;15&#39;&#39;, &#39;&#39;2015-12-29 20:10:01&#39;&#39;),(16, 16, &#39;&#39;16&#39;&#39;, &#39;&#39;2016-12-29 20:10:01&#39;&#39;),
</span><span style="color:#e6db74">(17, 17, &#39;&#39;17&#39;&#39;, &#39;&#39;2017-12-29 20:10:01&#39;&#39;),(18, 18, &#39;&#39;18&#39;&#39;, &#39;&#39;2018-12-29 20:10:01&#39;&#39;),(19, 19, &#39;&#39;19&#39;&#39;, &#39;&#39;2019-12-29 20:10:01&#39;&#39;),(20, 20, &#39;&#39;20&#39;&#39;, &#39;&#39;2020-12-29 20:10:01&#39;&#39;);
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">create table t0_2357_hash   (a int, b int, c char(10), d timestamp) DISTRIBUTE by hash (a);
</span><span style="color:#e6db74">create table t0_2357_mod    (a int, b int, c char(10), d timestamp) DISTRIBUTE by modulo(a);
</span><span style="color:#e6db74">create table t0_2357_repl   (a int, b int, c char(10), d timestamp) DISTRIBUTE by REPLICATION;
</span><span style="color:#e6db74">create table t0_2357_round  (a int, b int, c char(10), d timestamp) DISTRIBUTE by roundrobin;
</span><span style="color:#e6db74">create table t0_2357_random (a int, b int, c char(10), d timestamp) DISTRIBUTED RANDOMLY;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">create table t1_2357_hash   (a int, b int, c char(10), d timestamp) DISTRIBUTE by hash (a);
</span><span style="color:#e6db74">create table t1_2357_mod    (a int, b int, c char(10), d timestamp) DISTRIBUTE by modulo(a);
</span><span style="color:#e6db74">create table t1_2357_repl   (a int, b int, c char(10), d timestamp) DISTRIBUTE by REPLICATION;
</span><span style="color:#e6db74">create table t1_2357_round  (a int, b int, c char(10), d timestamp) DISTRIBUTE by roundrobin;
</span><span style="color:#e6db74">create table t1_2357_random (a int, b int, c char(10), d timestamp) DISTRIBUTED RANDOMLY;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">create table t2_2357_hash   (a int, b int, c char(10), d timestamp) DISTRIBUTE by hash (a);
</span><span style="color:#e6db74">create table t2_2357_mod    (a int, b int, c char(10), d timestamp) DISTRIBUTE by modulo(a);
</span><span style="color:#e6db74">create table t2_2357_repl   (a int, b int, c char(10), d timestamp) DISTRIBUTE by REPLICATION;
</span><span style="color:#e6db74">create table t2_2357_round  (a int, b int, c char(10), d timestamp) DISTRIBUTE by roundrobin;
</span><span style="color:#e6db74">create table t2_2357_random (a int, b int, c char(10), d timestamp) DISTRIBUTED RANDOMLY;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">insert into t0_2357_hash select * from t0;
</span><span style="color:#e6db74">insert into t0_2357_mod select * from t0;
</span><span style="color:#e6db74">insert into t0_2357_repl select * from t0;
</span><span style="color:#e6db74">insert into t0_2357_round select * from t0;
</span><span style="color:#e6db74">insert into t0_2357_random select * from t0;
</span><span style="color:#e6db74">insert into t1_2357_hash select * from t0;
</span><span style="color:#e6db74">insert into t1_2357_mod select * from t0;
</span><span style="color:#e6db74">insert into t1_2357_repl select * from t0;
</span><span style="color:#e6db74">insert into t1_2357_round select * from t0;
</span><span style="color:#e6db74">insert into t1_2357_random select * from t0;
</span><span style="color:#e6db74">insert into t2_2357_hash select * from t0;
</span><span style="color:#e6db74">insert into t2_2357_mod select * from t0;
</span><span style="color:#e6db74">insert into t2_2357_repl select * from t0;
</span><span style="color:#e6db74">insert into t2_2357_round select * from t0;
</span><span style="color:#e6db74">insert into t2_2357_random select * from t0;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">vacuum analyze t0_2357_hash;                vacuum analyze t1_2357_hash;                vacuum analyze t2_2357_hash;
</span><span style="color:#e6db74">vacuum analyze t0_2357_mod;                 vacuum analyze t1_2357_mod;                 vacuum analyze t2_2357_mod;
</span><span style="color:#e6db74">vacuum analyze t0_2357_repl;                vacuum analyze t1_2357_repl;                vacuum analyze t2_2357_repl;
</span><span style="color:#e6db74">vacuum analyze t0_2357_round;               vacuum analyze t1_2357_round;               vacuum analyze t2_2357_round;
</span><span style="color:#e6db74">vacuum analyze t0_2357_random;              vacuum analyze t1_2357_random;              vacuum analyze t2_2357_random;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&#39;</span> createtable <span style="color:#960050;background-color:#1e0010">\</span>gset



</code></pre></div>]]></content><category scheme="https://askyx.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93" term="%E6%95%B0%E6%8D%AE%E5%BA%93" label="数据库"/><category scheme="https://askyx.github.io/tags/postgres" term="postgres" label="Postgres"/><category scheme="https://askyx.github.io/tags/opentenbase" term="opentenbase" label="OpenTenBase"/><category scheme="https://askyx.github.io/tags/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91" term="%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91" label="源码编译"/></entry><entry><title type="html">源码编译环境准备文件</title><link href="https://askyx.github.io/posts/env_common/" rel="alternate" type="text/html"/><id>https://askyx.github.io/posts/env_common/</id><published>2024-01-05T09:07:23+08:00</published><updated>2024-01-05T09:07:23+08:00</updated><content type="html"><![CDATA[<blockquote>docker 源码编译 dockerfile 模板</blockquote><h2 id="docker-file">docker file</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Dockerfile" data-lang="Dockerfile"><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">FROM</span><span style="color:#e6db74"> ubuntu</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">LABEL</span> description<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;build xxxxx regress env&#34;</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># x86_64</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> sed -i s@/archive.ubuntu.com/@/mirrors.aliyun.com/@g /etc/apt/sources.list<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># arm</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> sed -i s@/ports.ubuntu.com/@/mirrors.tuna.tsinghua.edu.cn/@g /etc/apt/sources.list<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> sed -i s@/security.ubuntu.com/@/mirrors.tuna.tsinghua.edu.cn/@g /etc/apt/sources.list<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> apt-get update <span style="color:#f92672">&amp;&amp;</span> apt-get upgrade -y <span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> apt-get install -y flex bison g++ gcc gdb make libzstd-dev libxml2-dev libcurl4-openssl-dev vim libbz2-dev libperl-dev software-properties-common  <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    pkg-config libreadline-dev python3-dev libldap-dev zlib1g-dev openssh-server iputils-ping libxslt-dev libpam-dev libssl-dev libreadline6-dev <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    libssh2-1-dev cmake ninja-build sudo locales <span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># GP</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># libkrb5-dev krb5-config iproute2 libossp-uuid-dev libapr1-dev libyaml-dev libxerces-c-dev less rsync pip</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># RUN pip install gssapi psycopg2 psutil -i https://pypi.tuna.tsinghua.edu.cn/simple</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> sudo locale-gen en_US.UTF-8<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> apt-get clean <span style="color:#f92672">&amp;&amp;</span>  apt-get autoclean<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> useradd -ms /bin/bash vscode <span style="color:#f92672">&amp;&amp;</span> echo <span style="color:#e6db74">&#39;vscode ALL=(ALL) NOPASSWD:ALL&#39;</span> &gt;&gt; /etc/sudoers<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> echo <span style="color:#e6db74">&#39;export LANG=en_US.utf8&#39;</span> &gt;&gt; /home/vscode/.bashrc<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">USER</span><span style="color:#e6db74"> vscode</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><h2 id="shell">shell</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
docker build -f Dockerfile -t runner .

docker run  -itd  --name xx_name --hostname vscode --mount type<span style="color:#f92672">=</span>bind,source<span style="color:#f92672">=</span>/home/asky/xx_source,target<span style="color:#f92672">=</span>/workspaces/xx_target  runner  bash
docker exec -it -u vscode xx_name bash


</code></pre></div>]]></content><category scheme="https://askyx.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93" term="%E6%95%B0%E6%8D%AE%E5%BA%93" label="数据库"/><category scheme="https://askyx.github.io/tags/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91" term="%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91" label="源码编译"/></entry><entry><title type="html">名词一行解释</title><link href="https://askyx.github.io/posts/one_line/" rel="alternate" type="text/html"/><id>https://askyx.github.io/posts/one_line/</id><published>2023-12-21T16:28:35+08:00</published><updated>2023-12-21T16:28:35+08:00</updated><content type="html"><![CDATA[<blockquote>重点名词解释，不一定是不知道，只是一下子想不起来，有个提示可以辅助回忆，自用</blockquote><h2 id="操作系统">操作系统</h2>
<ul>
<li>NUMA
<ul>
<li>多核架构中CPU通过BUS访问RAM，所以有了距离上的区别，带来了速度上的差距，NUMA 通过划分RAM和CPU为不同的node，通过配置不同的程序运行策略来解决此问题</li>
<li>由于默认策略为优先使用同一个node，所以<a href="https://blog.jcole.us/2010/09/28/mysql-swap-insanity-and-the-numa-architecture/" target="_blank" rel="noopener nofollow noreferrer" >Mysql</a> 在使用大量内存的时候，内存占用多个node，导致内存频繁swap</li>
</ul>
</li>
</ul>
<h2 id="数据库">数据库</h2>
<ul>
<li>
<p>解释执行</p>
</li>
<li>
<p>编译执行</p>
<ul>
<li>避免物化</li>
<li>消除虚函数的跳转执行</li>
</ul>
</li>
<li>
<p>向量化</p>
</li>
<li>
<p>Adaptive Execution of Compiled Queries</p>
<ul>
<li>先解释执行，同时异步编译， 执行完部分数据之后， 再检测是否需要编译执行</li>
</ul>
</li>
<li>
<p>pipeline</p>
<ul>
<li>部分表达式是非阻塞的，不需要物化(从寄存器替换出去)，使用codegen编译为一个完整的执行流程</li>
</ul>
</li>
</ul>
]]></content></entry><entry><title type="html">cmake 速查模板</title><link href="https://askyx.github.io/posts/cmake/" rel="alternate" type="text/html"/><id>https://askyx.github.io/posts/cmake/</id><published>2023-08-09T17:34:54+08:00</published><updated>2023-08-09T17:34:54+08:00</updated><content type="html"><![CDATA[<blockquote>cmake 速查模板，自用</blockquote><h2 id="cmake-速记模板">cmake 速记模板</h2>
<h3 id="添加第三方库">添加第三方库</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++">
include(FetchContent)
function(get_third_dep dep_name dep_url dep_tag)
  FetchContent_Declare(<span style="color:#960050;background-color:#1e0010">$</span>{dep_name}
    QUIET
    SOURCE_DIR <span style="color:#960050;background-color:#1e0010">$</span>{CMAKE_BINARY_DIR}<span style="color:#f92672">/</span>_deps<span style="color:#f92672">/</span>src<span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">$</span>{dep_name}
    BINARY_DIR <span style="color:#960050;background-color:#1e0010">$</span>{CMAKE_BINARY_DIR}<span style="color:#f92672">/</span>_deps<span style="color:#f92672">/</span>build<span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">$</span>{dep_name}
    SUBBUILD_DIR <span style="color:#960050;background-color:#1e0010">$</span>{CMAKE_BINARY_DIR}<span style="color:#f92672">/</span>_deps<span style="color:#f92672">/</span>sub<span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">$</span>{dep_name}
    GIT_REPOSITORY <span style="color:#960050;background-color:#1e0010">$</span>{dep_url}
    GIT_TAG <span style="color:#960050;background-color:#1e0010">$</span>{dep_tag}
    GIT_PROGRESS TRUE
    GIT_SHALLOW TRUE
  )
  FetchContent_MakeAvailable(<span style="color:#960050;background-color:#1e0010">$</span>{dep_name})
endfunction(get_third_dep)

get_third_dep(spdlog https:<span style="color:#75715e">//ghproxy.com/https://github.com/gabime/spdlog.git v1.11.0)
</span><span style="color:#75715e"></span>get_third_dep(googletest https:<span style="color:#75715e">//ghproxy.com/https://github.com/google/googletest.git release-1.12.1)
</span><span style="color:#75715e"></span>get_third_dep(asio https:<span style="color:#75715e">//ghproxy.com/https://github.com/chriskohlhoff/asio.git asio-1-28-0)
</span><span style="color:#75715e"></span>
<span style="color:#75715e"># 添加 head only 库
</span><span style="color:#75715e"></span>add_library(asio INTERFACE)
target_include_directories(asio
  INTERFACE <span style="color:#960050;background-color:#1e0010">$</span>{CMAKE_BINARY_DIR}<span style="color:#f92672">/</span>_deps<span style="color:#f92672">/</span>src<span style="color:#f92672">/</span>asio<span style="color:#f92672">/</span>asio<span style="color:#f92672">/</span>include
)
target_compile_definitions(asio
  INTERFACE
    ASIO_STANDALONE
    ASIO_NO_DEPRECATED
)
target_link_libraries(asio
    INTERFACE pthread
)

</code></pre></div><h3 id="添加-yacc-lex-编译">添加 yacc lex 编译</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++">find_package(FLEX REQUIRED)
find_package(BISON <span style="color:#ae81ff">3.5.0</span> REQUIRED)

bison_target(parser
    <span style="color:#960050;background-color:#1e0010">$</span>{PROJECT_SOURCE_DIR}<span style="color:#f92672">/</span>src<span style="color:#f92672">/</span>parser<span style="color:#f92672">/</span>parser.yy
    <span style="color:#960050;background-color:#1e0010">$</span>{PROJECT_SOURCE_DIR}<span style="color:#f92672">/</span>src<span style="color:#f92672">/</span>parser<span style="color:#f92672">/</span>parser.cpp
    <span style="color:#75715e"># DEFINES_FILE ${PROJECT_SOURCE_DIR}/src/include</span><span style="color:#75715e">/parser/parser.hpp</span><span style="color:#75715e">
</span><span style="color:#75715e"></span>    COMPILE_FLAGS <span style="color:#960050;background-color:#1e0010">$</span>{bison_flags})

flex_target(scanner
  <span style="color:#960050;background-color:#1e0010">$</span>{PROJECT_SOURCE_DIR}<span style="color:#f92672">/</span>src<span style="color:#f92672">/</span>parser<span style="color:#f92672">/</span>scanner.lex
  <span style="color:#960050;background-color:#1e0010">$</span>{PROJECT_SOURCE_DIR}<span style="color:#f92672">/</span>src<span style="color:#f92672">/</span>parser<span style="color:#f92672">/</span>scanner.cpp)

ADD_FLEX_BISON_DEPENDENCY(scanner parser)

add_library(ASKY_lib
  SHARED
    <span style="color:#960050;background-color:#1e0010">$</span>{ASKY_SRC}
    <span style="color:#960050;background-color:#1e0010">$</span>{BISON_parser_OUTPUTS}
    <span style="color:#960050;background-color:#1e0010">$</span>{FLEX_scanner_OUTPUTS}
)

</code></pre></div><h3 id="添加单元测试">添加单元测试</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++">function(add_cosmos_test test_name test_file)
  add_executable(<span style="color:#960050;background-color:#1e0010">$</span>{test_name} <span style="color:#960050;background-color:#1e0010">$</span>{test_file})
  target_link_libraries(<span style="color:#960050;background-color:#1e0010">$</span>{test_name} PRIVATE gtest gtest_main ASKY_lib)
  add_test(NAME <span style="color:#960050;background-color:#1e0010">$</span>{test_name} COMMAND <span style="color:#960050;background-color:#1e0010">$</span>{test_name})
endfunction(add_cosmos_test)

foreach(TEST_SOURCE_FILE <span style="color:#960050;background-color:#1e0010">$</span>{ASKY_TEST_SRC})
  file(RELATIVE_PATH ASKY_TEST_CPP_REL <span style="color:#e6db74">&#34;${PROJECT_SOURCE_DIR}/test&#34;</span> <span style="color:#960050;background-color:#1e0010">$</span>{TEST_SOURCE_FILE})
  get_filename_component(NOISEPAGE_TEST_DIR <span style="color:#960050;background-color:#1e0010">$</span>{ASKY_TEST_CPP_REL} DIRECTORY)
  get_filename_component(NOISEPAGE_TEST <span style="color:#960050;background-color:#1e0010">$</span>{TEST_SOURCE_FILE} NAME_WE)

  add_cosmos_test(<span style="color:#960050;background-color:#1e0010">$</span>{NOISEPAGE_TEST} <span style="color:#960050;background-color:#1e0010">$</span>{TEST_SOURCE_FILE})
endforeach()

</code></pre></div><h3 id="添加-自定义-command">添加 自定义 command</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#75715e"># clang-format
</span><span style="color:#75715e"></span>add_custom_target(format
  COMMAND git diff <span style="color:#f92672">--</span>name<span style="color:#f92672">-</span>only <span style="color:#f92672">--</span>diff<span style="color:#f92672">-</span>filter<span style="color:#f92672">=</span>d <span style="color:#f92672">--</span>cached <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#f92672">*</span>.cpp<span style="color:#e6db74">&#39; &#39;</span><span style="color:#f92672">*</span>.h<span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#f92672">|</span> xargs clang<span style="color:#f92672">-</span>format <span style="color:#f92672">-</span>i
  WORKING_DIRECTORY <span style="color:#960050;background-color:#1e0010">$</span>{PROJECT_SOURCE_DIR}
)

</code></pre></div><h3 id="cmake-option">cmake option</h3>
<ul>
<li><code>option</code> 会缓存在cache 中，直接修改cmake文件不会立刻生效，可以手动 cmake 使用 <code>-D</code> 指定
<code>cmake .. -DENABLE_ASAN=OFF</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++">option(ENABLE_ASAN          <span style="color:#e6db74">&#34;enable asna check&#34;</span>         ON)
option(ENABLE_TEST          <span style="color:#e6db74">&#34;enable regress&#34;</span>            OFF)
option(ENABLE_COVERAGE      <span style="color:#e6db74">&#34;enable coverage&#34;</span>           OFF)
option(ENABLE_PARSER_TRACE  <span style="color:#e6db74">&#34;enable sql parser trace&#34;</span>   ON)

<span style="color:#66d9ef">if</span> (<span style="color:#960050;background-color:#1e0010">$</span>{ENABLE_ASAN})
    list(APPEND COMPILE_OPTIONS <span style="color:#e6db74">&#34;-fsanitize=address&#34;</span> <span style="color:#e6db74">&#34;-fno-omit-frame-pointer&#34;</span> <span style="color:#e6db74">&#34;-fno-optimize-sibling-calls&#34;</span>)
    list(APPEND LINK_OPTIONS <span style="color:#e6db74">&#34;-fsanitize=address&#34;</span>)
endif ()
message(STATUS <span style="color:#e6db74">&#34;ASAN: ${ENABLE_ASAN}&#34;</span>)

</code></pre></div>]]></content><category scheme="https://askyx.github.io/tags/c/c++" term="c/c++" label="C/C++"/><category scheme="https://askyx.github.io/tags/cmake" term="cmake" label="cmake"/><category scheme="https://askyx.github.io/tags/%E6%A8%A1%E6%9D%BF%E5%BA%93" term="%E6%A8%A1%E6%9D%BF%E5%BA%93" label="模板库"/></entry></feed>