"use strict";document.addEventListener("alpine:init",function(){Alpine.store("darkMode",{init:function(){var t=this,n=window.localStorage.getItem("hugo-theme-dream-is-dark");n?this.on=n:(this.mql.addEventListener("change",function(e){t.on=e.matches?"y":"n"}),this.on="auto"),setTimeout(function(){t.setThemeForUtterances()},6e3)},mql:window.matchMedia("(prefers-color-scheme: dark)"),on:"n",isDark:function(){return this.on==="auto"?this.mql.matches:this.on==="y"},class:function(){return this.on==="auto"?this.mql.matches?"dark":"light":this.on==="y"?"dark":"light"},theme:function(){return this.on==="auto"?this.mql.matches?window.darkTheme:window.lightTheme:this.on==="y"?window.darkTheme:window.lightTheme},iconMap:{n:"sunny",y:"moon",auto:"desktop"},icon:function(){return this.iconMap[this.on]},toggle:function(t){this.on=t,t==="auto"?window.localStorage.removeItem("hugo-theme-dream-is-dark"):window.localStorage.setItem("hugo-theme-dream-is-dark",t),this.setThemeForUtterances(),this.changeSyntaxHighlightingTheme()},changeSyntaxHighlightingTheme:function(){if(document.querySelector("#dream-single-post-main")){var t=this.isDark()?window.customSyntaxHighlighting.dark:window.customSyntaxHighlighting.light;document.querySelector("link[data-custom-syntax-highlighting]").setAttribute("href",t)}},setThemeForUtterances:function(){var t=document.querySelector("iframe.utterances-frame");t&&t.contentWindow.postMessage({type:"set-theme",theme:this.isDark()?"github-dark":"github-light"},"https://utteranc.es")}})})