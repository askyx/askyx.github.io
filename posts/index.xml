<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on Esoye</title><link>https://askyx.github.io/posts/</link><description>Recent content in Posts on Esoye</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Wed, 09 Aug 2023 17:34:54 +0800</lastBuildDate><atom:link href="https://askyx.github.io/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>cmake é€ŸæŸ¥æ¨¡æ¿</title><link>https://askyx.github.io/posts/others/cmake/</link><pubDate>Wed, 09 Aug 2023 17:34:54 +0800</pubDate><guid>https://askyx.github.io/posts/others/cmake/</guid><description>
cmake é€ŸæŸ¥æ¨¡æ¿ï¼Œè‡ªç”¨</description></item><item><title>Postgres æŠ€æœ¯å†…å¹•ï¼ŒOptimizerè¿‡ç¨‹åˆ†æ</title><link>https://askyx.github.io/posts/postgres/optimizer/</link><pubDate>Mon, 08 May 2023 11:33:02 +0800</pubDate><guid>https://askyx.github.io/posts/postgres/optimizer/</guid><description>
æ·±åº¦ä¼˜åŒ–æ¢ç´¢æ–‡ç« çš„è¯»ä¹¦ç¬”è®°</description></item><item><title>å®ä½¿ç”¨æ¨¡æ¿é€ŸæŸ¥</title><link>https://askyx.github.io/posts/postgres/defineinc/</link><pubDate>Wed, 22 Feb 2023 14:00:48 +0800</pubDate><guid>https://askyx.github.io/posts/postgres/defineinc/</guid><description>
å®æ¨¡æ¿ï¼Œè‡ªç”¨</description></item><item><title>æ‰§è¡Œè®¡åˆ’ä»£ä»·è®¡ç®—è§„åˆ™æ¢³ç†</title><link>https://askyx.github.io/posts/postgres/cost/</link><pubDate>Fri, 17 Feb 2023 09:38:28 +0800</pubDate><guid>https://askyx.github.io/posts/postgres/cost/</guid><description>
pgä¸­å„ä¸ªç®—å­çš„ä»£ä»·è®¡ç®—</description></item><item><title>Postgres Executor</title><link>https://askyx.github.io/posts/postgres/postgres_executor/</link><pubDate>Fri, 10 Feb 2023 09:26:50 +0800</pubDate><guid>https://askyx.github.io/posts/postgres/postgres_executor/</guid><description>
Postgres æ‰§è¡Œå™¨ åŠå…¶æ‰©å±• æ€»ç»“</description></item><item><title>äº‹åŠ¡çŸ¥è¯†ç®€è®°</title><link>https://askyx.github.io/posts/postgres/tx/</link><pubDate>Wed, 08 Feb 2023 09:58:09 +0800</pubDate><guid>https://askyx.github.io/posts/postgres/tx/</guid><description>
äº‹åŠ¡åˆ†æè®°å½•ï¼Œæºç åˆ†æï¼Œå…³é”®æŠ€æœ¯ç‚¹ç®€è®°ï¼Œå”¬äººä¸“ç”¨</description></item><item><title>Bison Note</title><link>https://askyx.github.io/posts/course/15441/note/</link><pubDate>Thu, 17 Nov 2022 14:34:14 +0800</pubDate><guid>https://askyx.github.io/posts/course/15441/note/</guid><description>
bison æ–‡æ¡£é‡ç‚¹è®°å½•</description></item><item><title>Libpqxx</title><link>https://askyx.github.io/posts/readcode/libpqxx/</link><pubDate>Tue, 08 Nov 2022 14:35:50 +0800</pubDate><guid>https://askyx.github.io/posts/readcode/libpqxx/</guid><description>
libpqxxåˆ†æ</description></item><item><title>å†…å­˜ç®¡ç†</title><link>https://askyx.github.io/posts/postgres/memctx/</link><pubDate>Tue, 01 Nov 2022 12:01:31 +0800</pubDate><guid>https://askyx.github.io/posts/postgres/memctx/</guid><description>
å†…å­˜ä¸Šä¸‹æ–‡ # https://smartkeyerror.com/PostgreSQL-MemoryContext æºç ä¸»è¦åœ¨mctx.cä¸­ï¼Œä¸»è¦æ˜¯ç›®çš„æ˜¯è®¾ç½®å·¥ä½œç©ºé—´ï¼Œé¿å…é‡å¤çš„åœ¨ç³»ç»Ÿä¸Šç”³è¯·èµ„æºï¼Œä¸”ä¸ºäº†é¿å…å¼‚å¸¸æƒ…å†µä¸‹çš„å†…å­˜æ³„éœ²é—®é¢˜ï¼Œæ‰€ä»¥å®ç°äº†å†…å­˜ä¸Šä¸‹æ–‡
ç›®å‰æœ‰ä¸‰ç§åº•å±‚çš„å®ç° AllocSet(å¸¸è§„çš„å†…å­˜åˆ†é…æœºåˆ¶ï¼Œå…ˆåˆ†é…blockï¼Œä¹‹åå†ä»blockä¸Šåˆ†é…chunkï¼Œåˆ†é…å¾—å†…å­˜ä¸€èˆ¬ä¸ä¼šé‡Šæ”¾ï¼Œè€Œæ˜¯ä½¿ç”¨ç©ºé—²é“¾è¡¨ç®¡ç†) Generation(æ–°åŠ ï¼Œå†…å­˜ç”Ÿå‘½å‘¨æœŸç›¸è¿‘çš„æ—¶å€™ä½¿ç”¨ï¼Œç›®å‰åªåœ¨gist å’Œ replication æ¨¡å—ä½¿ç”¨) Slab(åˆ†é…å¤§å°ç­‰å¤§çš„chunkï¼Œç›®å‰åªåœ¨replication æ¨¡å—ä½¿ç”¨) æ›´å¤šçš„æ˜¯å› ä¸ºé¢‘ç¹çš„mallocä¼šå¯¼è‡´å†…å­˜ç¢ç‰‡ï¼Œä¸”ç”±äºmallocéœ€è¦é¢å¤–çš„ç©ºé—´è®°å½•headå’Œfootçš„ä½ç½®ï¼Œæ‰€ä»¥è¿˜å­˜åœ¨çš„é—®é¢˜å°±æ˜¯ç©ºé—´çš„æµªè´¹ï¼Œå¦å¤–æœ€å¤§çš„é—®é¢˜æ˜¯å†…å­˜æ³„æ¼é—®é¢˜ï¼Œä½¿ç”¨æŒ‡é’ˆåœ¨æ–¹æ³•é—´ä¼ é€’ä¸å®¹æ˜“ç®¡ç† å¤§æ¦‚ç±»ä¼¼c++çš„å†…å­˜ç®¡ç†æ–¹æ³•ï¼ŒæŠŠ #</description></item><item><title>RocksDBæºç åˆ†æ</title><link>https://askyx.github.io/posts/readcode/rocksdb/</link><pubDate>Fri, 21 Oct 2022 16:38:26 +0800</pubDate><guid>https://askyx.github.io/posts/readcode/rocksdb/</guid><description>
RocksDB æºç æ€»ç»“åˆ†æ</description></item><item><title>postgres Parser</title><link>https://askyx.github.io/posts/postgres/parser/</link><pubDate>Mon, 10 Oct 2022 12:03:18 +0800</pubDate><guid>https://askyx.github.io/posts/postgres/parser/</guid><description>
Postgres parser æ¨¡å—è§£æï¼Œç›®çš„æ˜¯ä¸ºäº†å­¦ä¹ parserå®ç°æœºåˆ¶ã€‚ç¼–è¯‘åŸç†ä»¥åŠbisonå’Œflexçš„ä½¿ç”¨</description></item><item><title>Locks</title><link>https://askyx.github.io/posts/postgres/locks/</link><pubDate>Wed, 28 Sep 2022 15:42:18 +0800</pubDate><guid>https://askyx.github.io/posts/postgres/locks/</guid><description>
PG ä¸­é”çš„åˆ†æ</description></item><item><title>vacuum å’Œ analyze è¿‡ç¨‹åˆ†æ</title><link>https://askyx.github.io/posts/postgres/vacuum/</link><pubDate>Mon, 26 Sep 2022 16:37:37 +0800</pubDate><guid>https://askyx.github.io/posts/postgres/vacuum/</guid><description>
AntDB VACUUM æµç¨‹</description></item><item><title>Greenplum</title><link>https://askyx.github.io/posts/postgres/greenplum/</link><pubDate>Wed, 10 Aug 2022 20:22:49 +0800</pubDate><guid>https://askyx.github.io/posts/postgres/greenplum/</guid><description>
GreenPlumä¼˜åŒ–å™¨å’Œæ‰§è¡Œå™¨çš„æºç è°ƒç ”</description></item><item><title>Postgres Optimizer</title><link>https://askyx.github.io/posts/postgres/opt/</link><pubDate>Fri, 22 Jul 2022 09:24:24 +0800</pubDate><guid>https://askyx.github.io/posts/postgres/opt/</guid><description>
æœ¬æ–‡ä»æºç çº§åˆ«è¿›è¡Œä¼˜åŒ–å™¨çš„åˆ†æï¼Œå¯¹Postgresä¼˜åŒ–å™¨ä»£ç è°ƒç ”ï¼Œå…·ä½“åŒ…æ‹¬ä»–çš„æ•°æ®ç»“æ„ï¼Œä»¥åŠå…·ä½“çš„ä»£ç æ¶æ„å®ç°ä»¥åŠæ ¸å¿ƒç®—æ³•ç­‰</description></item><item><title>Postgres Storage</title><link>https://askyx.github.io/posts/postgres/storage/</link><pubDate>Thu, 21 Jul 2022 09:15:05 +0800</pubDate><guid>https://askyx.github.io/posts/postgres/storage/</guid><description>
å­˜å‚¨ # å†…å­˜ # å…±äº«å†…å­˜
æœ¬åœ°å†…å­˜
ç¼“å­˜
å†…å­˜ä¸Šä¸‹æ–‡
ç¼“å­˜ç©ºé—´ç®¡ç†
æ•°æ®å—çš„ç¼“å­˜ï¼Œå‡å°‘ç£ç›˜IOï¼Œæœ‰å…±äº«ç¼“å­˜å’Œè¿›ç¨‹ç¼“å­˜
Cache
æ•°æ®å—ä¹‹å¤–çš„ç¼“å­˜ï¼Œä¾‹å¦‚ç³»ç»Ÿè¡¨
ç³»ç»Ÿè¡¨ç¼“å­˜ä¸ä¼šç¼“å­˜æ•´ä¸ªè¡¨ï¼Œæ˜¯ä»¥blockä¸ºå•ä½ç¼“å­˜ï¼Ÿ è™šæ‹Ÿæ–‡ä»¶æè¿°ç¬¦
ç³»ç»Ÿä¸­æ–‡ä»¶æœ‰æ‰“å¼€çš„ä¸Šé™ï¼Œä½¿ç”¨VFDå¯ä»¥çªç ´è¿™ç§é™åˆ¶ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªLRUç¼“å­˜
ç©ºé—²ç©ºé—´å®šä½
å¿«é€Ÿå®šä½ç£ç›˜ä¸­çš„ç©ºé—²ç©ºé—´ä»¥æ’å…¥æ•°æ®
è¿›ç¨‹é—´é€šä¿¡ ä½¿ç”¨å…±äº«å†…å­˜æˆ–è€…ä¿¡å·é‡é€šä¿¡
è¯»å–è¿‡ç¨‹ # ä»ç³»ç»Ÿè¡¨ä¸­è¯»å–è¡¨çš„å…ƒæ•°æ®ä¿¡æ¯æ„é€ å…ƒç»„ä¿¡æ¯ å°è¯•ä»ç¼“å­˜è¯»å–æ•°æ® ä½¿ç”¨SMGRä»ç£ç›˜è¯»å–æ•°æ®åˆ°ç¼“å­˜ä¸­ï¼ŒSMGRæ˜¯ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œç”¨äºå®ç°ä¸åŒå­˜å‚¨ä»‹è´¨çš„ç®¡ç† SMGRå’Œå­˜å‚¨ä»‹è´¨ä¹‹é—´ä½¿ç”¨VFDæ¥ç®¡ç†æ–‡ä»¶æè¿°ç¬¦ï¼Œä»¥çªç ´ç³»ç»Ÿçš„FDé™åˆ¶ æ ‡è®°åˆ é™¤ï¼Œvacuumæ¸…ç†æ•°æ® FSMè®°å½•ç©ºé—²ç©ºé—´ ç£ç›˜ # è¡¨æ–‡ä»¶
SMGR
VFD
FSM</description></item><item><title>Postgresæºç ç¼–è¯‘åŠè°ƒè¯•</title><link>https://askyx.github.io/posts/postgres/env/</link><pubDate>Wed, 20 Jul 2022 17:54:05 +0800</pubDate><guid>https://askyx.github.io/posts/postgres/env/</guid><description>
Postges æºç ç¯å¢ƒæ­å»ºï¼ŒUbuntu22ï¼ŒVSCodeï¼Œdocker</description></item><item><title>æ•°æ®åº“æ–‡ç« èµ„æºæ±‡æ€»</title><link>https://askyx.github.io/posts/static/note/</link><pubDate>Wed, 20 Jul 2022 17:44:29 +0800</pubDate><guid>https://askyx.github.io/posts/static/note/</guid><description>
çˆ¬è™« # import requests from bs4 import BeautifulSoup prefix = &amp;#39;http://mysql.taobao.org&amp;#39; # è·å–æ–‡ç« åå’Œurlï¼ˆæ–‡ç« å,urlï¼‰ def query_name_url(url: str): resp = requests.get(url) soup = BeautifulSoup(resp.content.decode(&amp;#39;utf-8&amp;#39;), &amp;#34;html.parser&amp;#34;) tags = soup.findAll(&amp;#39;a&amp;#39;, {&amp;#39;target&amp;#39;: {&amp;#39;_blank&amp;#39;}}) urls = [v for v in tags if v[&amp;#39;href&amp;#39;].find(&amp;#39;/monthly/&amp;#39;) != -1] return [(str(v.string).strip(), prefix + v[&amp;#39;href&amp;#39;]) for v in urls] # è·å–æ‰€æœ‰æœˆæŠ¥é“¾æ¥ï¼ˆæœˆæŠ¥å,urlï¼‰ def query_monthly_url(): resp = requests.get(&amp;#39;http://mysql.taobao.org/monthly/&amp;#39;) soup = BeautifulSoup(resp.content.decode(&amp;#39;utf-8&amp;#39;), &amp;#34;html.parser&amp;#34;) tags = soup.findAll(&amp;#39;a&amp;#39;, {&amp;#39;class&amp;#39;: {&amp;#39;main&amp;#39;}}) urls = [v for v in tags if v[&amp;#39;href&amp;#39;].</description></item><item><title>15445è¯¾ç¨‹ç¬”è®°</title><link>https://askyx.github.io/posts/course/15445/note/</link><pubDate>Fri, 10 Jun 2022 11:07:10 +0800</pubDate><guid>https://askyx.github.io/posts/course/15445/note/</guid><description>
https://15445.courses.cs.cmu.edu/fall2021/notes/02-advancedsql.pdf
output control æ§åˆ¶è¾“å‡ºç»“æœï¼Œä¾‹å¦‚orderï¼Œlimitç­‰ çª—å£å‡½æ•° CTE Common Table Expressionsï¼ŒæŠŠä¸€ä¸ªè¯­å¥çš„è¾“å‡ºè§†ä¸ºä¸€å¼ ä¸´æ—¶è¡¨å‚ä¸ä¸‹é¢çš„è¯­å¥çš„è¿ç®— WITH cte1 (col1) AS (SELECT 1), cte2 (col2) AS (SELECT 2) SELECT * FROM cte1, cte2; Database Storage # æ•°æ®åº“çš„å­˜å‚¨ä»‹è´¨å½“å‰è¿˜æ˜¯ç£ç›˜ï¼ŒIOæ…¢ æ•°æ®åº“å­˜å‚¨è¦ç‚¹ä¹‹ä¸€æ˜¯ä½¿ç”¨ç¼“å­˜ç»´æŠ¤æ•°æ®åœ¨ç£ç›˜å’Œå†…å­˜ä¹‹é—´çš„æ•°æ®äº¤æ¢ï¼Œä»¥å®ç°æ•°æ®çš„å¿«é€Ÿè¯»å†™ é¡ºåºè¯»å†™å’Œéšæœºè¯»å†™ é¡ºåºè¯»å†™çš„æ„æ€æ˜¯éœ€è¦å®šä½åˆ°è¯»å†™çš„ä½ç½®æ‰èƒ½æ“ä½œï¼Œä¾‹å¦‚é“¾è¡¨ã€‚ éšæœºè¯»å†™çš„æ„æ€æ˜¯å¯ä»¥ç›´æ¥å®šä½åˆ°è¯»å†™çš„ä½ç½®ï¼Œä¾‹å¦‚æ•°ç»„ã€‚ ç”±äºç£ç›˜ä¸Šéšæœºè¯»å†™é€Ÿåº¦ä¸å¦‚é¡ºåºè¯»å†™ï¼Œæ‰€ä»¥å½“å‰æ•°æ®åº“è¿˜æ˜¯éœ€è¦æƒ³åŠæ³•ä½¿ç”¨é¡ºåºè¯»å†™ï¼Œä¾‹å¦‚LSMï¼ŒGFSç­‰æ¶æ„éƒ½æ˜¯å› ä¸ºè¿™ä¸ªåŸå› å¯¼è‡´çš„ ç£ç›˜å’Œå†…å­˜ä¸­æ•°æ®çš„ç»„ç»‡æ ¼å¼ # æ•°æ®å…¨éƒ¨åœ¨ç£ç›˜ä¸Šï¼ŒæŒ‰pageç»„ç»‡æ•°æ®ï¼Œå†…å­˜ä¸­ä½¿ç”¨buffer poolç»´æŠ¤ç¼“å­˜ï¼Œç£ç›˜ä¸­æœ‰ä¸€ä¸ªpageä¸“é—¨ç»´æŠ¤pageçš„ä½ç½®ä¿¡æ¯ï¼Œä½¿ç”¨çš„æ—¶å€™å…ˆè¯»å–æ­¤pageåˆ°å†…å­˜ï¼Œç„¶å ç„¶åè¯»å–å…¶ä»–pageåˆ°buffer poolï¼Œä½¿ç”¨buffer poolç»´æŠ¤pageçš„ç½®æ¢æƒ…å†µï¼Œä¾‹å¦‚LRUï¼Œæˆ–è€…å…¶ä»–ç®—æ³•
å¯ä»¥å‚è€ƒlab1å’Œslideï¼Œè¿˜æ˜¯æ¯”è¾ƒæ˜æ˜¾çš„
buffer poolä¸­çš„pageå¯ä»¥ç”¨äºä¸Šå±‚çš„æ•°æ®è¿ç®—
ä½¿ç”¨mmapå¯ä»¥å®Œæˆç±»ä¼¼çš„æ“ä½œï¼Œä½†æ˜¯å®é™…ä¸Šåœ¨ä½¿ç”¨ä¸­ï¼Œå¦‚æœåœ¨å‘ç”Ÿç¼ºé¡µä¸­æ–­çš„æ—¶å€™ï¼Œmmapéœ€è¦è¿›è¡Œç½®æ¢æ“ä½œï¼Œæ‰€ä»¥ä¼šé˜»ç¢ç¨‹åºè¿›ç¨‹ã€‚ä¸”mmapæ˜¯é€šç”¨çš„ç»„ä»¶ï¼Œæ‰€ä»¥æ²¡æœ‰å¯¹æ•°æ®åº“ çš„ä½¿ç”¨åœºæ™¯è¿›è¡Œä¸€äº›ä¼˜åŒ–ï¼Œ
You never want to use mmap in your DBMS if you need to write.</description></item><item><title>Raft</title><link>https://askyx.github.io/posts/course/6.824/raft/</link><pubDate>Mon, 30 May 2022 18:51:02 +0800</pubDate><guid>https://askyx.github.io/posts/course/6.824/raft/</guid><description>
è¯‘æ–‡ åŸæ–‡ æœ‰ç”¨çš„é£ä¹¦æ–‡æ¡£ å’Œå…¶ä»–çš„ç®—æ³•ç›¸æ¯” Strong leader
æ—¥å¿—åªèƒ½ä»é¢†å¯¼è€…å‘é€åˆ°å…¶ä»–èŠ‚ç‚¹ Leader election
éšæœºè®¡æ—¶å™¨é€‰ä¸¾é¢†å¯¼ï¼Œåœ¨å¿ƒè·³æœºåˆ¶ä¸ŠåŠ ä¸Šä¸€äº›é¢å¤–çš„å·¥ä½œ Membership changes
è§’è‰²å˜æ¢ Replicated state machines # å¤åˆ¶çŠ¶æ€æœºä¸€èˆ¬åŸºäºæ—¥å¿—å®ç°ï¼Œé€šä¿—çš„ç†è§£åªè¦æ‰€æœ‰çš„æœºå™¨æŒ‰ç…§ç›¸åŒçš„é¡ºåºæ‰§è¡ŒæŒ‡ä»¤ï¼Œé‚£ä¹ˆæ¯ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€éƒ½æ˜¯ç¡®å®šçš„ï¼Œæ‰€ä»¥éœ€è¦æŠŠæŒ‡ä»¤æ—¥å¿—å¤åˆ¶åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šå»ï¼Œè¿™å°±æ˜¯ä¸€è‡´æ€§ç®—æ³•çš„å·¥ä½œ
å¦‚æœåªæ˜¯è¦æ±‚æœ€ç»ˆæ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æ‰§è¡Œä¸€æ ·é¡ºåºçš„æŒ‡ä»¤ï¼Œè€Œä¸è¦æ±‚å®æ—¶æ€§ï¼Œåˆ™å¯ä»¥é™å®š
åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥è¿›è¡Œå†™æ“ä½œï¼Œå› ä¸ºåªæœ‰å†™æ“ä½œæ‰å¯ä»¥æ”¹å˜ç³»ç»Ÿçš„çŠ¶æ€ å†™èŠ‚ç‚¹åŒæ­¥æŒ‡ä»¤åˆ°å…¶ä»–èŠ‚ç‚¹ï¼Œæœ€ç»ˆæ‰€æœ‰èŠ‚ç‚¹æŒ‡ä»¤é¡ºåºä¸€è‡´ ä¸€è‡´æ€§ç®—æ³•çš„å…±æœ‰ç‰¹æ€§
å®‰å…¨æ€§
ä¸ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ç»“æœï¼Œåªè¦æ˜¯åœ¨éæ‹œå åº­é”™è¯¯æƒ…å†µä¸‹ï¼ŒåŒ…æ‹¬ç½‘ç»œå»¶è¿Ÿï¼Œä¹±åºï¼Œä¸¢åŒ…ï¼Œåˆ†åŒºï¼Œå†—ä½™ç­‰éƒ½å¯ä»¥ä¿éšœæ­£ç¡®æ€§ å¯ç”¨æ€§
é›†ç¾¤åªè¦å¤§å¤šæ•°æœºå™¨å¯ä»¥æ­£å¸¸é€šä¿¡ï¼Œå°±å¯ä»¥ç¡®ä¿å¯ç”¨ï¼Œå¤±è´¥èŠ‚ç‚¹å¯ä»¥å¿½ç•¥æˆ–è€…åç»­æ¢å¤çŠ¶æ€ï¼Œå¤§å¤šæ•°æŒ‡çš„æ˜¯åŠæ•°ä»¥ä¸Š ä¸ä¾èµ–æ—¶åºä¿è¯ä¸€è‡´æ€§
æ—¶é’Ÿé”™è¯¯æˆ–è€…æ¶ˆæ¯å»¶è¿Ÿåªæœ‰åœ¨æç«¯æƒ…å†µä¸‹æ‰ä¼šå¯¼è‡´å¯ç”¨æ€§ æ…¢èŠ‚ç‚¹ä¸ä¼šå½±å“æ¶ˆæ¯çš„åé¦ˆï¼Œæ¶ˆæ¯å¯ä»¥å¿«é€Ÿçš„å“åº” æ‹œå åº­å°†å†›é—®é¢˜
Paxos # éš¾ä»¥ç†è§£ æ²¡æœ‰å…¬è®¤çš„å¯ä»¥å®ç°çš„åŸºç¡€æ¶æ„ï¼Œå¤§éƒ¨åˆ†ç³»ç»Ÿä»Paxoså¼€å§‹ï¼Œåœ¨é‡åˆ°é—®é¢˜çš„æ—¶å€™è‡ªè¡Œæƒ³åŠæ³•è§£å†³ï¼Œå¯¼è‡´æœ€åçš„ç³»ç»Ÿå®ç°åªèƒ½æ˜¯ç±»ä¼¼Paxosçš„ç®—æ³• Raft # ç®¡ç†å¤åˆ¶çŠ¶æ€æœºçš„ä¸€ç§ç®—æ³•ï¼Œä»–ä¼šåœ¨é›†ç¾¤ä¸­é€‰ä¸¾ä¸€ä¸ªleaderï¼Œä¹‹åä¼šå¤åˆ¶æ‰€æœ‰çš„æ—¥å¿—åˆ°å…¶ä»–èŠ‚ç‚¹å®ç°ä¸€è‡´æ€§
ä»–å¯ä»¥åˆ†è§£ä¸ºä¸‰ä¸ªé—®é¢˜
é¢†å¯¼é€‰ä¸¾ ä¸€ä¸ªæ–°çš„é¢†å¯¼äººéœ€è¦è¢«é€‰ä¸¾å‡ºæ¥ï¼Œå½“å…ˆå­˜çš„é¢†å¯¼äººå®•æœºçš„æ—¶å€™ æ—¥å¿—å¤åˆ¶
é¢†å¯¼äººå¿…é¡»ä»å®¢æˆ·ç«¯æ¥æ”¶æ—¥å¿—ç„¶åå¤åˆ¶åˆ°é›†ç¾¤ä¸­çš„å…¶ä»–èŠ‚ç‚¹ï¼Œå¹¶ä¸”å¼ºåˆ¶è¦æ±‚å…¶ä»–èŠ‚ç‚¹çš„æ—¥å¿—ä¿æŒå’Œè‡ªå·±ç›¸åŒ å®‰å…¨æ€§
åœ¨ Raft ä¸­å®‰å…¨æ€§çš„å…³é”®æ˜¯åœ¨å›¾ 3 ä¸­å±•ç¤ºçš„çŠ¶æ€æœºå®‰å…¨ï¼šå¦‚æœæœ‰ä»»ä½•çš„æœåŠ¡å™¨èŠ‚ç‚¹å·²ç»åº”ç”¨äº†ä¸€ä¸ªç¡®å®šçš„æ—¥å¿—æ¡ç›®åˆ°å®ƒçš„çŠ¶æ€æœºä¸­ï¼Œé‚£ä¹ˆå…¶ä»–æœåŠ¡å™¨èŠ‚ç‚¹ä¸èƒ½åœ¨åŒä¸€ä¸ªæ—¥å¿—ç´¢å¼•ä½ç½®åº”ç”¨ä¸€ä¸ªä¸åŒçš„æŒ‡ä»¤ å¯ä»¥åœ¨è¿™ä¸ªç½‘ç«™æŸ¥çœ‹å®ä¾‹</description></item><item><title>GFS</title><link>https://askyx.github.io/posts/course/6.824/gfs/</link><pubDate>Mon, 30 May 2022 16:36:40 +0800</pubDate><guid>https://askyx.github.io/posts/course/6.824/gfs/</guid><description>
GFSæ˜¯ä¸€ä¸ªå¤§è§„æ¨¡å¯æ‰©å±•çš„å¯å®¹é”™çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚Googleä¸‰å¤§ç¯‡è®ºæ–‡ä¹‹ä¸€
ç¿»è¯‘æ–‡ç« åœ¨è¿™é‡Œ
è®ºæ–‡åœ¨è¿™é‡Œ
6.824 Q&amp;amp;A
GFSçš„ç‰¹ç‚¹ è¿è¡Œåœ¨å»‰ä»·çš„æœºå™¨ä¸Šï¼ŒèŠ‚çº¦æˆæœ¬ çµæ´»æ€§å¼ºï¼Œå¯éšæ„æ‰©å±•ï¼Œå®¹é”™æ€§å¼º æ–‡ä»¶å°¾éƒ¨è¿½åŠ æ•°æ®ï¼Œä¸ä¼šæœ‰å¤ªå¤šçš„æ•°æ®å˜åŠ¨ æ¶æ„ # ä¸€ä¸ªå•ç‹¬çš„masterèŠ‚ç‚¹å’Œå¤šä¸ªdatachunkèŠ‚ç‚¹ï¼Œmasteç®¡ç†å…ƒæ•°æ®ä¿¡æ¯ï¼ŒåŒ…æ‹¬chunkhandleä¿¡æ¯ï¼Œæ–‡ä»¶å’Œchunkçš„æ˜ å°„ä¿¡æ¯ï¼Œä»¥åŠchunkserverçš„å˜åŠ¨ä¿¡æ¯ç­‰ã€‚masterä½¿ç”¨å¿ƒè·³å®šæ—¶å’ŒchunkserveråŒæ­¥å…³é”®ä¿¡æ¯ã€‚ä½¿ç”¨å•ä¸ªmasterçš„ç›®çš„æ˜¯ä¸ºäº†ç®€åŒ–è®¾è®¡ï¼ŒåŒæ—¶ä¸ºäº†é¿å…å•ç‚¹æ•…éšœï¼ŒmasterèŠ‚ç‚¹æ¯æ¬¡æ“ä½œéƒ½å’Œbackup masteråŒæ­¥æ•°æ®ï¼Œmasterå­˜å‚¨çš„3ç§å…³é”®å…ƒæ•°æ®ä¸º
æ–‡ä»¶å’ŒChunkçš„å‘½åç©ºé—´ æ–‡ä»¶å’ŒChunkçš„å¯¹åº”å…³ç³» æ¯ä¸ªChunkå‰¯æœ¬çš„å­˜æ”¾åœ°ç‚¹
å­˜æ”¾åœ¨masterä¸Šï¼Œåœ¨chunkserverå˜åŠ¨çš„æ—¶å€™éš¾ä»¥ç»´æŠ¤ï¼Œæ¯ä¸ªserverè‡ªå·±ç»´æŠ¤è‡ªå·±çš„ä¿¡æ¯ï¼Œç„¶åè®©masterè‡ªè¡ŒåŒæ­¥çš„æ–¹å¼ä¼šç®€å•è®¸å¤šã€‚ è¿™äº›ä¿¡æ¯ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä¸”1å’Œ2çš„æ•°æ®å˜åŠ¨ä¼šä¿å­˜åœ¨æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œæ¯æ¬¡materæ•…éšœæ¢å¤çš„æ—¶å€™ï¼Œåªéœ€è¦ä½¿ç”¨æ­¤æ—¥å¿—å°±å¯ä»¥æ¢å¤åˆ°åŸæ¥çš„çŠ¶æ€ï¼Œè‡³äº3ï¼Œåˆ™ä¿å­˜åœ¨chunkserverä¸­ï¼Œmasterä¼šä½¿ç”¨å¿ƒè·³å®šæ—¶ä»chunkserveræ›´æ–°æ­¤ä¿¡æ¯åˆ°å†…å­˜ä¸­ï¼Œmasterçš„å†…å­˜æ‰¿è½½èƒ½åŠ›ä¸€èˆ¬æ˜¯å¯ä»¥ç»´æŠ¤è¿™äº›æ•°æ®ï¼Œä¸€æ¡masterä¸­çš„ä¿¡æ¯å¯ä»¥ç»´æŠ¤ä¸€ä¸ªchunkï¼Œä¸€èˆ¬ä¸€æ¡ä¿¡æ¯å¯ä»¥åœ¨64å†…ä¿å­˜ä¸‹æ¥ï¼Œä¸”ç”±äºæ•°æ®çš„åœ¨å°èŒƒå›´å˜åŒ–ä¸å¤§ï¼Œä½¿ç”¨ä¸€å®šçš„å‹ç¼©æ–¹æ³•å¯ä»¥å¤§å¤§çš„èŠ‚çº¦ç©ºé—´ã€‚ æ—¥å¿—è®°å½•ä¸Šé¢1å’Œ2çš„æ•°æ®å˜åŠ¨ä¿¡æ¯ï¼Œç”¨äºæ•…éšœæ¢å¤ï¼Œä¸ºäº†é¿å…æ—¥å¿—ä¿¡æ¯è¿‡äºåºå¤§ï¼ŒåŠ å…¥æ£€æŸ¥ç‚¹æœºåˆ¶ï¼Œæ¢å¤æ—¶åªè¦å›æ”¾æ£€æŸ¥ç‚¹ä¹‹åçš„æ—¥å¿—å³å¯ã€‚
chunkserverä¿å­˜chunkæ•°æ®ï¼ŒåŒæ—¶ç»´æŠ¤serverä¸Šçš„chunkä¿¡æ¯ï¼ŒGFSæŠŠå¤§æ–‡ä»¶åˆ‡åˆ†ä¸º64Mçš„chunkæ–‡ä»¶ï¼Œ64Mçš„åŸå› æ˜¯
Googleå®é™…å­˜å‚¨çš„æ•°æ®è¾ƒå¤§å…¶å¤§éƒ¨åˆ†æ—¶å€™ä½¿ç”¨é¡ºåºè¯»å†™æ–‡ä»¶ï¼Œæ‰€ä»¥å¤§æ–‡ä»¶çš„è¯»å†™æ—¶é—´å¯ä»¥åœ¨æ¥å—èŒƒå›´å†… å¤§æ–‡åŠ å¯ä»¥å‡å°‘masterä¸­çš„å…ƒæ•°æ®ä¿¡æ¯ï¼Œè¯»å†™çš„æ—¶å€™ï¼Œå¯ä»¥å¯¹ä¸€ä¸ªå¤§æ–‡ä»¶è¿›è¡Œå¤šæ¬¡è¯»å†™ï¼Œé¿å…äº†å°æ–‡ä»¶éœ€è¦å¤šæ¬¡å‘masteræŸ¥è¯¢ä½ç½®ä¿¡æ¯ å¤§æ–‡ä»¶å¯ä»¥é¿å…å°æ–‡ä»¶åå¤ä»serverè¯»å–ï¼Œä½¿serverå˜æˆçƒ­ç‚¹ chunkä¸€èˆ¬æ˜¯3ä¸ªæ•°æ®å‰¯æœ¬
è¯»å–æ“ä½œ # C sends filename and offset to coordinator (CO) (if not cached) CO finds chunk handle for that offset CO replies with list of chunkhandles + chunkservers only those with latest version C caches handle + chunkserver list C sends request to nearest chunkserver chunk handle, offset chunk server reads from chunk file on disk, returns to client ä¸€è‡´æ€§é—®é¢˜ # å¼±ä¸€è‡´æ€§ã€‚æ˜“å®ç°ï¼Œ éšæœºå†™ä¼šæœ‰offseté‡å¤çš„é—®é¢˜ï¼Œä½†æ˜¯masteré™å®šæ“ä½œé¡ºåºï¼Œç†è®ºä¸Šæœ€ç»ˆçš„æ•°æ®æ˜¯ä¸€è‡´çš„ï¼Œä½†æ˜¯åœ¨clientçœ‹æ¥ï¼Œæ•°æ®æ˜¯ä¸ç¡®å®šçš„ï¼Œå› ä¸ºå‰¯æœ¬ä¸æ˜¯è¦æ±‚ç«‹åˆ»åŒæ­¥çš„ï¼Œ append onlyé™å®šappendçš„offsetï¼Œæ‰€ä»¥æ¯ä¸ªoffsetä¸Šæ•°æ®æ˜¯ä¸€è‡´çš„</description></item><item><title>Mapreduce</title><link>https://askyx.github.io/posts/course/6.824/mapreduce/</link><pubDate>Sun, 29 May 2022 21:05:46 +0800</pubDate><guid>https://askyx.github.io/posts/course/6.824/mapreduce/</guid><description>
åˆ©ç”¨æ™®é€šæœºå™¨ç»„æˆçš„å¤§è§„æ¨¡è®¡ç®—é›†ç¾¤è¿›è¡Œå¹¶è¡Œçš„,é«˜å®¹é”™,é«˜æ€§èƒ½çš„æ•°æ®å¤„ç†å‡½æ•°æ¡†æ¶
åŸå§‹è®ºæ–‡ç‚¹è¿™é‡Œ,è®ºæ–‡ç¿»è¯‘ç‚¹è¿™é‡Œï¼Œæœ‰æ—¶é—´çš„è¯ï¼Œè‡ªè¡Œå¯¹æ¯”ç¿»è¯‘å’ŒåŸæ–‡
æœ€ç»ˆå®ç°çš„ç›®æ ‡æ˜¯&amp;ndash;å®ç°ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¯¹ç¨‹åºå‘˜éšè—åº•å±‚åˆ†å¸ƒå¼ç»†èŠ‚ï¼Œç¨‹åºå‘˜åªéœ€è¦å®šä¹‰mapå’Œreduce å‡½æ•°å³å¯ã€‚
map reduceå®ç°ä¸ºç®€å•çš„kvè¾“å‡ºï¼Œå…¶ä¸­mapæ¥å—æºæ•°æ®ï¼Œç”Ÿæˆkvçš„ä¸­é—´ç»“æœï¼Œä¸­é—´ç»“æœä¿å­˜åœ¨workerèŠ‚ç‚¹ä¸Šã€‚ reduceè´Ÿè´£å¤„ç†mapäº§ç”Ÿçš„ä¸­é—´ç»“æœçš„kvæ•°æ®ï¼Œåªæ˜¯ç®€å•çš„æ•°æ®å¤„ç†è¿‡ç¨‹.
ä»–æœ€å…ˆæ˜¯å—åˆ°lispä¸­mapå’ŒreduceåŸè¯­çš„å¯å‘ï¼Œå†åŠ ä¸Šå½“æ—¶Googleç°å®çš„å¤„ç†å¤§é‡æ•°æ®çš„éœ€æ±‚ï¼Œä»ä»–ä»¬ç°æœ‰çš„ç³»ç»ŸæŠ½è±¡è€Œæ¥çš„ã€‚
åœ¨è®ºæ–‡ä¸­ï¼Œä½¿ç”¨äº†ä¸€ä¸ªå•è¯ç»Ÿè®¡çš„æ¡ˆä¾‹ï¼Œæ­¤æ—¶å®ç°mapå‡½æ•°ç”¨æ¥åˆ†å‰²æ–‡æœ¬ï¼Œåˆ‡åˆ†å‡ºæœ€åŸºæœ¬çš„å•è¯ã€‚ç„¶åå†ä½¿ç”¨reduceè¿›è¡Œèšåˆæ“ä½œï¼Œ
// è¾“å‡ºå•è¯ä»¥åŠå‡ºç°çš„æ¬¡æ•°ï¼Œmapç«¯è¾“å‡º1 map(String key,String value): // key: æ–‡æ¡£å // value: æ–‡æ¡£å†…å®¹ for each word w in value: EmitIntermediate(w,&amp;#34;1&amp;#34;); // é’ˆå¯¹ç›¸åŒçš„keyï¼Œæ¬¡æ•°+1 reduce(String key, Iterator values): // key: ä¸€ä¸ªå•è¯ // value: è®¡æ•°å€¼åˆ—è¡¨ int result = 0; for each v in values: result += ParseInt(v); Emit(AsString(result)); æ‰§è¡Œè¿‡ç¨‹ æ–‡ä»¶åˆ’åˆ† ä¸»èŠ‚ç‚¹åˆ’åˆ†ä»»åŠ¡ æŒ‰ç…§åˆ’åˆ†çš„ä»»åŠ¡å¯åŠ¨workerï¼Œæ‰§è¡Œmapä»»åŠ¡ workerèŠ‚ç‚¹çš„æ•°æ®ç”Ÿæˆä¸ºä¸­é—´ç»“æœï¼Œä¿å­˜åœ¨æœ¬èŠ‚ç‚¹ æ‰€æœ‰mapä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹åï¼Œreduceå¾—åˆ°å¯¹åº”ä¸­é—´èŠ‚ç‚¹çš„æ–‡ä»¶è·¯å¾„ï¼Œé€šè¿‡rpcè¯»å–æ–‡ä»¶ï¼Œè¿›è¡Œreduceä»»åŠ¡ reduceä»»åŠ¡å®Œæˆä¹‹åï¼Œæœ€ç»ˆç»“æœå†™å…¥ç›®æ ‡æ–‡ä»¶ ä¸€ä¸ªmrä»»åŠ¡å®Œæˆä¹‹åï¼Œå›å¾—åˆ°n(reduce)ä¸ªç»“æœæ–‡ä»¶ï¼Œå¯ä»¥æŒ‰ç…§éœ€æ±‚å¤„ç†æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæˆ–è€…ç»§ç»­ä½œä¸ºå…¶ä»–mrçš„è¾“å…¥ï¼Œmrä»»åŠ¡æ˜¯å¯ä»¥åµŒå¥—çš„ã€‚
ä¸»èŠ‚ç‚¹</description></item><item><title>A Tour of Goé€Ÿé€š</title><link>https://askyx.github.io/posts/languange/go_1/</link><pubDate>Tue, 17 May 2022 22:34:11 +0800</pubDate><guid>https://askyx.github.io/posts/languange/go_1/</guid><description>
2022-05-17 åŸºç¡€è¯­æ³• 2022-05-24 å¤åˆç±»å‹ï¼Œgoroutineï¼Œchannel åŸºç¡€è¯­æ³• # Packages # goä½¿ç”¨Packagesç»´æŠ¤æ¨¡å—ï¼Œä½¿ç”¨importå¯¼å…¥æ¨¡å—ï¼Œimportæœ€åä¸€ä¸ªå…ƒç´ æ‰æ˜¯éœ€è¦å¯¼å…¥çš„æ¨¡å—
import ( &amp;#34;fmt&amp;#34; &amp;#34;math/rand&amp;#34; ) import å¯ä»¥å•ç‹¬ä¸€ä¸ªå¯¼å…¥ä¸€ä¸ªæ¨¡å—ï¼Œä¹Ÿå¯ä»¥æ‰¹é‡å¯¼å…¥ï¼Œ ä¸ä¹‹å¯¹åº”çš„æ˜¯exportï¼Œgoä¸æ˜¾ç¤ºå£°æ˜exportï¼Œé¦–å­—æ¯å¤§å†™çš„å˜é‡æˆ–æ–¹æ³•è‡ªåŠ¨exportï¼Œå¤–éƒ¨åªèƒ½ä½¿ç”¨å¯¼å‡ºçš„å˜é‡æˆ–è€…æ–¹æ³•ï¼Œç±»ä¼¼c++ä¸­ç±»çš„ç§æœ‰å’Œå…±æœ‰çš„æ¦‚å¿µã€‚
Functions # ä¸c++æˆ–è€…Javaæˆ–è€…å…¶ä»–è¯­è¨€ä¸åŒçš„æ˜¯ï¼Œgoçš„å‡½æ•°ç­¾åæ ¼å¼ä¸ºfunc func_name(parm1 [type], parm2 [type]....) retype {}ï¼Œå…ˆå£°æ˜åå­—ï¼Œå†å£°æ˜å˜é‡çš„ç±»å‹ï¼Œå‚æ•°åˆ—è¡¨ä¸­æœ‰å¤šä¸ªå‚æ•°ä¸”ç±»å‹ä¸€è‡´çš„æ—¶å€™ï¼Œå‰é¢çš„å‚æ•°ç±»å‹å¯ä»¥çœç•¥ï¼Œåªéœ€è¦ä¿ç•™ä¹‹åä¸€ä¸ª
func add(x, y int) int { return x + y } ä¸”goå¯ä»¥å¾ˆè½»æ˜“çš„å®ç°å¤šè¿”å›å€¼çš„åŠŸèƒ½ï¼Œå¦‚ä¸‹
func swap(x, y string) (string, string) { return y, x } func main() { a, b := swap(&amp;#34;hello&amp;#34;, &amp;#34;world&amp;#34;) fmt.Println(a, b) } ä¸Šé¢çš„åŠŸèƒ½åœ¨c++ä¸­éœ€è¦ä½¿ç”¨ç»“æ„ä½“æˆ–è€…tupleæˆ–è€…Parisæ‰èƒ½å®ç°ã€‚
goçš„returnè¿˜å¯ä»¥ä½¿ç”¨ä¸å¸¦å‚æ•°çš„ &amp;ldquo;naked&amp;rdquo; returnï¼Œæ­¤æ—¶è¦æ±‚å‡½æ•°ç­¾åä¸­çš„returnå‚æ•°å¿…é¡»æœ‰åå­—ï¼Œä¸”åœ¨å‡½æ•°ä½“ä¸­å¿…é¡»ä¸ºå‚æ•°èµ‹å€¼ï¼Œæ­¤æ—¶ä½¿ç”¨returnç›´æ¥è¿”å›ï¼Œå‚æ•°å¯ä»¥ç›´æ¥ä¼ é€’åˆ°å¤–éƒ¨ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ—¶å€™ï¼Œå¦‚æœå‡½æ•°ä½“è¿‡äºåºå¤§ä¸”æœ‰å¤šä¸ªå‡ºå£ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼Œéš¾äºé˜…è¯»
func split(sum int) (x, y int) { x = sum * 4 / 9 y = sum - x return } å˜é‡ # ä½¿ç”¨varå£°æ˜å˜é‡ï¼Œå£°æ˜å¤šä¸ªå˜é‡çš„æ—¶å€™å¯ä»¥ç±»ä¼¼å‚æ•°åˆ—è¡¨ä¸­çš„å‚æ•°ï¼Œå‰é¢å‚æ•°ä¸éœ€è¦å£°æ˜ç±»å‹ã€‚åˆå§‹åŒ–çš„æ—¶å€™æŒ‰é¡ºåºåˆå§‹åŒ–ï¼Œä¸”åˆå§‹åŒ–çš„å‚æ•°ä¸ªæ•°å¿…é¡»å‰åä¸€è‡´</description></item><item><title>Coursenote</title><link>https://askyx.github.io/posts/course/6.824/coursenote/</link><pubDate>Tue, 17 May 2022 13:17:04 +0800</pubDate><guid>https://askyx.github.io/posts/course/6.824/coursenote/</guid><description>
éšå ‚ç¬”è®° # Why do people build distributed systems? to increase capacity via parallel processing to tolerate faults via replication to match distribution of physical devices e.g. sensors to achieve security via isolation
åˆ†å¸ƒå¼çš„å›°éš¾ç‚¹ï¼š
å¤§é‡çš„å¹¶å‘æ“ä½œ å…·æœ‰å®¹é”™æ€§ éš¾äºå®ç° Lab 1: distributed big-data framework (like MapReduce) Lab 2: fault tolerance library using replication (Raft) Lab 3: a simple fault-tolerant database Lab 4: scalable database performance via sharding
A big goal: hide the complexity of distribution from applications.</description></item><item><title>LevelDBæºç é˜…è¯»</title><link>https://askyx.github.io/posts/readbooks/leveldb/</link><pubDate>Sun, 15 May 2022 21:59:53 +0800</pubDate><guid>https://askyx.github.io/posts/readbooks/leveldb/</guid><description>
leveldb æºç æ€»ç»“åˆ†æ</description></item><item><title>VolcanoOptimizer</title><link>https://askyx.github.io/posts/readbooks/volcanooptimizer/</link><pubDate>Mon, 04 Apr 2022 22:10:50 +0800</pubDate><guid>https://askyx.github.io/posts/readbooks/volcanooptimizer/</guid><description>
NOTE # è®ºæ–‡é˜…è¯»ç¬”è®°The Volcano Optimizer Generator: Extensibility and Efficient Search
å¯æ‰©å±•
é¢å‘å¯¹è±¡
è‡ªé¡¶å‘ä¸‹
å‰ªæ
åŸå‹æ˜¯EXODUSï¼Œ Volcanoæ˜¯å¯¹ä»–çš„æ”¹è¿›
å¯ä»¥å•ç‹¬ä½¿ç”¨çš„ä¼˜åŒ–å™¨ ä¼˜åŒ–æœç´¢æ—¶é—´å’Œæœç´¢ç©ºé—´ å¯æ‰©å±• å¯ä»¥ä½¿ç”¨å¯å‘å¼ç®—æ³•å’Œæœ‰æ•ˆçš„ä»£ä»·æ¨¡å‹æ¥æ‰©å±•å’Œå‡å°‘æœç´¢ç©ºé—´ï¼Œã€å‰ªæã€‘ çµæ´»çš„æˆæœ¬è®¡ç®—æ¨¡å‹ ä¸€ä¸ªæ¡†æ¶ï¼Œä¼˜åŒ–å™¨ç”Ÿæˆå™¨ï¼Œå¯ä»¥ç”±â€œoptimizer implementorâ€è‡ªè¡Œå®ç°å…³é”®å‡½æ•°ï¼Œæ•´ä¸ªä¼˜åŒ–å™¨æ¡†æ¶çš„è¾“å…¥æ˜¯ASTï¼Œè¾“å‡ºæ˜¯ä¸€ä¸ªæ‰§è¡Œè®¡åˆ’ï¼Œç®—å­çš„é›†åˆ
SQLæ˜¯åŸºäºå…³ç³»ä»£æ•°ï¼ŒVolcanoæŠŠå…³ç³»è¡¨è¾¾å¼åˆ†ä¸ºé€»è¾‘è¡¨è¾¾å¼å’Œç‰©ç†è¡¨è¾¾å¼ï¼Œé€»è¾‘è¡¨è¾¾å¼ä¹‹é—´ä½¿ç”¨transformationè¿›è¡Œè½¬æ¢ï¼Œç‰©ç†è¡¨è¾¾å¼ä½¿ç”¨åŸºäºä»£ä»·çš„implementationå’Œé€»è¾‘è¡¨è¾¾å¼æ˜ å°„çš„ï¼Œå…³ç³»ä¸ä¸€å®šæ˜¯æ„ä¹‰å¯¹åº”çš„ï¼Œä¾‹å¦‚scanå¯ä»¥åŒæ—¶ä¸€èµ·å®ç°projection
åœ¨è¡¨è¾¾å¼è¿›è¡Œè½¬æ¢çš„æ—¶å€™å¯ä»¥ä½¿ç”¨conditionè¿›è¡Œæ¨¡å¼åˆ¤æ–­ï¼Œæ»¡è¶³æ¡ä»¶çš„æ—¶å€™å¯ä»¥è¿›è¡Œå˜æ¢
è¡¨è¾¾å¼ä½¿ç”¨ç‰¹å¾æè¿°è¾“å‡ºï¼Œ
enforcersä¼šå¼ºåˆ¶æ·»åŠ æŸå±æ€§ï¼Œç”¨äºæŒ‡å¯¼ä¼˜åŒ–å™¨è¿›è¡Œä¼˜åŒ–ï¼Œä¾‹å¦‚æŒ‡å®šè¡¨çš„scanæ–¹å¼
Logical Operator
Operator setï¼Œä¹Ÿå°±æ˜¯å¯ä»¥æè¿°åœ¨ç›®æ ‡data modelä¸Šå¯ä»¥æ‰§è¡Œçš„ä»£æ•°è¿ç®—åˆ
Transformation rules + Conditionï¼Œå¯¹æ¯æ¡ç­‰ä»·å˜æ¢è§„åˆ™ï¼Œåœ¨æ»¡è¶³conditionæ—¶æ‰å¯ä»¥åº”ç”¨
Logical properties : é€»è¾‘å±æ€§ï¼Œç”¨æ¥æè¿°ä»£æ•°è¿ç®—çš„è¾“å‡ºæ‰€å…·æœ‰çš„ä¸€äº›ç‰¹å¾ï¼Œè¿™äº›ç‰¹å¾ä¸è¿ç®—çš„å…·ä½“æ‰§è¡Œæ–¹å¼æ— å…³ï¼Œæ˜¯é€»è¾‘çš„ï¼Œä¾‹å¦‚è¾“å‡ºçš„è¡Œæ•°ï¼Œç»“æœé›†çš„schemaç­‰
Physical Operator
Algorithm + Enforcer setï¼Œå³å¯åº”ç”¨çš„ç‰©ç†å®ç°ç®—æ³• + å¯æ·»åŠ çš„Enforceré›†åˆ</description></item><item><title>Columbia Optimizer</title><link>https://askyx.github.io/posts/readbooks/columbia-optimizer/</link><pubDate>Sat, 02 Apr 2022 16:55:12 +0800</pubDate><guid>https://askyx.github.io/posts/readbooks/columbia-optimizer/</guid><description>
start # EFFICIENCY IN THE COLUMBIA DATABASE QUERY OPTIMIZER
ä¼˜åŒ–å™¨å‘å±•ç‰ˆæœ¬ # ç¬¬ä¸€ä»£
æ¨¡å—åŒ–çš„ï¼Œåˆ†å±‚çš„ï¼Œå¯æ‰©å±•çš„ï¼ŒåŸºäºè§„åˆ™çš„ä¼˜åŒ–å™¨ æ‰©å±•çš„å¤æ‚æ€§ï¼Œæœç´¢æ€§èƒ½ ç¬¬äºŒä»£
ç±»ä¼¼Volcanoï¼Œæ›´åŠ ä¼˜ç§€çš„ä¼˜åŒ–è§„åˆ™ï¼Œä¸”ä½¿ç”¨ç‰©ç†å±æ€§å‚ä¸ä¼˜åŒ–ï¼Œä½¿ç”¨æ–°çš„æœç´¢æ–¹å¼ æ›´åŠ çµæ´»ï¼Œä½†æ˜¯è¿˜æ˜¯éš¾ä¸æ‰©å±• ç¬¬ä¸‰ä»£
ä½¿ç”¨é¢å¯¹è±¡çš„æ€æƒ³å®ç°çš„ä¼˜åŒ–å™¨ï¼Œæ˜“äºæ‰©å±•ï¼Œæ›´çµæ´» å¯ä»¥æŒ‰ç…§æœç´¢ç­–ç•¥åˆ†ä¸ºä¸¤ç±» 1. è‡ªåº•å‘ä¸Š 2. è‡ªé¡¶å‘ä¸‹ Cascades Optimizer Framework å¯¹å…³é”®æ“ä½œå®šä¹‰ä¸ºæŠ½è±¡ç±»ï¼Œé€šè¿‡å®ç°æŠ½è±¡ç±»æ¥æ·»åŠ è§„åˆ™æˆ–è€…è¿›è¡Œè¡¨è¾¾å¼å˜æ¢æ¥æ‰©å±•ä¼˜åŒ–å™¨ï¼Œ * ä½¿ç”¨hashæ¥æ¶ˆé™¤é‡å¤çš„è¡¨è¾¾å¼ * å†groupä¸­æŠŠé€»è¾‘è¡¨è¾¾å¼å’Œç‰©ç†è¡¨è¾¾å¼åˆ†å¼€ * å‰ªæ å…ˆè®¡ç®—ä¸Šå±‚groupçš„cost é˜ˆå€¼ï¼Œåœ¨è®¡ç®—ä¸‹å±‚èŠ‚ç‚¹çš„æ—¶å€™ï¼Œç›´æ¥åˆ¤æ–­æ˜¯å¦è¿˜éœ€è¦ç»§ç»­è¿›è¡Œä¼˜åŒ– é¢„å…ˆå¯¹æ‰§è¡Œè®¡åˆ’è®¾ç½®é˜ˆå€¼ï¼Œå½“æ‰§è¡Œè®¡åˆ’çš„ä»£ä»·å’Œé˜ˆå€¼è¶³å¤Ÿæ¥è¿‘çš„æ—¶å€™ï¼Œåˆ™åˆ¤å®šå·²å®Œæˆæœç´¢
æœ¯è¯­ #</description></item><item><title>é¢è¯•</title><link>https://askyx.github.io/posts/personal/log/</link><pubDate>Thu, 24 Mar 2022 20:26:11 +0800</pubDate><guid>https://askyx.github.io/posts/personal/log/</guid><description>
é¢è¯• # åªæ˜¯ä¸€ä¸ªæŠ€æœ¯æ±‡æ€»
C++åŸºç¡€ [2 days] [è¯¾ç¨‹- https://github.com/parallel101/course.git]
å†…å­˜ å†…å­˜ç»“æ„ [https://segmentfault.com/a/1190000039348996]
c++ ç¼–è¯‘å‡ºæ¥çš„æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ˜¯ELFæ ¼å¼çš„ï¼Œä»–æœ¬æ¥å°±æœ‰ä¸€äº›æ ¼å¼ä¸Šçš„åˆ’åˆ†ï¼ŒC++åœ¨ä»–çš„åŸºç¡€ä¸Šè¿›è¡Œäº†æ›´ç»†çš„åˆ’åˆ†ï¼Œåˆ†ä¸ºäº”ä¸ªéƒ¨åˆ†ï¼Œä»é«˜åœ°å€åˆ°åº•åœ°å€ä¾æ¬¡ä¸ºï¼š 1. å†…æ ¸è™šæ‹Ÿå†…å­˜ è¿›ç¨‹çš„è™šæ‹Ÿå°è±¡ 2. æ ˆ ç¨‹åºè‡ªåŠ¨æ§åˆ¶ï¼Œå…·ä½“ä¸ºç¨‹åºçš„å‡½æ•°è°ƒç”¨ï¼Œä¿å­˜å±€éƒ¨å˜é‡ï¼Œæœ‰å¤§å°ï¼Œå¯ä»¥ä½¿ç”¨ulimit -s æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œè®¾ç½®ï¼Œä½†æ˜¯å»ºè®®ç³»ç»Ÿé»˜è®¤å³å¯ * å‡½æ•°è°ƒç”¨æœºåˆ¶ è°ƒç”¨çš„æ—¶å€™æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„æ ˆå¸§ï¼Œå‡½æ•°å‚æ•°ä¼šåœ¨è°ƒç”¨è€…çš„æ ˆå¸§ä¸­å¼€è¾Ÿç©ºé—´ï¼Œä»å³åˆ°å·¦ï¼Œæ‰€ä»¥å‡½æ•°åˆ—è¡¨çš„é»˜è®¤å€¼å¿…é¡»ä»å³åˆ°å·¦çš„åˆå§‹åŒ–ï¼Œ å¯èƒ½å’Œè¿™ä¸ªæœ‰å…³ç³»ï¼Œç„¶åè¢«è°ƒç”¨è€…æ„é€ æ ˆå¸§ï¼Œä¾æ¬¡æ‰§è¡Œ 3. å…±äº«åº“çš„å†…å­˜å°è±¡ 3. å † ç©ºé—´æœ‰ç¨‹åºå‘˜è‡ªè¡Œç»´æŠ¤ï¼Œå‘ä¸Šå¢é•¿(TIPS: ç”±äºCçš„å†å²åŸå› ï¼ŒC++çš„å†…å­˜ç»“æ„è¿˜æ˜¯è¯´å †åŒºï¼Œä½†æ˜¯åœ¨åŒºåˆ«new/malloc å’Œdelete/free çš„æ—¶å€™ï¼Œä»–ä»¬çš„å·®åˆ«ä¹‹ä¸€å¯èƒ½ä¼šåœ¨å†…å­˜ä¸Šæœ‰ç‚¹åŒºåˆ« Cçš„malloc/freeå¯èƒ½ä¼šè¯´æ˜¯åœ¨å †ä¸Šåˆ†é…ç©ºé—´ï¼Œä½†æ˜¯å¯¹äºC++å¯èƒ½ä¼šè¯´çš„æ˜¯åœ¨è‡ªç”±å­˜å‚¨åŒºä¸Šåˆ†é…ï¼Œè‡ªç”±å­˜å‚¨åŒºå’Œå †æ˜¯ä¸åŒçš„æ¦‚å¿µï¼Œå †æ˜¯æ“ä½œç³»ç»Ÿä¸Šçš„æ¦‚å¿µï¼Œä½†æ˜¯è‡ªç”±å­˜å‚¨åŒºæ˜¯ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µ ä¸€èˆ¬newå¯ä»¥æ˜¯åœ¨å †ä¸Šåˆ†é…ç©ºé—´ï¼Œä½†æ˜¯å¯èƒ½å­˜åœ¨åœ¨å…¶ä»–æƒ…å†µï¼Œä¾‹å¦‚åœ¨æ ˆä¸Šä½¿ç”¨newï¼Œæ‰€ä»¥ä»–ä»¬ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œé¢è¯•çš„æ—¶å€™è¯´åˆ°è¿™é‡Œï¼Œå¯ä»¥è£…é€¼ğŸ˜) 4. å¯å†™/å…¨å±€åŒº å¯¹åº”elfä¸­dataæ®µå’Œbssæ®µï¼Œdataæ®µä¿å­˜çš„æ˜¯å·²åˆå§‹åŒ–çš„å…¨å±€å˜é‡æˆ–è€…é™æ€å˜é‡ï¼Œbssä¿å­˜çš„æ˜¯æœªåˆå§‹åŒ–çš„æ•°æ® 5. åªè¯»åŒº/ä»£ç æ®µ textæ®µï¼Œä¿å­˜ç¼–è¯‘ä¹‹åçš„æŒ‡ä»¤ï¼Œä¸å¯å˜ 6. å¸¸é‡åŒº ä¿å­˜å…¨å±€å˜é‡ï¼Œä¸å¯å˜ï¼Œrodataæ®µï¼Œè®°å¾—ä½¿ç”¨å…¶ä»–æ‰‹æ®µå»å°è¯•ä¿®æ”¹å¸¸é‡çš„æ—¶å€™ä¼šæŠ¥é”™ã€‚ TIPS: constä¿®é¥°çš„å‚æ•°ä¸ä¸€å®šæ˜¯å¸¸é‡ï¼Œä¾‹å¦‚ä»–ä¿®é¥°ä¸€ä¸ªå‡½æ•°çš„å‚æ•°çš„æ—¶å€™ï¼Œå‚æ•°è¿˜æ˜¯åªæ˜¯åœ¨æ ˆä¸­ï¼Œåªæ˜¯çº¦å®šä¸èƒ½ä¿®æ”¹ã€‚ 7.</description></item><item><title>ç°ä»£C++ç™½çš®ä¹¦</title><link>https://askyx.github.io/posts/readbooks/%E7%8E%B0%E4%BB%A3c++%E7%99%BD%E7%9A%AE%E4%B9%A6/</link><pubDate>Sun, 06 Mar 2022 20:46:08 +0800</pubDate><guid>https://askyx.github.io/posts/readbooks/%E7%8E%B0%E4%BB%A3c++%E7%99%BD%E7%9A%AE%E4%B9%A6/</guid><description>
è¯»è€…åº # ä¹‹å‰æ²¡æœ‰å¥½å¥½çš„é˜…è¯»è¿‡ä¸€æœ¬ä»»ä½•æŠ€æœ¯ä¹¦ç±ï¼Œä¸€èˆ¬éƒ½æ˜¯æ‰“å¼€å‰å‡ å¼ ï¼Œç„¶åæ…¢æ…¢çš„å¤±å»è€å¿ƒï¼Œæ‰€æœ‰é€ æˆçš„é—®é¢˜æ˜¯ä¸€äº›ä¹¦ç±ä¸Šçš„çŸ¥è¯†ï¼Œåªä¼šå¯¹å‰é¢çš„ç« èŠ‚æœ‰è®°å¿†ï¼Œè€Œå¤§å¤šæ•°çš„ä¹¦ç±å‰é¢çš„ç« èŠ‚ä¹Ÿåªæ˜¯ä»–ä¹¦ç±çš„å…¥é—¨ä»‹ç»è€Œå·²ï¼Œæ‰€ä»¥æˆ‘æ˜¯ä¸ªåŠåŠå­ç¨‹åºå‘˜ï¼Œå·¥ä½œä¸¤å¹´åŠä¹‹åï¼Œè¿™ä¸ªé—®é¢˜è¶Šæ¥è¶Šå›°æ‰°ç€æˆ‘ï¼Œæœ‰æ—¶å€™çœ‹è§åˆ«äººçš„é¢å¸–ï¼Œæ„Ÿè§‰é‚£äº›é—®é¢˜å…¶å®éƒ½å› è¯¥æ˜¯çŸ¥é“ç­”æ¡ˆçš„ï¼Œä½†æ˜¯å½“æˆ‘æƒ³è¦åœ¨è„‘æµ·ä¸­æŠŠç­”æ¡ˆæ•´ç†å‡ºæ¥çš„æ—¶å€™å´æ— ä»è¯´èµ·ï¼Œç®€å•çš„æ¥è¯´å°±æ˜¯æœ‰çš„ä¸œè¥¿æˆ‘æ˜¯çŸ¥é“çš„ï¼Œä½†æ˜¯æ— æ³•è¡¨ç¤ºå‡ºæ¥ï¼Œä¸æˆä½“ç³»ï¼Œè¿™ç»™æˆ‘ä¸€ä¸ªé”™è§‰å°±æ˜¯æˆ‘æ„Ÿè§‰æˆ‘èƒ½åŠ›å¯ä»¥ï¼Œä½†æ˜¯è½åˆ°å®åœ°çš„æ—¶å€™å´å•¥ä¹Ÿåšä¸äº†ï¼Œè„±ç¦»äº†è°·æ­Œç™¾åº¦æˆ–è€…å…¶ä»–æˆ‘ä¹‹å‰çš„èµ„æ–™ï¼Œæˆ‘å•¥éƒ½ä¸è¡Œã€‚
æˆ‘ä¸ªäººè§‰å¾—é—®é¢˜çš„è§£å†³æ–¹å¼æ˜¯å­¦ä¼šè¾“å‡ºï¼ŒæŠŠè‡ªå·±çš„çŸ¥è¯†æ•´ç†è¾“å‡ºï¼Œé€šè¿‡è‡ªå·±è®©åˆ«äººçŸ¥é“ä¸€é¡¹æ–°æŠ€èƒ½ï¼Œæ–°çŸ¥è¯†ï¼Œé‚£å°±ä»£è¡¨è‡ªå·±å…¶å®å·²ç»æœ‰äº†é—¹é çš„åŸºç¡€ï¼ŒçŸ¥è¯†çš„è¾“å‡ºéœ€è¦ä¸€ä¸ªè½½ä½“ï¼Œæˆ‘ä¸æ˜¯è€å¸ˆï¼Œå…¬å¸ä¹Ÿæ²¡æœ‰è¿™ä¸ªæ¸ é“ï¼Œå› ä¸ºå…¬å¸çš„çŸ¥è¯†äº¤æµä¸å·¥ä½œå†…å®¹æ˜¯å¯†åˆ‡ç›¸å…³çš„ï¼Œæ‰€ä»¥è¿™ä¹Ÿæ˜¯æˆ‘æ­å»ºè¿™ä¸ªåšå®¢çš„åŸå› ï¼Œä½†æ„¿æˆ‘å¯ä»¥é•¿æœŸçš„åšæŒä¸‹å»ï¼Œè¯´å®è¯ï¼Œä¹‹å‰å·²ç»æœ‰äº†è¿˜å‡ æ¬¡ç±»ä¼¼çš„ç»å†ï¼Œä½†æ˜¯éƒ½åŠé€”è€ŒåºŸäº†ï¼Œæˆ‘å¸Œæœ›è¿™æ˜¯æœ€åä¸€æ¬¡
å‰è¨€ # ä¹¦ç±æ˜¯Bjarne Stroustupä¸ºHOPLæ‰€æ’°å†™çš„è®ºæ–‡ï¼Œç›®çš„æ˜¯ä»‹ç»c++åœ¨è¿‡å»åˆ°ç°åœ¨çš„å‘å±•å†ç¨‹ï¼Œä»¥åŠå…¶ä¸­ä¸€äº›å¤§çš„åŠŸèƒ½ç‚¹çš„æ¼”åŒ–ã€‚ä¿ƒå‘å±•ä¸Šæ¥åˆ’åˆ†C++å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œä¸€æ˜¯C++98ä¹‹å‰çš„ç±»Cç‰ˆC++ï¼ŒäºŒæ˜¯ä¹‹åçš„C++11ä¹‹åçš„ç°ä»£C++ï¼Œåœ¨è¿›40å¹´çš„æ—¶é—´é‡ŒC++è¿˜æ²¡æœ‰è¢«å–ä»£ï¼Œè¿˜å¯ä»¥åœ¨å¦‚æ­¤å¤šçš„ç¼–ç¨‹è¯­è¨€ä¸­å æ®ä¸€äº›ä¹‹åœ°ï¼Œå¼•ç”¨Bjarne Stroustupå¤§ä½¬çš„è¯è¯´å°±æ˜¯å› ä¸ºä»–å¡«è¡¥äº†ç¼–ç¨‹è¯­è¨€ä¸­ä¸€ä¸ªé‡è¦çš„ç”Ÿæ€ä½ã€‚C++çš„æ ¸å¿ƒæ˜¯ç›´æ¥æ˜ å°„ç¡¬ä»¶å’Œæ—å¼€é”€æŠ½è±¡ï¼Œ
ISO ç¼–ç¨‹è¯­è¨€å¯ä»¥åˆ†ä¸ºä¸‰ç§ï¼Œä¸€æ˜¯æœ‰å…¬å¸ä¸»å¯¼çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¾‹å¦‚Googleçš„goï¼ŒC#ä»¥åŠè‹¹æœçš„swiftç­‰ï¼ŒäºŒæ˜¯ç”±ç¤¾åŒºä¸»å¯¼å¦‚phpï¼Œpythonç­‰ï¼Œè¿™ä¸¤ç§åœ¨é™¤äº†æ˜¾è€Œæ˜“è§çš„å¥½å¤„ä¹‹å¤–çš„ï¼Œéƒ½æœ‰å„è‡ªçš„é—®é¢˜ï¼Œå…¬å¸ä¸»å¯¼çš„è¯­è¨€çš„ï¼Œå¯èƒ½å“å…¬å¸å¼ºåŠ¿çš„æ—¶å€™è¿˜å¯ä»¥å¾—åˆ°å‘å±•ï¼Œä½†æ˜¯å…¬å¸æ²¡è½ä¹‹åï¼Œè¯­è¨€æ²¡æœ‰æ”¯æŒå¯èƒ½å°±æ— äº†ï¼Œè¿˜æœ‰é‚£å®¶å…¬å¸ä¸»å¯¼ï¼Œé‚£è¯­è¨€å°±æ˜¯é‚£å®¶å…¬å¸çš„äº§å“ï¼ŒæŠ€æœ¯ä¸Šçš„mapç”±å…¬å¸æŒ‡å®šï¼Œå°å…¬å¸æ²¡æœ‰èƒ½åŠ›å¯ä»¥å½±å“åˆ°è¯­è¨€çš„åç»­å‘å±•ï¼Œå¯¹äºç¤¾åŒºï¼Œåˆ™å¯èƒ½ä¼šç”±äºæ²¡æœ‰ä¸€ä¸ªæ ¸å¿ƒçš„ä¸ªäººæˆ–è€…ç»„ç»‡æ¥å¼•å¯¼æ–¹å‘ï¼Œå¯¼è‡´è¯­è¨€åç¦»æœ€åˆé¡¶ä¸‹çš„å‘å±•é“è·¯ã€‚Bjarne Stroustupå°±æ˜¯åŸºäºä»¥ä¸Šçš„åŸå› ï¼Œæå‡ºç»„å»ºä¸€ä¸ªæ ‡å‡†å§”å‘˜ä¼šæ¥å¼•å¯¼C++ çš„å‘å±•ï¼Œ
è¯­è¨€ç‰¹æ€§ å…·ä½“çš„å®šä¹‰çš„è¯­è¨€çš„è§„åˆ™ï¼Œæœ‰å¯¹åº”çš„å…·ä½“çš„å®ç°
1. èµ·æº # C++æ ¸å¿ƒç‰¹æ€§
è¯­è¨€åˆ°è®¾å¤‡ä¹‹é—´çš„ç›´æ¥æ˜ å°„ é›¶å¼€é”€æŠ½è±¡ ä¸ä½¿ç”¨çš„ä¸œè¥¿å°±ä¸éœ€è¦ä»˜å‡ºä»»ä½•ä»£ä»· ä½¿ç”¨åˆ°çš„ä¸œè¥¿å°±æ˜¯å¯ä»¥å®ç°çš„æœ€å¥½çš„ æŠ½è±¡å…·ä½“ä¸ºç±»ï¼Œå‡½æ•°ï¼Œæ¨¡æ¿ï¼Œæ¦‚å¿µå’Œåˆ«å simula æœ€æ—©çš„é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œä¹‹åå‡ ä¹æ‰€æœ‰çš„é¢å‘å¯¹è±¡çš„è¯­è¨€éƒ½æ˜¯ç›´æ¥æˆ–è€…é—´æ¥çš„å—å¥¥ä»–çš„å°è±¡ã€‚
C++æœ€åˆæ˜¯åœ¨1979å¹´æ¨å‡ºçš„ï¼Œé‚£æ—¶å€™æ˜¯çœŸæ­£çš„å¸¦ç±»çš„Cã€‚ Bjarne Stroustupçš„ç›®çš„æ˜¯æƒ³è¦ä¸€ä¸ªå¯ä»¥ç›´æ¥æ˜ å°„ç¡¬ä»¶ï¼ŒåŒæ—¶åˆæœ‰ç±»ä¼¼äºsimulaçš„å…·æœ‰æŠ½è±¡èƒ½åŠ›çš„è¯­è¨€ï¼Œé‚£æ˜¯ä¸€ä¸ªå®éªŒæ€§è´¨çš„è¯­è¨€çš„ï¼Œå®ç°å°±æ˜¯æŠŠç¼–ç ä»C++é€è¡Œç¿»è¯‘åˆ°Cï¼Œä¹‹åçš„1982å¹´ï¼Œéšç€äººæ•°çš„å¢åŠ ï¼Œä»–é‡å†™äº†å‰ç«¯ï¼Œå®ç°äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ç¼–è¯‘å™¨ï¼Œä½†æ˜¯å®é™…ä¸Šåœ¨ä»£ç ç”Ÿæˆçš„æ˜¯æ—¶å€™ï¼Œè¿˜æ˜¯ç”Ÿæˆçš„æ˜¯Cï¼Œ
ä¹‹åå°±æ˜¯å¹³ç¨³çš„å‘å±•åˆ°æ¨å‡º98ç‰ˆæœ¬çš„C++ï¼Œä¸è€ƒè™‘æœ€è¿‘çš„ä¸€äº›æ–°ç‰¹æ€§çš„è¯ï¼Œæˆ‘ä»¬å¤§éƒ¨åˆ†äººçš„C++ çŸ¥è¯†å°±åˆ°è¿™é‡Œäº†ã€‚æ­¤æ—¶C++å®ç°äº†
ç±» å¤šæ€ è¿ç®—ç¬¦é‡è½½ ç±»å‹å®‰å…¨è¿æ¥ æŠ½è±¡ç±» æ¨¡æ¿ æ›´å¥½çš„æ³›å‹ç¼–ç¨‹ã€‚å¤§ä½¬æœ€åˆçš„æ—¶å€™ä½¿ç”¨å®å®ç°çš„æ³›å‹ç¼–ç¨‹ å¼‚å¸¸ RAII *_cast bool STLæ ‡å‡†åº“ ä¸Šè¿°å°±æ˜¯æœ€åˆçš„98çš„C++å®ç°çš„åŠŸèƒ½ç‚¹ï¼Œå®é™…ä¸Šä¹Ÿæ˜¯å¤§å¤šæ˜¯C++çš„å¼€å‘äººå‘˜çŸ¥é“çš„æœ€è¯¦ç»†çš„C++çŸ¥è¯†ã€‚ä¹‹åå°±æ˜¯æ¼«é•¿è¿‡æ¸¡æœŸï¼Œç›´åˆ°11ç‰ˆæœ¬çš„æ¨å‡ºï¼Œä½¿C++è¿›å…¥æ–°æ—¶ä»£ï¼Œ 06å¹´å•æ ¸å¤„ç†å™¨æ–°èƒ½å‡ ä¹ä¸å†æå‡ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†åº”ç”¨å¼€å§‹å¯»æ‰¾å¯ä»¥æå‡æ€§èƒ½çš„ç¼–ç¨‹è¯­è¨€ï¼Œ C++11 æ–°æ—¶ä»£ # è®¸å¤šæ–°çš„ç‰¹æ€§çš„å¼•å…¥ï¼Œä½¿å¾—C++ç±»ä¼¼ä¸€ä¸ªæ–°è¯­è¨€ ç‰¹æ€§å¦‚ä¸‹</description></item><item><title>Envs</title><link>https://askyx.github.io/posts/others/envs/</link><pubDate>Mon, 21 Feb 2022 19:00:25 +0800</pubDate><guid>https://askyx.github.io/posts/others/envs/</guid><description>
hugo # wget https://github.com/gohugoio/hugo/releases/download/v0.92.1/hugo_0.92.1_Linux-64bit.deb https://github.91chi.fun/https://github.com//gohugoio/hugo/releases/download/v0.92.2/hugo_extended_0.92.2_Linux-64bit.deb sudo dpkg -i hugo*.deb
140.82.113.3
aria2c -s 5 https://github.com/gohugoio/hugo/releases/download/v0.92.1/hugo_0.92.1_Linux-64bit.deb
https://github.com/gohugoio/hugo/releases/download/v0.92.1/hugo_0.92.1_Linux-64bit.deb
å¯ä»¥ä½¿ç”¨aria2ä¸‹è½½ï¼Œubuntuä½¿ç”¨apt install aria2ç›´æ¥å®‰è£…å·¥å…·ï¼Œä½¿ç”¨-så¼€å¯å¤šè·¯ä¸‹è½½ aria2c -s 5 https://github.com/gohugoio/hugo/releases/download/v0.92.1/hugo_0.92.1_Linux-64bit.deb
managerç”¨æˆ·
https://www.jianshu.com/p/a76a93e8c662
Unix # åˆ†åŒºé—®é¢˜ï¼Œé›†ç¾¤ä¸Šå¤šå—ç£ç›˜åˆ†åŒºæŒ‚è½½åˆ°æŒ‡å®šç›®å½•
fdisk disk å¯ä»¥å¯¹ä¸€ä¸ªç£ç›˜è¿›è¡Œåˆ†åŒºçš„æ·»åŠ å’Œåˆ é™¤ç­‰æ“ä½œ p d w h æ·»åŠ ç£ç›˜æŒ‚è½½
lsblk -f æŸ¥çœ‹ç£ç›˜ mkfs.xfs -f -n ftype=1 /dev/sdb1 æ ¼å¼åŒ–ç£ç›˜ mount /dev/sdb1 /var/lib/docker æŒ‚è½½ xfs_info /dev/sdb1 | grep ftype=1 blkid /dev/sdb1 æŸ¥çœ‹UUID UUID=&amp;lt;UUID&amp;gt; /var/lib/docker xfs defaults 0 0 å†™è¿›/etc/fstab é—®é¢˜Couldn't find device with uuid 4mhUbb-Ls1h-jp0d-JuJK-C38V-T3tX-f7s2IN</description></item><item><title>Docker</title><link>https://askyx.github.io/posts/others/docker/</link><pubDate>Sun, 20 Feb 2022 21:17:58 +0800</pubDate><guid>https://askyx.github.io/posts/others/docker/</guid><description>
docker å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥ï¼Œç§ç”¨</description></item><item><title>C++ Primer Plus</title><link>https://askyx.github.io/posts/languange/cpp/</link><pubDate>Sun, 20 Feb 2022 20:54:01 +0800</pubDate><guid>https://askyx.github.io/posts/languange/cpp/</guid><description>
ç¼–è¯‘å™¨ # æŠŠé«˜çº§è¯­è¨€ç¼–è¯‘æˆå¯æ‰§è¡Œè¯­è¨€å·¥å…·ï¼Œåˆ†ä¸ºå‰ç«¯ååç«¯ï¼Œå‰ç«¯å€¼å¾—æ˜¯é«˜çº§è¯­è¨€çš„è§£æï¼Œåç«¯æ˜¯æŒ‡ç¿»è¯‘è§£æä¹‹åçš„ç»“æœä¸ºæœºå™¨è¯­è¨€
å¤šæ–‡ä»¶ ** è¿æ¥ å¤šæ–‡ä»¶ç¼–è¯‘å¯ä»¥æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€æ˜¯ç›´æ¥ç¼–è¯‘ä¸ºä¸€ä¸ªå¯ä»¥æ‰§è¡Œæ–‡ä»¶ï¼ŒäºŒæ˜¯æŒ‰æ¨¡å—æˆ–è€…æŒ‰æ–‡ä»¶ç¼–è¯‘ä¸ºåº“ï¼Œç„¶åè¿æ¥åˆ°æ‰§è¡Œæ–‡ä»¶
è¿æ¥æ–¹å¼æœ‰ä¸¤ç§ï¼Œ ä¸€æ˜¯é™æ€è¿æ¥ï¼ŒæŠŠæ‰€æœ‰çš„åº“æ–‡ä»¶æ‰“åŒ…åˆ°æœ€åçš„ç”Ÿæˆæ–‡ä»¶ä¸­ï¼Œä¼˜ç‚¹æ˜¯ä¸éœ€è¦é¢å¤–çš„ä¾èµ–å¤–éƒ¨ç¯å¢ƒï¼Œç‹¬ç«‹æ€§å¼ºï¼Œç¼ºç‚¹æ˜¯æ–‡ä»¶ä½“ç§¯å¤§ äºŒæ˜¯åŠ¨æ€é“¾æ¥ï¼Œä¸ºäº†è§£å†³é™æ€é“¾æ¥çš„ç¼ºç‚¹ï¼Œæ‰§è¡Œæ–‡ä»¶åœ¨æ‰§è¡Œåˆ°åº“ç›¸å…³çš„ä»£ç çš„æ—¶å€™æ‰åŠ è½½åº“ï¼Œæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œåœ¨ä½¿ç”¨åˆ°åŠ¨æ€åº“çš„æ—¶å€™æ‰æ˜ å°„åŠ¨æ€åº“åˆ°å†…å­˜ç©ºé—´ä¸­ã€‚åŸç†æ˜¯ç¼–è¯‘å¾…æ´åœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œä¼šæ›´å…·å£°æ˜ç”Ÿæˆå‡½æ•°çš„è°ƒç”¨é€»è¾‘ï¼Œä½†æ˜¯åªæ˜¯ä¸€ä¸ªåœ°å€è·³è½¬è¯­å¥ï¼Œæ‰€ä»¥ï¼Œåªè¦ä¸è°ƒç”¨ï¼Œå°±ä¸ä¼šæœ‰é—®é¢˜ï¼Œå½“è°ƒç”¨åˆ°äº†ã€‚æ‰ä¼šåŠ è½½åº“ç„¶åæ˜ å°„åº“çš„åœ°å€ï¼Œè¿™ä¸ªå®Œæ•´çš„è¿‡ç¨‹ç§°ä¸ºé‡å®šå‘ã€‚ åŠ¨æ€è¿æ¥ Cè¯­è¨€ç¼–ç¨‹é€è§† å£°æ˜ å£°æ˜æ˜¯ä¸ºäº†åœ¨ç¼–è¯‘çš„æ—¶å€™ç¼–è¯‘å™¨èƒ½è¿›è¡Œå®Œæ•´çš„ä¸Šä¸‹æ–‡ç¼–è¯‘ã€‚ä»–éœ€è¦æ›´å…·å£°æ˜æ¥ç¡®å®šç¼–è¯‘ä¿¡æ¯ï¼Œå¦åˆ™ç¼–è¯‘å™¨æ— æ³•ç¡®å®šç¼–è¯‘ä¸­çš„è¯­å¥ä¿¡æ¯ï¼Œå£°æ˜å¯ä»¥è¾…åŠ©å®Œæˆè¿™ä¸ªæƒ…å†µï¼Œ æ‰€ä»¥ç†è®ºä¸Šç¼–è¯‘çš„æ—¶å€™æ˜¯å¯ä»¥ä¸éœ€è¦å®ç°çš„ï¼Œå¯ä»¥åœ¨å…¶ä»–ç¼–è¯‘å•å…ƒä¸­å®ç°å£°æ˜çš„å‡½æ•°ï¼Œå…¶å£°æ˜çš„æ–‡ä»¶å¯ä»¥ä¸å¼•ç”¨å¤´æ–‡ä»¶ï¼Œå³ä¸¤ä¸ªç¼–è¯‘å•å…ƒå®Œå…¨å¯ä»¥æ— ä»»ä½•è”ç³»ï¼Œé™¤äº†å£°æ˜ä¹‹å¤–ï¼Œåœ¨è¿æ¥çš„æ—¶å€™ï¼Œè¿æ¥å™¨ä¼šæ ¹æ®ç¼–è¯‘å‡ºæ¥çš„ä¿¡æ¯å»ç¡®å®šå‡½æ•°è°ƒç”¨æƒ…å†µï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼ŒæŒ‰ä¸Šè¿°çš„æè¿°ï¼Œæ˜¯ä¸€ä¸ªå£°æ˜å¯¹åº”ä¸€ä¸ªå®ç°ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå£°æ˜å¯¹åº”å¤šä¸ªå®ç°å‘¢ == ï¼š ä¼šæœ‰è¦†ç›–é—®é¢˜ï¼Œå¦‚æœå¤šä¸ªåŠ¨æ€é“¾æ¥åº“éƒ½æœ‰åŒä¸€ä¸ªå£°æ˜çš„å®ç°ï¼Œåˆ™è¿æ¥çš„æ—¶å€™è¿æ¥ç¬¬ä¸€ä¸ªï¼Œåé¢çš„åˆ™å¿½ç•¥ï¼Œè¿™ä¹Ÿæé†’æˆ‘ä»¬ï¼Œåœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œé¿å…åŒåå…¨å±€å‡½æ•°æˆ–è€…å˜é‡ï¼Œä½¿ç”¨namespaceæˆ–è€…staticé™åˆ¶ä½œç”¨åŸŸï¼Œ
g++ -o tt ../main.cpp -ldl ./libhellolib.so ./libhellolib1.so LD_LIBRARY_PATH=$PWD ./tt å¤´æ–‡ä»¶ï¼Œé¿å…å…¬ç”¨ä»£ç çš„é‡å¤ï¼Œé¢„å¤„ç†æ—¶å±•å¼€å¤´æ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨#pragma onceé¿å…é‡å¤å¼•ç”¨ï¼Œå¤´æ–‡ä»¶åªæ˜¯ç®€å•çš„æ–‡ä»¶æ›¿æ¢ï¼Œç†è®ºä¸Šçš„å¯ä»¥æ›¿æ¢ä»»ä½•æ–‡æœ¬ã€‚ cmake * å­æ¨¡å—ï¼Œä½¿ç”¨add_subdirectoryå¼•å…¥ * ç¬¬ä¸‰æ–¹åº“ * åªæ˜¯å¤´æ–‡ä»¶ï¼Œç›´æ¥æŒ‡å®šå¤´æ–‡ä»¶ç›®å½•ç¼–è¯‘å³å¯ * ä½¿ç”¨å­æ¨¡å— * ä½¿ç”¨ä¸ºè¿æ¥åº“ * ä½¿ç”¨gitæ¨¡å—
STL
é‡ç‚¹ä¸ºå®¹å™¨å’Œç®—æ³• lambdaè¡¨è¾¾å¼ï¼Œå®è´¨ä¸Šæ˜¯ä»¿å‡½æ•°ï¼Œæ˜¯ä¸€ä¸ªç»“æ„ä½“å®ç°()è¿ç®—çš„é‡è½½ï¼Œæ•è·çš„æ—¶å€™æŒ‰ç…§å£°æ˜çš„æ–°å¼æ•è·å‚æ•°ï¼Œå»ºè®®ä½¿ç”¨çš„æ—¶å€™æ˜ç¡®ä½¿ç”¨çš„å‚æ•°ï¼Œä½¿ç”¨å“ªä¸ªå°±æ•è·å“ªä¸€ä¸ªï¼Œå¦åˆ™ä»–å®é™…ä¸Šä¼šå æ®ä¸€å®šçš„å¤§å°çš„ï¼Œé…åˆstd::functionä½¿ç”¨
CTAD &amp;mdash; complie-time argument deductionï¼Œç¼–è¯‘å™¨å‚æ•°æ¨æ–­ï¼ŒC++17å¼•å…¥çš„ï¼Œå¯ä»¥åœ¨ç¼–è¯‘å™¨æŒ‰ç…§ä¸Šä¸‹æ–‡æ¨æ–­ç±»å‹ï¼Œå…·ä½“è¡¨ç°åœ¨lambdaå‚æ•°å¯ä»¥ä½¿ç”¨autoï¼Œå®¹å™¨å¯ä»¥ä¸é€‚ç”¨&amp;lt;&amp;gt;
ranges https://zhuanlan.</description></item><item><title/><link>https://askyx.github.io/posts/others/adbplan/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://askyx.github.io/posts/others/adbplan/</guid><description>
issues # 1490 # 1921 # 1699 # http://10.20.16.216:9090/ADB/AntDB/-/issues/1490 http://10.20.16.216:9090/ADB/AntDB/-/issues/1921 http://10.20.16.216:9090/ADB/AntDB/-/issues/1699
é—®é¢˜ # ä½¿ç”¨åˆ°reduceçš„åœ°æ–¹ï¼ˆåŒ…æ‹¬æŸ¥è¯¢ï¼‰å¶ç°ä»¥ä¸‹é”™è¯¯ï¼Œå†æ¬¡æ‰§è¡Œsqlå°±æ­£å¸¸ï¼›
ERROR: remote node 16389 closed socket CONTEXT: dynamic reduce å¤ç°æ–¹æ³• # ä½¿ç”¨ä¿®æ”¹åˆ†å¸ƒæ–¹å¼çš„æ–¹å¼å»å¤ç°é—®é¢˜ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š åˆ›å»º100å¼ è¡¨ï¼Œç„¶åå¹¶å‘100ï¼Œä¸åœæ‰§è¡Œä¸‹é¢çš„è¯­å¥ï¼Œ5åˆ†é’Ÿä¹‹å†…ä¼šå‡ºç°æŠ¥é”™ï¼š
alter table xxx distribute by replication; alter table xxx distribute by random; æ— æ³•ç›´æ¥å¤ç° 1779 # http://10.20.16.216:9090/ADB/AntDB/-/issues/1779
é—®é¢˜ # æ‰§è¡Œè®¡åˆ’ä¸æ­£ç¡®å¯¼è‡´dyreduceæ‰§è¡Œå‡ºé”™
å¤ç°æ–¹æ³• # create table tttb1( c1 int,c2 varchar(100),c3 varchar(100)); create table tttb2(c1 int,sheet_num varchar(100)); create table tttb3(c1 int,order_no varchar(100)); explain select count(distinct c2) from tttb1 where c2 in (select distinct sheet_num from tttb2,tttb3 where sheet_num=order_no and c3=&amp;#39;1&amp;#39;); create table tb1(c1 int,c2 varchar(100),c3 varchar(100)); create table tb2(c1 int,sheet_num varchar(100)); create table tb3(c1 int,order_no varchar(100)); explain select count(distinct c2) from tb1 where c2 in (select distinct sheet_num from tb2,tb3 where sheet_num=order_no and c3=&amp;#39;1&amp;#39;); insert into tb1 select (random()*10000000)::int, (random()*10000000)::int, (random()*10000000)::int from generate_series(1,100000); insert into tb2 select (random()*10000000)::int, (random()*10000000)::int from generate_series(1,100000); insert into tb3 select (random()*10000000)::int, (random()*10000000)::int from generate_series(1,100000); create table tb1int(c1 int,c2 int,c3 int); create table tb2int(c1 int,sheet_num int); create table tb3int(c1 int,order_no int); explain select count(distinct c2) from tb1int where c2 in (select distinct sheet_num from tb2int,tb3int where sheet_num=order_no and c3=1); insert into tb1int select (random()*10000000)::int, (random()*10000000)::int, (random()*10000000)::int from generate_series(1,100000); insert into tb2int select (random()*10000000)::int, (random()*10000000)::int from generate_series(1,100000); insert into tb3int select (random()*10000000)::int, (random()*10000000)::int from generate_series(1,100000); 1875 # http://10.</description></item><item><title/><link>https://askyx.github.io/posts/others/log/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://askyx.github.io/posts/others/log/</guid><description>
è¯­å¥
prepare s3(int, int) as select no_o_id from bmsql_new_order where no_w_id = $1 and no_d_id = $2 order by no_o_id asc; QUERY PLAN --------------------------------------------------------------------------------------------------- Cluster Gather (cost=291.52..430.37 rows=459 width=4) Remote node: 16386 -&amp;gt; Sort (cost=291.52..292.67 rows=459 width=4) Output: no_o_id Sort Key: bmsql_new_order.no_o_id -&amp;gt; Bitmap Heap Scan on public.bmsql_new_order (cost=13.46..271.23 rows=459 width=4) Output: no_o_id Recheck Cond: ((bmsql_new_order.no_w_id = 1) AND (bmsql_new_order.no_d_id = 1)) -&amp;gt; Bitmap Index Scan on bmsql_new_order_pkey (cost=0.00..13.34 rows=918 width=0) Index Cond: ((bmsql_new_order.</description></item><item><title/><link>https://askyx.github.io/posts/others/%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E9%80%BB%E8%BE%91/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://askyx.github.io/posts/others/%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E9%80%BB%E8%BE%91/</guid><description>
predicate_refuted_by å’Œ make_new_qual_listçš„è¿è¡Œé€»è¾‘ä»¥åŠPARAM æ— æ³•é€‰å‡ºä¸€ä¸ªèŠ‚ç‚¹çš„åŸå› 
make_new_qual_listéœ€è¦ä½¿ç”¨è¡¨è¾¾å¼å’Œåˆ†åŒºä¿¡æ¯æ„é€ æ–°çš„è¡¨è¾¾å¼ï¼Œä½†æ˜¯PARAMä¸æ˜¯å¸¸é‡ï¼Œæ‰€ä»¥æ— æ³•æ„é€ ï¼Œ æ‰€ä»¥predicate_refuted_byåˆ¤å®šå˜å¤§æ—¶å’Œçº¦æŸçš„æ—¶å€™æ— æ³•æ­£ç¡®çš„é€‰æ‹©èŠ‚ç‚¹ï¼ŒåŠ¨æ€è¯­å¥åªè¦ä½¿ç”¨åˆ°åˆ†åŒºé”®éƒ½ä¸è¡Œ
node_count = 2 Table &amp;#34;public.bmsql_new_order&amp;#34; Column | Type | Nullable | Storage | ---------+---------+----------+---------+ no_w_id | integer | not null | plain | no_d_id | integer | not null | plain | no_o_id | integer | not null | plain | Indexes: &amp;#34;bmsql_new_order_pkey&amp;#34; PRIMARY KEY, btree (no_w_id, no_d_id, no_o_id) Foreign-key constraints: &amp;#34;no_order_fkey&amp;#34; FOREIGN KEY (no_w_id, no_d_id, no_o_id) REFERENCES bmsql_oorder(o_w_id, o_d_id, o_id) DISTRIBUTE BY HASH(no_w_id) TO NODE(dn1, dn2) Access method: heap æ•°æ®åˆ†å¸ƒ benchmarksql=# execute direct on (dn1) &amp;#39;select distinct no_w_id from public.</description></item><item><title/><link>https://askyx.github.io/posts/others/%E5%8A%A8%E6%80%81%E8%AF%AD%E5%8F%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://askyx.github.io/posts/others/%E5%8A%A8%E6%80%81%E8%AF%AD%E5%8F%A5/</guid><description>
prepare s34(int, int) as select no_o_id from bmsql_new_order where no_w_id = $1 and no_d_id = $2 order by no_o_id asc; explain verbose execute s34(4,1); prepare s35(int, int) as select no_o_id from bmsql_new_order where no_w_id = $1 and no_d_id = $2 order by no_o_id asc for update; explain verbose execute s35(4,1);
prepare s35(int, int) as select a.no_o_id from bmsql_new_order a join bmsql_new_order b on a.no_w_id = b.no_w_id and a.no_w_id = 4 order by no_o_id asc;</description></item><item><title/><link>https://askyx.github.io/posts/others/%E9%9D%99%E6%80%81%E8%AF%AD%E5%8F%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://askyx.github.io/posts/others/%E9%9D%99%E6%80%81%E8%AF%AD%E5%8F%A5/</guid><description>
explain verbose select no_o_id from bmsql_new_order where no_w_id = 4 and no_d_id = 1 order by no_o_id asc;
benchmarksql=# explain verbose select no_o_id from bmsql_new_order where no_w_id = 4 and no_d_id = 1 order by no_o_id asc; QUERY PLAN # Data Node Scan on &amp;ldquo;REMOTE_FQS_QUERY&amp;rdquo; (cost=0.00..0.00 rows=0 width=0) Output: bmsql_new_order.no_o_id Node/s: dn2 Remote query: SELECT no_o_id FROM public.bmsql_new_order bmsql_new_order WHERE ((no_w_id = 4) AND (no_d_id = 1)) ORDER BY no_o_id (4 rows)</description></item><item><title/><link>https://askyx.github.io/posts/personal/%E7%AE%80%E5%8E%86/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://askyx.github.io/posts/personal/%E7%AE%80%E5%8E%86/</guid><description>
æ–‡ç£Š # ä¸ªäººä¿¡æ¯ # æ€§ åˆ«ï¼šç”· å¹´ é¾„ï¼š28 æ‰‹ æœºï¼š18705169510 é‚® ç®±ï¼š404061090@qq.com
å·¥ä½œåŠæ•™è‚²ç»å† # æ¹–å—äºšä¿¡å®‰æ…§ç§‘æŠ€æœ‰é™å…¬å¸ 2022.7~now AntDB-T SQLå†…æ ¸ç ”å‘å·¥ç¨‹å¸ˆ
ä¸»è¦è´Ÿè´£ä¼˜åŒ–å™¨å¯¹åˆ†å¸ƒå¼æ‰§è¡Œè®¡åˆ’çš„ä¼˜åŒ– æ˜Ÿç¯ç§‘æŠ€æœ‰é™å…¬å¸ 2022.2~2022.3 åŸºç¡€æ¶æ„éƒ¨-æ•°æ®åº“ç ”å‘å·¥ç¨‹å¸ˆ
ä¸»è¦èŒè´£ä¸ºè´Ÿè´£ArgoDBæ•°æ®åº“å­˜å‚¨å¼•æ“çš„ç ”å‘å·¥ä½œ æ˜“é²¸æ·ä¿¡æ¯æŠ€æœ¯æœ‰é™å…¬å¸ 2019.7~2022.1 SQLå†…æ ¸ç ”å‘å·¥ç¨‹å¸ˆ
è´Ÿè´£EsgynDBå’ŒOracleçš„SQLå…¼å®¹å·¥ä½œ è´Ÿè´£BUGä¿®å¤ è´Ÿè´£ä¸€äº›éœ€æ±‚å¼€å‘ ä¸äº¤ä»˜åŒäº‹ä¸€èµ·æ’æŸ¥é¡¹ç›®ç°åœºé—®é¢˜ï¼ŒSQLè¯­å¥ä¼˜åŒ–ç­‰ å—äº¬é‚®ç”µå¤§å­¦ 2015.9~2019.6 è½¯ä»¶å·¥ç¨‹-æœ¬ç§‘
ä¸“ä¸šæŠ€èƒ½ # ç¼–ç¨‹è¯­è¨€ c++(ç†Ÿæ‚‰)ï¼ŒJava(äº†è§£)ï¼ŒGO(äº†è§£)
æ•°æ®åº“
å·¥ä½œå¼€å§‹å°±ä»äº‹æ•°æ®åº“å†…æ ¸å¼€å‘ï¼Œæœ‰ä¸€å®šçš„æ•°æ®åº“åŸºç¡€ï¼Œæ›¾ç³»ç»Ÿå­¦ä¹ è¿‡ç›¸å…³è¯¾ç¨‹
ç†Ÿæ‚‰å¤šç§æ•°æ®åº“å†…æ ¸å®ç°åŸç†ï¼Œä¸»è¦ä¸ºtrafodionå’Œpostgresã€‚å¯¹å…¶ä»–pgç±»æ•°æ®åº“ä¹Ÿæœ‰ä¸€å®šçš„ç†è§£ï¼Œ
å¦‚greenplumï¼Œopengauseç­‰
äº†è§£SQLä¼˜åŒ–å™¨çš„åŸç†ï¼Œäº†è§£å¸¸ç”¨é€»è¾‘ä¼˜åŒ–è§„åˆ™åŠä»£ä»·ä¼˜åŒ–è§„åˆ™ç­‰</description></item><item><title/><link>https://askyx.github.io/posts/postgres/remotequery/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://askyx.github.io/posts/postgres/remotequery/</guid><description>
remote Query # ç²¾ç¡®é€‰æ‹©æ•°æ®æºï¼Œéœ€è¦ä»è¯­å¥çš„çº¦æŸæ¡ä»¶ä¸­è®¡ç®—å‡ºå…·ä½“çš„æ‰§è¡Œæ•°æ®æºèŠ‚ç‚¹ï¼Œç„¶åæŠŠè¯­å¥ä¸‹å‘çš„å¯¹åº”çš„ DN æ“ä½œå°½å¯èƒ½ä¸‹æ¨ï¼Œä¸‹æ¨ä¸€äº›æ“ä½œåˆ°å¯¹åº”çš„DNä¸Šæ‰§è¡Œ remote queryå½“å‰ä½¿ç”¨ä¸¤é˜¶æ®µä¼˜åŒ–
ç¬¬ä¸€é˜¶æ®µæ˜¯FQSï¼Œå¯¹è¯­å¥è¿›è¡Œç®€å•çš„åˆ¤æ–­ï¼Œå¦‚æœè¯­å¥å¯ä»¥å®Œå…¨åœ¨DNä¸Šæ‰§è¡Œï¼Œåˆ™ç›´æ¥åœ¨è¿™é‡Œåˆ›å»ºremote planï¼Œç„¶åç›´æ¥è¿”å›ï¼Œå¦‚ä¸‹ä¾‹å­
benchmarksql=# explain select * from t1; QUERY PLAN ---------------------------------------------------------------------------- Data Node Scan on &amp;#34;__REMOTE_FQS_QUERY__&amp;#34; (cost=0.00..0.00 rows=0 width=0) Primary node/s: dn1 Node/s: dn1, dn2 (3 rows) ç¬¬äºŒé˜¶æ®µï¼ŒFQSåˆ¤æ–­å¤±è´¥çš„è¯­å¥ï¼Œæ­¤æ—¶éœ€è¦è¿›è¡Œå¸¸è§„ä¼˜åŒ–ï¼Œä¸€èˆ¬æ˜¯è¯­å¥éœ€è¦DNä¹‹é—´çš„æ•°æ®å‘ç”Ÿäº¤æ¢çš„æ—¶å€™ï¼Œä¾‹å¦‚joinä½¿ç”¨å¤šè¡¨ï¼Œ ä½†æ˜¯å…³è”æ¡ä»¶ä¸æ˜¯åˆ†åŒºé”®ï¼Œæ­¤æ—¶éœ€è¦æŠŠDNçš„æ•°æ®è¯»å–åˆ° CN ä¸Šï¼Œç„¶åè¿›è¡Œå…³è”ï¼Œ
postgres=# explain select * from t1 join t2 on t1.c1 = t2.c1; QUERY PLAN --------------------------------------------------------------------------------------------------- Hash Join (cost=2752.50..5509.65 rows=3000 width=16) Hash Cond: (t2.</description></item><item><title/><link>https://askyx.github.io/posts/postgres/sublink/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://askyx.github.io/posts/postgres/sublink/</guid><description>
typedef struct SubPlan { pg_node_attr(no_query_jumble) Expr xpr; /* Fields copied from original SubLink: */ SubLinkType subLinkType; /* see above */ /* The combining operators, transformed to an executable expression: */ Node *testexpr; /* OpExpr or RowCompareExpr expression tree */ List *paramIds; /* IDs of Params embedded in the above */ /* Identification of the Plan tree to use: */ int plan_id; /* Index (from 1) in PlannedStmt.subplans */ /* Identification of the SubPlan for EXPLAIN and debugging purposes: */ char *plan_name; /* A name assigned during planning */ /* Extra data useful for determining subplan&amp;#39;s output type: */ Oid firstColType; /* Type of first column of subplan result */ int32 firstColTypmod; /* Typmod of first column of subplan result */ Oid firstColCollation; /* Collation of first column of subplan result */ /* Information about execution strategy: */ bool useHashTable; /* true to store subselect output in a hash table (implies we are doing &amp;#34;IN&amp;#34;) */ bool unknownEqFalse; /* true if it&amp;#39;s okay to return FALSE when the * spec result is UNKNOWN; this allows much * simpler handling of null values */ bool parallel_safe; /* is the subplan parallel-safe?</description></item><item><title/><link>https://askyx.github.io/posts/postgres/%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://askyx.github.io/posts/postgres/%E9%85%8D%E7%BD%AE/</guid><description>
é…ç½®æ–‡ä»¶guc.c
http://www.postgres.cn/docs/12/view-pg-settings.html
Column | Type | Collation | Nullable | Default | Storage | Description &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;+&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;+&amp;mdash;&amp;mdash;&amp;mdash;-+&amp;mdash;&amp;mdash;&amp;mdash;+&amp;mdash;&amp;mdash;&amp;mdash;-+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- name | text | | | | extended | åç§° setting | text | | | | extended | é…ç½® unit | text | | | | extended | å•ä½ category | text | | | | extended | åˆ†ç±» short_desc | text | | | | extended | æè¿° extra_desc | text | | | | extended | é™„åŠ æè¿° context | text | | | | extended | ä¸Šä¸‹æ–‡ vartype | text | | | | extended | å‚æ•°ç±»å‹ source | text | | | | extended | æ¥æº min_val | text | | | | extended | æœ€å°å€¼ max_val | text | | | | extended | æœ€å¤§å€¼ enumvals | text[] | | | | extended | æšä¸¾çš„å…è®¸å€¼ boot_val | text | | | | extended | é»˜è®¤å€¼ reset_val | text | | | | extended | å½“å‰sessionä¸­reset ä¹‹åä¼šè®¾ç½®çš„å€¼ sourcefile | text | | | | extended | è®¾ç½®æ–‡ä»¶ sourceline | integer | | | | plain | æ–‡ä»¶è¡Œå· pending_restart | boolean | | | | plain | ä¿®æ”¹æ–‡ä»¶æ˜¯å¦éœ€è¦é‡å¯ç”Ÿæ•ˆ select name, setting, boot_val, reset_val, sourcefile, sourceline, pending_restart from pg_settings ; View definition: SELECT a.</description></item><item><title/><link>https://askyx.github.io/posts/static/mysql/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://askyx.github.io/posts/static/mysql/</guid><description/></item></channel></rss>