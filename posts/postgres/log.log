postgres=# BEGIN ISOLATION LEVEL  READ COMMITTED;
BEGIN
postgres=*# INSERT INTO T VALUES(3, 'AA');
INSERT 0 1
postgres=*# INSERT INTO T VALUES(1, 'AA');
INSERT 0 1
postgres=*# commit;
COMMIT


recvfrom(11, "Q\0\0\0+BEGIN ISOLATION LEVEL  READ COMMITTED;\0", 8192, 0, NULL, NULL) = 44
sendto(11, "C\0\0\0\nBEGIN\0Z\0\0\0\5T", 17, 0, NULL, 0) = 17

recvfrom(11, "Q\0\0\0#INSERT INTO T VALUES(1, 'AA');\0", 8192, 0, NULL, NULL) = 36
sendto(9, "g\0\0\0\10\0\30\310\266t\0\0\0\f\0\2\220\3\251\216\toQ\0\0\0@START TRANSACTION ISOLATION LEVEL read committed READ WRITE\0", 87, 0, NULL, 0) = 87
recvfrom(9, "C\0\0\0\26START TRANSACTION\0Z\0\0\0\5T", 16384, 0, NULL, NULL) = 29

sendto(9, "M\0\0\0\10\0\0\0\0s\0\0\0\34\0\30\310\254\0\30\310\266\0\30\310\266\0\0\0\0\0\0\0\0\0\0\0\0Q\0\0\0IINSERT INTO public.t AS t (a, b) VALUES (1, 'AA'::character varying)\0", 112, 0, NULL, 0) = 112
recvfrom(9, "U\0\0\0\tM\0\0\0\1U\0\0\0\32S\1\1\0\0\0\0\0\0\0\0\1\230\10\0\0t\0\1\0\0\0C\0\0\0\17INSERT 0 1\0Z\0\0\0\5T", 16384, 0, NULL, NULL) = 59

sendto(11, "C\0\0\0\17INSERT 0 1\0Z\0\0\0\5T", 22, 0, NULL, 0) = 22


recvfrom(11, "Q\0\0\0#INSERT INTO T VALUES(3, 'AA');\0", 8192, 0, NULL, NULL) = 36

sendto(14, "g\0\0\0\10\0\30\310\266t\0\0\0\f\0\2\220\3\251\216\toQ\0\0\0@START TRANSACTION ISOLATION LEVEL read committed READ WRITE\0", 87, 0, NULL, 0) = 87
recvfrom(14, "C\0\0\0\26START TRANSACTION\0Z\0\0\0\5T", 16384, 0, NULL, NULL) = 29

sendto(14, "M\0\0\0\10\0\0\0\1s\0\0\0\34\0\30\310\254\0\30\310\266\0\30\310\266\0\0\0\1\0\0\0\0\0\0\0\0Q\0\0\0IINSERT INTO public.t AS t (a, b) VALUES (3, 'AA'::character varying)\0", 112, 0, NULL, 0) = 112
recvfrom(14, "U\0\0\0\tM\0\0\0\2U\0\0\0\32S\1\1\0\0\0\0\0\0\0\0\1\230\10\0\0t\0\1\0\0\0C\0\0\0\17INSERT 0 1\0Z\0\0\0\5T", 16384, 0, NULL, NULL) = 59

sendto(11, "C\0\0\0\17INSERT 0 1\0Z\0\0\0\5T", 22, 0, NULL, 0) = 22

recvfrom(11, "Q\0\0\0\rcommit ;\0", 8192, 0, NULL, NULL) = 14

sendto(15, "\36\0\0\0 \1\0\0\0\2\0\0\0\1@\0\0\2@\0\0T1624246\0", 30, 0, NULL, 0) = 30
recvfrom(15, "\5\0\0\0\1", 5, 0, NULL, NULL) = 5

sendto(9, "Q\0\0\0$PREPARE TRANSACTION 'T1624246';\0", 37, 0, NULL, 0) = 37
sendto(14, "Q\0\0\0$PREPARE TRANSACTION 'T1624246';\0", 37, 0, NULL, 0) = 37
recvfrom(9, "C\0\0\0\30PREPARE TRANSACTION\0Z\0\0\0\5I", 16384, 0, NULL, NULL) = 31
recvfrom(14, "C\0\0\0\30PREPARE TRANSACTION\0Z\0\0\0\5I", 16384, 0, NULL, NULL) = 31

sendto(15, "\22\0\0\0P\266\310\30\0T1624246\0", 18, 0, NULL, 0) = 18
recvfrom(15, "\5\0\0\0\1", 5, 0, NULL, NULL) = 5

sendto(9, "Q\0\0\0 COMMIT PREPARED 'T1624246';\0", 33, 0, NULL, 0) = 33
sendto(14, "Q\0\0\0 COMMIT PREPARED 'T1624246';\0", 33, 0, NULL, 0) = 33
recvfrom(9, "C\0\0\0\24COMMIT PREPARED\0Z\0\0\0\5I", 16384, 0, NULL, NULL) = 27
recvfrom(14, "C\0\0\0\24COMMIT PREPARED\0Z\0\0\0\5I", 16384, 0, NULL, NULL) = 27

sendto(15, "\22\0\0\0000\2\0\0\0T1624246\0", 18, 0, NULL, 0) = 18
recvfrom(15, "\5\0\0\0\1", 5, 0, NULL, NULL) = 5

sendto(10, "\2\0\0\0\10\1\0\0b2\0\0\2\0\0\0\1\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\3@\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 264, 0, NULL, 0) = 264
sendto(10, "\16\0\0\0H\0\0\0\6\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\1\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 72, 0, NULL, 0) = 72
sendto(11, "C\0\0\0\vCOMMIT\0Z\0\0\0\5I", 18, 0, NULL, 0) = 18

====================

recvfrom(8, "d\0\0\0\rgcn1\0\0\0\0a", 1024, 0, NULL, NULL) = 14                     // begin
sendto(8, "d\0\0\0\rg\0\0\0a\0\30\310\266", 14, 0, NULL, 0) = 14                    // cn
sendto(9, "d\0\0\0\ta\0\30\310\266", 10, 0, NULL, 0) = 10                           // dn
sendto(8, "d\0\0\0\ta\0\30\310\266", 10, 0, NULL, 0) = 10                           // cn
sendto(7, "d\0\0\0\ta\0\30\310\266", 10, 0, NULL, 0) = 10                           // dn


recvfrom(8, "d\0\0\0\21ccn1\0\0\0\0a\0\30\310\266", 1024, 0, NULL, NULL) = 18       // commit
sendto(8, "d\0\0\0\rf\0\0\0a\0\30\310\266", 14, 0, NULL, 0) = 14                    // cn
sendto(9, "d\0\0\0\nc\0\0\30\310\266", 11, 0, NULL, 0) = 11                         // dn
sendto(8, "d\0\0\0\nc\0\0\30\310\266", 11, 0, NULL, 0) = 11                         // cn
sendto(7, "d\0\0\0\nc\0\0\30\310\266", 11, 0, NULL, 0) = 11                         // dn



BEGIN ISOLATION LEVEL  READ COMMITTED;                                                                                                       
select count(*) from t;                                                                                                     
INSERT INTO T VALUES(1, 'AA');                                                        select count(*) from t;                                            
INSERT INTO T VALUES(3, 'AA');                                                        BEGIN ISOLATION LEVEL  READ COMMITTED;                                                
select count(*) from t;                                                               select count(*) from t; 
                                                                                      INSERT INTO T VALUES(1, 'AA');                                                                                                      
                                                                                      INSERT INTO T VALUES(3, 'AA');
                                                                                      INSERT INTO T VALUES(5, 'AA'); 
                                                                                      select count(*) from t;
select count(*) from t;                                     




