<!doctype html><html lang=en>
<head>
<title>
Postgres Executor ::
Asky â€” My note blog
</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Tue Feb 7 10:19:24 CST 2023 é‡æ„ï¼Œ ä¸æƒ³æ–‡ç« å˜æˆæ— ç”¨çš„æµæ°´çº¿
èŠ‚ç‚¹ #  refs #  openGaussæ•°æ®åº“æºç è§£æç³»åˆ—æ–‡ç« â€”â€”æ‰§è¡Œå™¨è§£æï¼ˆäºŒ
PostgresqlæŸ¥è¯¢æ‰§è¡Œæ¨¡å—READMEç¬”è®°
æ‰§è¡Œæ–¹å¼åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œä¸€ç±»æ˜¯ utility æ‰§è¡Œï¼Œç”¨äºddlç­‰ï¼Œåº•å±‚ç›´æ¥å¯¹æ¥æŸä¸ªå‡½æ•°ï¼Œä¸€ç±»æ˜¯ dml ç®—å­æ‰§è¡Œï¼ŒæŒ‰æ ‘çš„å½¢å¼æ‰§è¡Œï¼Œè¿™é‡Œå…³æ³¨ dml ç®—å­
æ€»çš„å››å¤§ç±»
 æ§åˆ¶èŠ‚ç‚¹ æ‰«æèŠ‚ç‚¹ ç‰©åŒ–èŠ‚ç‚¹ é“¾æ¥èŠ‚ç‚¹  æ¯ä¸€ä¸ªç®—å­åˆ†ä¸º
 åˆå§‹åŒ–
å¯¹åº”å‡½æ•°ä»¥ ExecInitxxx æ„é€  state ç»“æ„ä½“ï¼Œæ‰§è¡Œæ—¶å€™ä½¿ç”¨ï¼Œexestate ä¹Ÿæ˜¯æ ‘å½¢ç»“æ„ï¼Œå’Œ plantree ä¸€ä¸€å¯¹åº”ï¼Œä¿å­˜è¿è¡Œæ—¶çš„å…³é”®ä¿¡æ¯ æ‰“å¼€è¡¨æˆ–è€…å…¶ä»–èµ„æº åˆå§‹åŒ–å­èŠ‚ç‚¹ åˆå§‹åŒ–è¡¨è¾¾å¼ä¸Šä¸‹æ–‡ åˆå§‹åŒ–è¡¨è¾¾å¼ åˆå§‹åŒ–tuple type åˆå§‹åŒ–project  è¿™é‡Œå…¶ä»–çš„éƒ½å¥½ç†è§£ï¼Œä½†æ˜¯tupleç›¸å…³çš„æ“ä½œæ¯ä¸ªç®—å­è°ƒç”¨çš„å‡½æ•°çœ‹èµ·æ¥å¤§åŒå°å¼‚ï¼Œä½†æ˜¯ç»†èŠ‚ä½œç”¨ä¸ä¸€æ · ä¸€èˆ¬ execstats å’Œ plan tree æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œä½†æ˜¯ä¹Ÿæ˜¯æœ‰ä¾‹å¤–çš„ï¼Œå¦‚åˆ†åŒºè£å‰ªçš„æ—¶å€™ï¼Œç¡®å®šä¸éœ€è¦çš„åˆ†åŒºï¼Œinit çš„æ—¶å€™ç›´æ¥ä¸ç”Ÿæˆå¯¹åº”çš„å­æ ‘çš„ state   æ‰§è¡Œ ä¸»è¦çš„æ‰§è¡Œé€»è¾‘ï¼Œå…¶ä¸­ä¼šæ¶‰åŠåˆ°è¡¨è¾¾å¼çš„æ‰§è¡Œ æ¸…ç† æ¸…ç†èµ„æºï¼Œä¹‹å‰åˆå§‹åŒ–çš„æ—¶å€™ç”³è¯·çš„ç©ºé—´  Rescan command to reset a node and make it generate its output sequence over again.
ä¸€ä¸ªç®€å•æ€»ç»“
 CreateQueryDesc ExecutorStart CreateExecutorState creates per-query context switch to per-query context to run ExecInitNode AfterTriggerBeginQuery ExecInitNode --- recursively scans plan tree ExecInitNode recurse into subsidiary nodes CreateExprContext creates per-tuple context ExecInitExpr ExecutorRun ExecProcNode --- recursively called in per-query context ExecEvalExpr --- called in per-tuple context ResetExprContext --- to free memory ExecutorFinish ExecPostprocessPlan --- run any unfinished ModifyTable nodes AfterTriggerEndQuery ExecutorEnd ExecEndNode --- recursively releases resources FreeExecutorState frees per-query context and child contexts FreeQueryDesc è¡¨è¾¾å¼ #  ä»‹ç»äº†pgè¡¨è¾¾å¼çš„å…·ä½“çš„è¿è¡Œæœºåˆ¶">
<meta name=keywords content="ç¨‹åºå‘˜ã€ç å†œã€databaseã€C++">
<meta name=robots content="noodp">
<link rel=canonical href=https://askyx.github.io/posts/postgres_executor/>
<link rel=stylesheet href=//cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/lxgwwenkaiscreen.css media=print onload="this.media='all'">
<link rel=stylesheet href=https://askyx.github.io/assets/style.css>
<link rel=stylesheet href=https://askyx.github.io/style.css>
<link rel=apple-touch-icon-precomposed sizes=144x144 href=https://askyx.github.io/img/apple-touch-icon-144-precomposed.png>
<link rel="shortcut icon" href=https://askyx.github.io/favicon.ico>
<link rel=apple-touch-icon href=https://askyx.github.io/favicon.ico>
<link rel=bookmark href=https://askyx.github.io/favicon.ico>
<link rel=apple-touch-icon-precomposed sizes=180x180 href=https://askyx.github.io/favicon.ico>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Postgres Executor">
<meta name=twitter:description content="Postgres æ‰§è¡Œå™¨ åŠå…¶æ‰©å±• æ€»ç»“">
<meta property="og:title" content="Postgres Executor">
<meta property="og:description" content="Postgres æ‰§è¡Œå™¨ åŠå…¶æ‰©å±• æ€»ç»“">
<meta property="og:type" content="article">
<meta property="og:url" content="https://askyx.github.io/posts/postgres_executor/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2023-02-10T09:26:50+08:00">
<meta property="article:modified_time" content="2023-02-10T09:26:50+08:00">
</head>
<body class=light-theme>
<div class=container>
<header class=header>
<span class=header__inner>
<a href=https://askyx.github.io/ class=logo style=text-decoration:none>
<span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg>
</span>
<span class=logo__text>Asky</span>
<span class=logo__cursor></span>
</a>
<span class=header__right>
<nav class=menu>
<ul class="menu__inner menu__inner--desktop">
<li><a href=/about>About</a></li>
<li><a href=/archive>Archive</a></li>
<li><a href=/search>ğŸ”</a></li>
<li><a href=javascript:; onclick=randomPost() title=éšæœºè®¿é—®ä¸€ç¯‡æ–‡ç« ><svg t="1660103436159" class="icon search-box-icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" p-id="1184" width="32" height="32"><path d="M421.376 481.28s117.248 24.576 175.104-8.704c0 0-89.6 70.144-89.6 166.4.512-.512-8.192-121.344-85.504-157.696zm17.408 487.936s68.608 6.656 68.608-80.896c0 0 3.072 88.576 65.024 78.336.0.512-50.688 22.016-133.632 2.56zM161.28 238.08s-30.208 65.536 11.264 91.648c0 0-67.072-17.408-81.408 37.376.0.0 8.704-82.944 70.144-129.024zM857.6 227.328s49.152 50.176 1.024 81.408c0 0 58.88-18.432 66.56 36.352.0.0 5.12-69.632-67.584-117.76z" p-id="1185"/><path d="M443.392 970.752c-5.632.0-10.752-1.024-15.36-3.072L157.184 810.496l-1.536-1.024s-1.024-1.024-4.608-2.56c-51.2-29.184-62.976-94.208-65.536-120.832V386.56c0-3.072.512-7.168 1.024-11.264l.512-3.584 1.024-2.56c19.456-50.688 76.8-51.2 103.936-44.032l-1.536 5.632 4.096-6.144L476.16 486.4l18.944 37.888c20.992 36.864 29.184 77.824 32.768 99.84v258.048c-4.608 56.32-36.864 76.288-55.808 82.944-1.024.512-15.36 5.632-28.672 5.632zM181.248 774.656l263.168 152.576c12.288-.512 36.864-6.656 40.448-48.128V628.736c-4.608-31.744-20.992-103.936-72.192-128L322.56 445.44l1.536 3.072L181.76 366.08c-2.048-.512-40.448-9.216-52.736 15.872-.512 2.56-.512 4.608-.512 6.144v294.4c1.536 16.896 9.728 67.072 43.52 86.528 3.584 2.048 6.656 4.096 9.216 5.632z" p-id="1186"/><path d="M837.632 212.992c6.656 4.096 12.8 7.168 18.432 10.752l1.536 1.024 1.536 1.536c5.12 4.096 10.752 9.216 16.384 15.36 6.144 11.776 5.632 33.28 4.608 49.152-1.024 12.288-6.656 30.208-26.624 44.544l-1.024.512-247.808 156.672c-26.624 14.336-62.976 18.432-96.256 18.432-40.96.0-77.824-6.656-89.088-8.704l-3.072-.512-245.248-142.336c-39.424-29.696-28.16-85.504-15.36-113.664l2.56-6.144 263.68-166.912c29.184-14.336 104.448-43.008 173.056-1.024 3.584 2.56 58.368 34.304 119.296 69.632M431.616 460.8c40.448 7.168 114.176 13.824 152.576-6.144L828.928 299.52c7.168-5.632 8.192-10.24 8.704-12.8 1.024-11.264-9.728-26.624-15.36-32.768-55.808-32.256-243.712-141.312-250.368-145.408-49.664-30.72-107.008-9.216-130.048 2.56L192.512 268.8c-4.096 12.288-12.288 42.496 3.584 55.808L431.616 460.8z" p-id="1187"/><path d="M831.488 299.008c4.096-1.024 38.4-11.264 66.048 6.144 7.168 4.608 17.92 11.776 24.064 24.576 1.024 5.632 4.096 10.752 4.608 16.896v2.048l-1.024 323.072c-5.12 35.328-22.528 91.648-77.312 125.44l-5.12 3.584h-1.024L579.584 966.656l-4.608.512c-4.096.512-8.704 1.024-12.8 1.024-15.872.0-30.208-5.12-41.984-14.848-24.576-20.48-32.768-55.808-35.328-73.728l-1.024-252.928h1.536c6.144-96.768 88.576-164.864 96.768-171.008l-.512-.512L829.44 299.52M528.384 867.328c.512 10.24 5.12 41.472 19.968 53.76 3.072 2.56 7.68 5.632 16.384 5.12L829.44 758.272c56.32-38.4 53.76-115.712 53.76-116.224l-.512-32.256 1.024-250.368h-.512c-1.536-12.8-7.168-16.384-8.704-17.408-8.704-5.632-23.552-3.072-28.672-2.048L610.304 488.96c-1.024.512-80.896 65.024-80.896 149.504h-1.536l.512 228.864zM435.2 264.192c0 27.648 31.744 50.176 71.168 50.176s71.168-22.528 71.168-50.176-31.744-50.176-71.168-50.176S435.2 236.544 435.2 264.192z" p-id="1188"/><path d="M663.552 782.848c0 30.72-22.528 67.072-49.664 80.384-27.648 13.824-50.176-.512-50.176-31.232s22.528-67.072 50.176-80.384c27.136-13.824 49.664.0 49.664 31.232zM760.32 602.624c0 30.72-22.528 67.072-49.664 80.384-27.648 13.824-49.664-.512-49.664-31.232s22.528-67.072 49.664-80.384c27.136-13.824 49.664.512 49.664 31.232zM867.84 428.032c0 30.72-22.528 67.072-49.664 80.384C790.528 522.24 768 507.904 768 477.184s22.528-67.072 50.176-80.384c27.136-13.824 49.664.0 49.664 31.232zM270.848 538.112c0 30.72-22.016 41.984-48.64 24.576-27.136-16.896-48.64-55.808-48.64-86.528s22.016-41.984 48.64-24.576c26.624 16.896 48.64 55.808 48.64 86.528zm161.28 285.184c0 30.72-22.016 41.984-48.64 24.576-26.624-17.408-48.64-55.808-48.64-86.528s22.016-41.984 48.64-24.576c26.624 16.896 48.64 55.808 48.64 86.528z" p-id="1189"/></svg></a></li>
</ul>
<ul class="menu__inner menu__inner--mobile">
<li><a href=/about>About</a></li>
<li><a href=/archive>Archive</a></li>
<li><a href=/search>ğŸ”</a></li>
</ul>
</nav>
<span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
</span>
<span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg>
</span>
</span>
</span>
</header>
<div class=content>
<div class=post>
<div class=breadcrumb>
<li>
<a href=https://askyx.github.io/>é¦–é¡µ</a>
</li>
<li>
<a href=https://askyx.github.io/posts/>Posts</a>
</li>
<li class=active>
<a href=https://askyx.github.io/posts/postgres_executor/>Postgres Executor</a>
</li>
</div>
<h2 class=post-title><a href=https://askyx.github.io/posts/postgres_executor/>Postgres Executor</a></h2>
<div class=post-meta>
<span class=post-date>
2023-02-10
</span>
</div>
<span class=post-tags>
<a href=https://askyx.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/>#æ•°æ®åº“</a>&nbsp;
<a href=https://askyx.github.io/tags/postgres/>#Postgres</a>&nbsp;
<a href=https://askyx.github.io/tags/%E6%89%A7%E8%A1%8C%E5%99%A8/>#æ‰§è¡Œå™¨</a>&nbsp;
</span>
<div class=post-content>
<p>Tue Feb 7 10:19:24 CST 2023 é‡æ„ï¼Œ ä¸æƒ³æ–‡ç« å˜æˆæ— ç”¨çš„æµæ°´çº¿</p>
<h2 id=èŠ‚ç‚¹>
èŠ‚ç‚¹
<a href=#%e8%8a%82%e7%82%b9 class=h-anchor aria-hidden=true>#</a>
</h2>
<h3 id=refs>
refs
<a href=#refs class=h-anchor aria-hidden=true>#</a>
</h3>
<p><a href=https://zhuanlan.zhihu.com/p/407421928>openGaussæ•°æ®åº“æºç è§£æç³»åˆ—æ–‡ç« â€”â€”æ‰§è¡Œå™¨è§£æï¼ˆäºŒ</a><br>
<a href=https://blog.csdn.net/jackgo73/article/details/126604426>PostgresqlæŸ¥è¯¢æ‰§è¡Œæ¨¡å—READMEç¬”è®°</a></p>
<p>æ‰§è¡Œæ–¹å¼åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œä¸€ç±»æ˜¯ utility æ‰§è¡Œï¼Œç”¨äºddlç­‰ï¼Œåº•å±‚ç›´æ¥å¯¹æ¥æŸä¸ªå‡½æ•°ï¼Œä¸€ç±»æ˜¯ dml ç®—å­æ‰§è¡Œï¼ŒæŒ‰æ ‘çš„å½¢å¼æ‰§è¡Œï¼Œè¿™é‡Œå…³æ³¨ dml ç®—å­</p>
<p>æ€»çš„å››å¤§ç±»</p>
<ol>
<li>æ§åˆ¶èŠ‚ç‚¹</li>
<li>æ‰«æèŠ‚ç‚¹</li>
<li>ç‰©åŒ–èŠ‚ç‚¹</li>
<li>é“¾æ¥èŠ‚ç‚¹</li>
</ol>
<p>æ¯ä¸€ä¸ªç®—å­åˆ†ä¸º</p>
<ol>
<li>åˆå§‹åŒ–<br>
å¯¹åº”å‡½æ•°ä»¥ ExecInitxxx
æ„é€  state ç»“æ„ä½“ï¼Œæ‰§è¡Œæ—¶å€™ä½¿ç”¨ï¼Œexestate ä¹Ÿæ˜¯æ ‘å½¢ç»“æ„ï¼Œå’Œ plantree ä¸€ä¸€å¯¹åº”ï¼Œä¿å­˜è¿è¡Œæ—¶çš„å…³é”®ä¿¡æ¯
æ‰“å¼€è¡¨æˆ–è€…å…¶ä»–èµ„æº
åˆå§‹åŒ–å­èŠ‚ç‚¹
åˆå§‹åŒ–è¡¨è¾¾å¼ä¸Šä¸‹æ–‡
åˆå§‹åŒ–è¡¨è¾¾å¼
åˆå§‹åŒ–tuple type
åˆå§‹åŒ–project
<ul>
<li>è¿™é‡Œå…¶ä»–çš„éƒ½å¥½ç†è§£ï¼Œä½†æ˜¯tupleç›¸å…³çš„æ“ä½œæ¯ä¸ªç®—å­è°ƒç”¨çš„å‡½æ•°çœ‹èµ·æ¥å¤§åŒå°å¼‚ï¼Œä½†æ˜¯ç»†èŠ‚ä½œç”¨ä¸ä¸€æ ·</li>
<li>ä¸€èˆ¬ execstats å’Œ plan tree æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œä½†æ˜¯ä¹Ÿæ˜¯æœ‰ä¾‹å¤–çš„ï¼Œå¦‚åˆ†åŒºè£å‰ªçš„æ—¶å€™ï¼Œç¡®å®šä¸éœ€è¦çš„åˆ†åŒºï¼Œinit çš„æ—¶å€™ç›´æ¥ä¸ç”Ÿæˆå¯¹åº”çš„å­æ ‘çš„ state</li>
</ul>
</li>
<li>æ‰§è¡Œ
ä¸»è¦çš„æ‰§è¡Œé€»è¾‘ï¼Œå…¶ä¸­ä¼šæ¶‰åŠåˆ°è¡¨è¾¾å¼çš„æ‰§è¡Œ</li>
<li>æ¸…ç†
æ¸…ç†èµ„æºï¼Œä¹‹å‰åˆå§‹åŒ–çš„æ—¶å€™ç”³è¯·çš„ç©ºé—´</li>
</ol>
<p>Rescan command to reset a node and make it generate its output sequence over again.</p>
<p><a href=https://www.cnblogs.com/opensource-db/p/15323425.html>ä¸€ä¸ªç®€å•æ€»ç»“</a></p>
<pre tabindex=0><code>  CreateQueryDesc

  ExecutorStart
    CreateExecutorState
      creates per-query context
    switch to per-query context to run ExecInitNode
    AfterTriggerBeginQuery
    ExecInitNode --- recursively scans plan tree
      ExecInitNode
        recurse into subsidiary nodes
      CreateExprContext
        creates per-tuple context
      ExecInitExpr

  ExecutorRun
    ExecProcNode --- recursively called in per-query context
      ExecEvalExpr --- called in per-tuple context
      ResetExprContext --- to free memory

  ExecutorFinish
    ExecPostprocessPlan --- run any unfinished ModifyTable nodes
    AfterTriggerEndQuery

  ExecutorEnd
    ExecEndNode --- recursively releases resources
    FreeExecutorState
      frees per-query context and child contexts

  FreeQueryDesc

</code></pre><h3 id=è¡¨è¾¾å¼>
è¡¨è¾¾å¼
<a href=#%e8%a1%a8%e8%be%be%e5%bc%8f class=h-anchor aria-hidden=true>#</a>
</h3>
<p><a href=https://blog.csdn.net/jackgo73/article/details/127282902>ä»‹ç»äº†pgè¡¨è¾¾å¼çš„å…·ä½“çš„è¿è¡Œæœºåˆ¶</a><br>
<a href=https://www.cnblogs.com/opensource-db/p/15323425.html>å¯¹æ¯”ä¸åŒæ•°æ®åº“ä¸­è¡¨è¾¾å¼æœºåˆ¶çš„å®ç°</a></p>
<ol>
<li>è¡¨è¾¾å¼æŒ‰ç…§æ•°ç»„çš„å½¢å¼ç»„ç»‡çš„</li>
<li>è¡¨è¾¾å¼å°½é‡åœ¨åˆå§‹åŒ–çš„æ—¶å€™åšå®Œæ‰€æœ‰çš„å‡†å¤‡å·¥ä½œï¼Œæ‰§è¡Œæ—¶å€™åªéœ€è¦æ‰§è¡Œå³å¯</li>
</ol>
<ul>
<li>é‡ç‚¹å‡½æ•°å’Œæµç¨‹</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++>  CreateExprContext  <span style=color:#f92672>--</span> or use GetPerTupleExprContext(estate)
    creates per<span style=color:#f92672>-</span>tuple context

  ExecPrepareExpr
    temporarily <span style=color:#66d9ef>switch</span> to per<span style=color:#f92672>-</span>query context
    run the expression through expression_planner
    ExecInitExpr

  Repeatedly <span style=color:#66d9ef>do</span><span style=color:#f92672>:</span>
    ExecEvalExprSwitchContext
      ExecEvalExpr <span style=color:#f92672>---</span> called in per<span style=color:#f92672>-</span>tuple context
    ResetExprContext <span style=color:#f92672>---</span> to free memory

  FreeExecutorState
    frees per<span style=color:#f92672>-</span>query context, as well as ExprContext
    (a separate FreeExprContext call is not necessary)

<span style=color:#960050;background-color:#1e0010>å…¶ä¸­å‡½æ•°</span>
  ExecInitExpr <span style=color:#960050;background-color:#1e0010>ç”¨äºåˆå§‹åŒ–è¡¨è¾¾å¼ï¼Œè¾“å‡ºä¸º</span> ExprState
  ExecEvalExprSwitchContext <span style=color:#960050;background-color:#1e0010>ç”¨äº</span> eval <span style=color:#960050;background-color:#1e0010>è¡¨è¾¾å¼ï¼Œè¾“å…¥ä¸º</span> ExprState
  <span style=color:#960050;background-color:#1e0010>è¡¨è¾¾å¼ä¿å­˜åœ¨</span> ExprState.ExprState <span style=color:#960050;background-color:#1e0010>ä¸­ï¼Œä½¿ç”¨</span> evalfunc <span style=color:#960050;background-color:#1e0010>æ‰§è¡Œï¼Œ</span>evalfunc <span style=color:#960050;background-color:#1e0010>å¯ä»¥æœ‰è§£é‡Šå’Œç¼–è¯‘æ‰§è¡Œï¼Œå½“å‰å¤§éƒ¨åˆ†è¿˜æ˜¯ä½¿ç”¨</span> ExecInterpExprStillValid <span style=color:#960050;background-color:#1e0010>ä¸­å‡½æ•°è§£é‡Šæ‰§è¡Œï¼Œ</span>
  <span style=color:#960050;background-color:#1e0010>è¿™é‡Œä¸€èˆ¬ä½¿ç”¨</span> ExecInterpExpr <span style=color:#960050;background-color:#1e0010>ï¼Œå…¶ä»–çš„ç”¨åœ¨ç‰¹æ®Šåœºæ™¯ï¼Œä¸å…³æ³¨</span>

  ExecInterpExpr <span style=color:#960050;background-color:#1e0010>ç°åœ¨æœ‰ä¸¤ç§æ‰§è¡Œé€»è¾‘ï¼Œä¸€ç§æ˜¯ä½¿ç”¨</span> <span style=color:#66d9ef>if</span> <span style=color:#960050;background-color:#1e0010>åˆ†æ”¯æ‰§è¡Œï¼Œä¸€ç§æ˜¯ç›´æ¥ä½¿ç”¨</span> <span style=color:#66d9ef>goto</span> <span style=color:#960050;background-color:#1e0010>é…åˆ</span> swith <span style=color:#960050;background-color:#1e0010>æ‰§è¡Œï¼Œå…·ä½“åœ¨</span> EEO_USE_COMPUTED_GOTO <span style=color:#960050;background-color:#1e0010>å®šä¹‰ä¸­</span>
  <span style=color:#66d9ef>goto</span><span style=color:#f92672>:</span>
    <span style=color:#960050;background-color:#1e0010>å¤§æ„æ˜¯å…ˆ</span><span style=color:#66d9ef>switch</span> <span style=color:#960050;background-color:#1e0010>åˆ°</span> <span style=color:#960050;background-color:#1e0010>åˆ†æ”¯ï¼Œæ‰§è¡Œä¹‹åï¼Œç„¶å</span> <span style=color:#960050;background-color:#1e0010>ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå†</span> <span style=color:#66d9ef>switch</span> <span style=color:#960050;background-color:#1e0010>åˆ°å…·ä½“å¾—åˆ†æ”¯æ‰§è¡Œï¼Œå¦‚æ­¤è®¾è®¡å¯èƒ½å’Œ</span> cpu <span style=color:#960050;background-color:#1e0010>æŒ‡ä»¤çš„</span> pipline <span style=color:#960050;background-color:#1e0010>æœ‰å…³</span>

  <span style=color:#960050;background-color:#1e0010>å¦ä¸€ç§æ‰§è¡Œæ–¹å¼æ˜¯ä½¿ç”¨</span> llvm <span style=color:#960050;background-color:#1e0010>è¿›è¡Œç¼–è¯‘æ‰§è¡Œï¼Œ</span> llvm_compile_expr <span style=color:#960050;background-color:#1e0010>ä¼šç¼–è¯‘è¡¨è¾¾å¼ä¸”è®¾ç½®</span> evalfunc <span style=color:#f92672>=</span> ExecRunCompiledExpr

</code></pre></div><p>pg çš„ è¡¨è¾¾å¼ è¿è¡Œæœºåˆ¶æœ‰æ¬¡å¤§æ”¹ï¼Œä¸»è¦æ˜¯ä» dfs è½¬æ¢åˆ° bfs ï¼Œå…·ä½“çš„ä¿®æ”¹çš„ç›®çš„åŠæœ‰ç‚¹å¦‚ä¸‹ï¼Œ è¿™é‡Œè®°å½•ä¸‹æ¥ï¼Œ<strong>ç†Ÿè®°ç†è§£ï¼Œç„¶ååœ¨åŠ ä¸Šcodegenå’Œå‘é‡åŒ–ï¼Œå¯ä»¥å”¬äºº</strong></p>
<pre tabindex=0><code>Faster expression evaluation and targetlist projection.
This replaces the old, recursive tree-walk based evaluation, with non-recursive, opcode dispatch based, expression evaluation. 
Projection is now implemented as part of expression evaluation.
This both leads to significant performance improvements, and makes future just-in-time compilation of expressions easier.

æ›´å¿«çš„è¡¨è¾¾å¼è¯„ä¼°å’Œç›®æ ‡åˆ—è¡¨æŠ•å½±ã€‚
è¿™ç”¨éé€’å½’çš„ã€åŸºäºæ“ä½œç åˆ†æ´¾çš„è¡¨è¾¾å¼æ±‚å€¼å–ä»£äº†æ—§çš„ã€åŸºäºé€’å½’æ ‘éå†çš„æ±‚å€¼ã€‚
æŠ•å½±ç°åœ¨ä½œä¸ºè¡¨è¾¾å¼è¯„ä¼°çš„ä¸€éƒ¨åˆ†å®ç°ã€‚
è¿™æ—¢å¯ä»¥æ˜¾ç€æé«˜æ€§èƒ½ï¼Œä¹Ÿå¯ä»¥ä½¿å°†æ¥çš„è¡¨è¾¾å¼å³æ—¶ç¼–è¯‘å˜å¾—æ›´å®¹æ˜“ã€‚

The speed gains primarily come from:
- non-recursive implementation reduces stack usage / overhead
- simple sub-expressions are implemented with a single jump, without function calls
- sharing some state between different sub-expressions
- reduced amount of indirect/hard to predict memory accesses by laying out operation metadata sequentially; including the avoidance of nearly all of the previously used linked lists
- more code has been moved to expression initialization, avoiding constant re-checks at evaluation time

é€Ÿåº¦å¢ç›Šä¸»è¦æ¥è‡ªï¼š
- éé€’å½’å®ç°å‡å°‘å †æ ˆä½¿ç”¨/å¼€é”€
- ç®€å•çš„å­è¡¨è¾¾å¼é€šè¿‡å•æ¬¡è·³è½¬å®ç°ï¼Œæ— éœ€å‡½æ•°è°ƒç”¨
- åœ¨ä¸åŒçš„å­è¡¨è¾¾å¼ä¹‹é—´å…±äº«ä¸€äº›çŠ¶æ€
- é€šè¿‡æŒ‰é¡ºåºæ’åˆ—æ“ä½œå…ƒæ•°æ®æ¥å‡å°‘é—´æ¥/éš¾ä»¥é¢„æµ‹çš„å†…å­˜è®¿é—®é‡ï¼› åŒ…æ‹¬é¿å…å‡ ä¹æ‰€æœ‰ä»¥å‰ä½¿ç”¨çš„é“¾è¡¨
- æ›´å¤šä»£ç å·²ç§»è‡³è¡¨è¾¾å¼åˆå§‹åŒ–ï¼Œé¿å…åœ¨è¯„ä¼°æ—¶ä¸æ–­é‡æ–°æ£€æŸ¥


Future just-in-time compilation (JIT) has become easier, as demonstrated by released patches intended to be merged in a later release, for primarily two reasons: Firstly, due to a stricter split between expression initialization and evaluation, less code has to be handled by the JIT. Secondly, due to the non-recursive nature of the generated &quot;instructions&quot;, less performance-critical code-paths can easily be shared between interpreted and compiled evaluation.

æœªæ¥çš„å³æ—¶ç¼–è¯‘ (JIT) å·²ç»å˜å¾—æ›´åŠ å®¹æ˜“ï¼Œæ­£å¦‚æ—¨åœ¨åœ¨ä»¥åçš„ç‰ˆæœ¬ä¸­åˆå¹¶çš„å·²å‘å¸ƒè¡¥ä¸æ‰€è¯æ˜çš„é‚£æ ·ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªåŸå› ï¼šé¦–å…ˆï¼Œç”±äºè¡¨è¾¾å¼åˆå§‹åŒ–å’Œè¯„ä¼°ä¹‹é—´çš„åˆ’åˆ†æ›´åŠ ä¸¥æ ¼ï¼Œå› æ­¤éœ€è¦æ›´å°‘çš„ä»£ç  ç”± JIT å¤„ç†ã€‚ å…¶æ¬¡ï¼Œç”±äºç”Ÿæˆçš„â€œæŒ‡ä»¤â€çš„éé€’å½’æ€§è´¨ï¼Œå¯¹æ€§èƒ½ä¸å¤ªé‡è¦çš„ä»£ç è·¯å¾„å¯ä»¥å¾ˆå®¹æ˜“åœ°åœ¨è§£é‡Šå’Œç¼–è¯‘è¯„ä¼°ä¹‹é—´å…±äº«ã€‚


The new framework allows for significant future optimizations. E.g.:
- basic infrastructure for to later reduce the per executor-startup overhead of expression evaluation, by caching state in prepared statements.  That'd be helpful in OLTPish scenarios where initialization overhead is measurable.
- optimizing the generated &quot;code&quot;. A number of proposals for potential work has already been made.
- optimizing the interpreter. Similarly a number of proposals have been made here too.

æ–°æ¡†æ¶å…è®¸åœ¨æœªæ¥è¿›è¡Œé‡å¤§ä¼˜åŒ–ã€‚ ä¾‹å¦‚ã€‚ï¼š
- ç”¨äºç¨åé€šè¿‡åœ¨å‡†å¤‡å¥½çš„è¯­å¥ä¸­ç¼“å­˜çŠ¶æ€æ¥å‡å°‘è¡¨è¾¾å¼è¯„ä¼°çš„æ¯ä¸ªæ‰§è¡Œç¨‹åºå¯åŠ¨å¼€é”€çš„åŸºæœ¬åŸºç¡€æ¶æ„ã€‚ è¿™åœ¨åˆå§‹åŒ–å¼€é”€æ˜¯å¯æµ‹é‡çš„ OLTP åœºæ™¯ä¸­å¾ˆæœ‰å¸®åŠ©ã€‚
- ä¼˜åŒ–ç”Ÿæˆçš„â€œä»£ç â€ã€‚ å·²ç»æå‡ºäº†ä¸€äº›å…³äºæ½œåœ¨å·¥ä½œçš„å»ºè®®ã€‚
- ä¼˜åŒ–è§£é‡Šå™¨ã€‚ åŒæ ·ï¼Œè¿™é‡Œä¹Ÿæå‡ºäº†ä¸€äº›å»ºè®®ã€‚


The move of logic into the expression initialization step leads to some backward-incompatible changes:
- Function permission checks are now done during expression initialization, whereas previously they were done during execution. In edge cases this can lead to errors being raised that previously wouldn't have been, e.g. a NULL array being coerced to a different array type previously didn't perform checks.
- The set of domain constraints to be checked, is now evaluated once during expression initialization, previously it was re-built every time a domain check was evaluated. For normal queries this doesn't change much, but e.g. for plpgsql functions, which caches ExprStates, the old set could stick around longer.  The behavior around might still change.

å°†é€»è¾‘è½¬ç§»åˆ°è¡¨è¾¾å¼åˆå§‹åŒ–æ­¥éª¤ä¼šå¯¼è‡´ä¸€äº›å‘åä¸å…¼å®¹çš„æ›´æ”¹ï¼š
- å‡½æ•°æƒé™æ£€æŸ¥ç°åœ¨åœ¨è¡¨è¾¾å¼åˆå§‹åŒ–æœŸé—´å®Œæˆï¼Œè€Œä»¥å‰å®ƒä»¬æ˜¯åœ¨æ‰§è¡ŒæœŸé—´å®Œæˆçš„ã€‚ åœ¨è¾¹ç¼˜æƒ…å†µä¸‹ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å‡ºç°ä»¥å‰ä¸ä¼šå‡ºç°çš„é”™è¯¯ï¼Œä¾‹å¦‚ ä¸€ä¸ª NULL æ•°ç»„è¢«å¼ºåˆ¶è½¬æ¢ä¸ºä¸åŒçš„æ•°ç»„ç±»å‹ï¼Œä»¥å‰æ²¡æœ‰æ‰§è¡Œæ£€æŸ¥ã€‚
- è¦æ£€æŸ¥çš„åŸŸçº¦æŸé›†ç°åœ¨åœ¨è¡¨è¾¾å¼åˆå§‹åŒ–æœŸé—´è¯„ä¼°ä¸€æ¬¡ï¼Œä»¥å‰æ¯æ¬¡è¯„ä¼°åŸŸæ£€æŸ¥æ—¶éƒ½ä¼šé‡æ–°æ„å»ºã€‚ å¯¹äºæ™®é€šæŸ¥è¯¢ï¼Œè¿™å¹¶æ²¡æœ‰å¤ªå¤§å˜åŒ–ï¼Œä½†æ˜¯ä¾‹å¦‚ å¯¹äºç¼“å­˜ ExprStates çš„ plpgsql å‡½æ•°ï¼Œæ—§é›†åˆå¯èƒ½ä¼šä¿ç•™æ›´é•¿æ—¶é—´ã€‚ å‘¨å›´çš„è¡Œä¸ºå¯èƒ½ä»ç„¶ä¼šæ”¹å˜ã€‚


</code></pre><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++>select <span style=color:#f92672>*</span> from a where a <span style=color:#f92672>=</span> <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#ae81ff>1</span> <span style=color:#66d9ef>for</span> update
 <span style=color:#f92672>--</span><span style=color:#ae81ff>99.51</span><span style=color:#f92672>%--</span>PortalRun
           <span style=color:#f92672>|</span>
            <span style=color:#f92672>--</span><span style=color:#ae81ff>99.51</span><span style=color:#f92672>%--</span>PortalRunSelect
                      <span style=color:#f92672>|</span>
                       <span style=color:#f92672>--</span><span style=color:#ae81ff>99.50</span><span style=color:#f92672>%--</span>standard_ExecutorRun
                                 <span style=color:#f92672>|</span>
                                  <span style=color:#f92672>--</span><span style=color:#ae81ff>99.47</span><span style=color:#f92672>%--</span>ExecLockRows
                                            <span style=color:#f92672>|</span>
                                             <span style=color:#f92672>--</span><span style=color:#ae81ff>98.45</span><span style=color:#f92672>%--</span>ExecScan
                                                       <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|--</span><span style=color:#ae81ff>55.88</span><span style=color:#f92672>%--</span>ExecInterpExpr
                                                       <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>32.43</span><span style=color:#f92672>%--</span>slot_getsomeattrs_int
                                                       <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>29.48</span><span style=color:#f92672>%--</span>tts_buffer_heap_getsomeattrs
                                                       <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>3.54</span><span style=color:#f92672>%--</span>ExecEvalParamExtern
                                                       <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|--</span><span style=color:#ae81ff>34.60</span><span style=color:#f92672>%--</span>SeqNext
                                                       <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>29.53</span><span style=color:#f92672>%--</span>heap_getnextslot
                                                       <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|</span>                     <span style=color:#f92672>|--</span><span style=color:#ae81ff>21.52</span><span style=color:#f92672>%--</span>heapgettup_pagemode
                                                       <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>12.41</span><span style=color:#f92672>%--</span>heapgetpage
                                                       <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                     <span style=color:#f92672>|--</span><span style=color:#ae81ff>4.04</span><span style=color:#f92672>%--</span>HeapCheckForSerializableConflictOut
                                                       <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>2.12</span><span style=color:#f92672>%--</span>CheckForSerializableConflictOutNeeded
                                                       <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>1.12</span><span style=color:#f92672>%--</span>ReadBufferExtended
                                                       <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>1.01</span><span style=color:#f92672>%--</span>ReadBuffer_common
                                                       <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>3.79</span><span style=color:#f92672>%--</span>ExecStoreBufferHeapTuple
                                                       <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|--</span><span style=color:#ae81ff>1.70</span><span style=color:#f92672>%--</span>heap_getnextslot
                                                       <span style=color:#f92672>|</span>
                                                       <span style=color:#f92672>|--</span><span style=color:#ae81ff>1.65</span><span style=color:#f92672>%--</span>MemoryContextReset
                                                       <span style=color:#f92672>|</span>
                                                        <span style=color:#f92672>--</span><span style=color:#ae81ff>0.50</span><span style=color:#f92672>%--</span>int4eq


tpch q1 perf
<span style=color:#960050;background-color:#1e0010>ç®€è¦åˆ†æå¯ä»¥çœ‹å‡ºï¼Œå¤§éƒ¨åˆ†æ“ä½œåœ¨</span>hashç›¸å…³çš„è¿ç®—ä¸Š<span style=color:#960050;background-color:#1e0010>ï¼Œ</span>q1ä¹Ÿç¡®å®æœ‰å¤§é‡èšåˆè¿ç®—<span style=color:#960050;background-color:#1e0010>ï¼Œè¿™é‡Œä¸çŸ¥é“ä½¿ç”¨</span> jit <span style=color:#960050;background-color:#1e0010>èƒ½å¦æœ‰ä¸€å®šçš„æå‡</span>

select
  s_acctbal,
  s_name,
  n_name,
  p_partkey,
  p_mfgr,
  s_address,
  s_phone,
  s_comment
from
  part,
  supplier,
  partsupp,
  nation,
  region
where
  p_partkey <span style=color:#f92672>=</span> ps_partkey
  and s_suppkey <span style=color:#f92672>=</span> ps_suppkey
  and p_size <span style=color:#f92672>=</span> <span style=color:#ae81ff>15</span>
  and p_type like <span style=color:#960050;background-color:#1e0010>&#39;</span><span style=color:#f92672>%</span>BRASS<span style=color:#960050;background-color:#1e0010>&#39;</span>
  and s_nationkey <span style=color:#f92672>=</span> n_nationkey
  and n_regionkey <span style=color:#f92672>=</span> r_regionkey
  and r_name <span style=color:#f92672>=</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>EUROPE<span style=color:#960050;background-color:#1e0010>&#39;</span>
  and ps_supplycost <span style=color:#f92672>=</span> (
    select
      min(ps_supplycost)
    from
      partsupp,
      supplier,
      nation,
      region
    where
      p_partkey <span style=color:#f92672>=</span> ps_partkey
      and s_suppkey <span style=color:#f92672>=</span> ps_suppkey
      and s_nationkey <span style=color:#f92672>=</span> n_nationkey
      and n_regionkey <span style=color:#f92672>=</span> r_regionkey
      and r_name <span style=color:#f92672>=</span> <span style=color:#960050;background-color:#1e0010>&#39;</span>EUROPE<span style=color:#960050;background-color:#1e0010>&#39;</span>
  )
order by
  s_acctbal desc,
  n_name,
  s_name,
  p_partkey limit <span style=color:#ae81ff>100</span>;

<span style=color:#75715e># Total Lost Samples: 0
</span><span style=color:#75715e>#
</span><span style=color:#75715e># Samples: 99K of event &#39;cpu-clock:pppH&#39;
</span><span style=color:#75715e># Event count (approx.): 100006005906
</span><span style=color:#75715e>#
</span><span style=color:#75715e># Children      Self  Command   Shared Object                                 Symbol                                                        
</span><span style=color:#75715e># ........  ........  ........  ............................................  ..............................................................
</span><span style=color:#75715e>#
</span><span style=color:#75715e></span>   <span style=color:#ae81ff>100.00</span><span style=color:#f92672>%</span>     <span style=color:#ae81ff>0.00</span><span style=color:#f92672>%</span>  postgres  <span style=color:#f92672>/</span>usr<span style=color:#f92672>/</span>lib<span style=color:#f92672>/</span>x86_64<span style=color:#f92672>-</span>linux<span style=color:#f92672>-</span>gnu<span style=color:#f92672>/</span>libc<span style=color:#f92672>-</span><span style=color:#ae81ff>2.31</span>.so        <span style=color:#ae81ff>0x7fe4b684e083</span>     D [.] putenv
            <span style=color:#f92672>|</span>
            <span style=color:#f92672>---</span>putenv
               startup_hacks
               PostmasterMain
               ServerLoop
               BackendStartup
               ExitPostmaster
               PostgresMain
               exec_simple_query
               PortalRun
               PortalRunSelect
               ExecutorRun
               standard_ExecutorRun
               ExecutePlan
               ExecProcNode
               ExecProcNodeFirst
               ExecSort
               ExecProcNode
               ExecProcNodeFirst
               ExecAgg
               <span style=color:#f92672>|</span>          
                <span style=color:#f92672>--</span><span style=color:#ae81ff>99.98</span><span style=color:#f92672>%--</span>agg_fill_hash_table
                          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|--</span><span style=color:#ae81ff>67.56</span><span style=color:#f92672>%--</span>advance_aggregates
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>67.35</span><span style=color:#f92672>%--</span>ExecEvalExprSwitchContext
                          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>66.93</span><span style=color:#f92672>%--</span>ExecInterpExpr
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|--</span><span style=color:#ae81ff>26.72</span><span style=color:#f92672>%--</span>numeric_mul
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>23.48</span><span style=color:#f92672>%--</span>numeric_mul_opt_error
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>14.06</span><span style=color:#f92672>%--</span>mul_var
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>2.89</span><span style=color:#f92672>%--</span>pfree
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>1.63</span><span style=color:#f92672>%--</span>AllocSetFree
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>0.54</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>2.43</span><span style=color:#f92672>%--</span>alloc_var
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>1.82</span><span style=color:#f92672>%--</span>palloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>1.15</span><span style=color:#f92672>%--</span>AllocSetAlloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>1.98</span><span style=color:#f92672>%--</span>palloc0
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>1.14</span><span style=color:#f92672>%--</span>AllocSetAlloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>1.03</span><span style=color:#f92672>%--</span>round_var
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>0.85</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>0.51</span><span style=color:#f92672>%--</span>strip_var
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>3.57</span><span style=color:#f92672>%--</span>make_result_opt_error
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>1.80</span><span style=color:#f92672>%--</span>palloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>1.30</span><span style=color:#f92672>%--</span>AllocSetAlloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>3.34</span><span style=color:#f92672>%--</span>free_var
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>2.91</span><span style=color:#f92672>%--</span>pfree
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>1.74</span><span style=color:#f92672>%--</span>AllocSetFree
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>0.56</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>1.10</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>0.51</span><span style=color:#f92672>%--</span>__nss_disable_nscd
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>2.13</span><span style=color:#f92672>%--</span>pg_detoast_datum
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>1.67</span><span style=color:#f92672>%--</span>detoast_attr
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>1.13</span><span style=color:#f92672>%--</span>palloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>0.75</span><span style=color:#f92672>%--</span>AllocSetAlloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>0.61</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|--</span><span style=color:#ae81ff>13.61</span><span style=color:#f92672>%--</span>numeric_sub
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>10.80</span><span style=color:#f92672>%--</span>numeric_sub_opt_error
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>4.12</span><span style=color:#f92672>%--</span>sub_var
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>3.20</span><span style=color:#f92672>%--</span>sub_abs
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>1.26</span><span style=color:#f92672>%--</span>palloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>0.91</span><span style=color:#f92672>%--</span>AllocSetAlloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>2.76</span><span style=color:#f92672>%--</span>make_result_opt_error
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>1.43</span><span style=color:#f92672>%--</span>palloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>1.10</span><span style=color:#f92672>%--</span>AllocSetAlloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>2.29</span><span style=color:#f92672>%--</span>free_var
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>1.92</span><span style=color:#f92672>%--</span>pfree
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>1.25</span><span style=color:#f92672>%--</span>AllocSetFree
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>0.76</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>2.02</span><span style=color:#f92672>%--</span>pg_detoast_datum
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>1.55</span><span style=color:#f92672>%--</span>detoast_attr
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>1.05</span><span style=color:#f92672>%--</span>palloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>                                            <span style=color:#f92672>--</span><span style=color:#ae81ff>0.78</span><span style=color:#f92672>%--</span>AllocSetAlloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|--</span><span style=color:#ae81ff>13.50</span><span style=color:#f92672>%--</span>ExecAggPlainTransByVal
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>10.34</span><span style=color:#f92672>%--</span>numeric_avg_accum
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>5.83</span><span style=color:#f92672>%--</span>do_numeric_accum
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>2.07</span><span style=color:#f92672>%--</span>accum_sum_add
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>1.95</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>0.71</span><span style=color:#f92672>%--</span>__nss_disable_nscd
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>3.04</span><span style=color:#f92672>%--</span>pg_detoast_datum
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>2.46</span><span style=color:#f92672>%--</span>detoast_attr
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>1.62</span><span style=color:#f92672>%--</span>palloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>1.13</span><span style=color:#f92672>%--</span>AllocSetAlloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>0.58</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>1.10</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>0.58</span><span style=color:#f92672>%--</span>__nss_disable_nscd
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|--</span><span style=color:#ae81ff>6.32</span><span style=color:#f92672>%--</span>numeric_add
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>5.07</span><span style=color:#f92672>%--</span>numeric_add_opt_error
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>2.12</span><span style=color:#f92672>%--</span>add_var
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>1.96</span><span style=color:#f92672>%--</span>add_abs
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>0.70</span><span style=color:#f92672>%--</span>palloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>0.50</span><span style=color:#f92672>%--</span>AllocSetAlloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>1.21</span><span style=color:#f92672>%--</span>make_result_opt_error
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>0.57</span><span style=color:#f92672>%--</span>palloc
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>0.97</span><span style=color:#f92672>%--</span>free_var
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>0.86</span><span style=color:#f92672>%--</span>pfree
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>0.50</span><span style=color:#f92672>%--</span>AllocSetFree
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>0.91</span><span style=color:#f92672>%--</span>pg_detoast_datum
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>0.68</span><span style=color:#f92672>%--</span>detoast_attr
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|--</span><span style=color:#ae81ff>1.65</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>0.54</span><span style=color:#f92672>%--</span>__nss_disable_nscd
                          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|--</span><span style=color:#ae81ff>18.34</span><span style=color:#f92672>%--</span>lookup_hash_entries
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>16.52</span><span style=color:#f92672>%--</span>LookupTupleHashEntry
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>8.86</span><span style=color:#f92672>%--</span>LookupTupleHashEntry_internal
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>8.70</span><span style=color:#f92672>%--</span>tuplehash_insert_hash
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>8.52</span><span style=color:#f92672>%--</span>tuplehash_insert_hash_internal
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>7.82</span><span style=color:#f92672>%--</span>TupleHashTableMatch
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|--</span><span style=color:#ae81ff>6.93</span><span style=color:#f92672>%--</span>ExecQualAndReset
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>6.54</span><span style=color:#f92672>%--</span>ExecQual
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>6.40</span><span style=color:#f92672>%--</span>ExecEvalExprSwitchContext
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>6.00</span><span style=color:#f92672>%--</span>ExecInterpExpr
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|--</span><span style=color:#ae81ff>2.58</span><span style=color:#f92672>%--</span>bpchareq
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>          <span style=color:#f92672>|--</span><span style=color:#ae81ff>0.83</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>0.79</span><span style=color:#f92672>%--</span>bcTruelen
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                            <span style=color:#f92672>--</span><span style=color:#ae81ff>1.31</span><span style=color:#f92672>%--</span>slot_getsomeattrs
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                                      <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                                       <span style=color:#f92672>--</span><span style=color:#ae81ff>1.15</span><span style=color:#f92672>%--</span>slot_getsomeattrs_int
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                                                 <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                                                  <span style=color:#f92672>--</span><span style=color:#ae81ff>0.94</span><span style=color:#f92672>%--</span>tts_minimal_getsomeattrs
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                                                            <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                                                             <span style=color:#f92672>--</span><span style=color:#ae81ff>0.80</span><span style=color:#f92672>%--</span>slot_deform_heap_tuple
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                                            <span style=color:#f92672>--</span><span style=color:#ae81ff>0.58</span><span style=color:#f92672>%--</span>ExecStoreMinimalTuple
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>6.96</span><span style=color:#f92672>%--</span>TupleHashTableHash_internal
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|--</span><span style=color:#ae81ff>4.98</span><span style=color:#f92672>%--</span>FunctionCall1Coll
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>4.42</span><span style=color:#f92672>%--</span>hashbpchar
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                     <span style=color:#f92672>|--</span><span style=color:#ae81ff>2.26</span><span style=color:#f92672>%--</span>hash_any
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>1.97</span><span style=color:#f92672>%--</span>hash_bytes
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>0.73</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>0.73</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>0.52</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>1.22</span><span style=color:#f92672>%--</span>prepare_hash_slot
                          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>0.53</span><span style=color:#f92672>%--</span>ExecClearTuple
                          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|--</span><span style=color:#ae81ff>12.30</span><span style=color:#f92672>%--</span>fetch_input_tuple
                          <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>12.10</span><span style=color:#f92672>%--</span>ExecProcNode
                          <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>11.93</span><span style=color:#f92672>%--</span>ExecSeqScan
                          <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>11.74</span><span style=color:#f92672>%--</span>ExecScan
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|--</span><span style=color:#ae81ff>5.89</span><span style=color:#f92672>%--</span>ExecQual
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>5.72</span><span style=color:#f92672>%--</span>ExecEvalExprSwitchContext
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>5.29</span><span style=color:#f92672>%--</span>ExecInterpExpr
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                <span style=color:#f92672>|--</span><span style=color:#ae81ff>3.57</span><span style=color:#f92672>%--</span>slot_getsomeattrs
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>3.42</span><span style=color:#f92672>%--</span>slot_getsomeattrs_int
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>3.13</span><span style=color:#f92672>%--</span>tts_buffer_heap_getsomeattrs
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>2.97</span><span style=color:#f92672>%--</span>slot_deform_heap_tuple
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>                                            <span style=color:#f92672>--</span><span style=color:#ae81ff>0.67</span><span style=color:#f92672>%--</span>__nss_database_lookup2
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>0.59</span><span style=color:#f92672>%--</span>date_le_timestamp
                          <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                            <span style=color:#f92672>--</span><span style=color:#ae81ff>5.34</span><span style=color:#f92672>%--</span>ExecScanFetch
                          <span style=color:#f92672>|</span>                                                      <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                       <span style=color:#f92672>--</span><span style=color:#ae81ff>5.18</span><span style=color:#f92672>%--</span>SeqNext
                          <span style=color:#f92672>|</span>                                                                 <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                  <span style=color:#f92672>--</span><span style=color:#ae81ff>4.87</span><span style=color:#f92672>%--</span>table_scan_getnextslot
                          <span style=color:#f92672>|</span>                                                                            <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                             <span style=color:#f92672>--</span><span style=color:#ae81ff>4.56</span><span style=color:#f92672>%--</span>heap_getnextslot
                          <span style=color:#f92672>|</span>                                                                                       <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                        <span style=color:#f92672>--</span><span style=color:#ae81ff>3.82</span><span style=color:#f92672>%--</span>heapgettup_pagemode
                          <span style=color:#f92672>|</span>                                                                                                  <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                                   <span style=color:#f92672>--</span><span style=color:#ae81ff>2.50</span><span style=color:#f92672>%--</span>heapgetpage
                          <span style=color:#f92672>|</span>                                                                                                             <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                                              <span style=color:#f92672>--</span><span style=color:#ae81ff>1.56</span><span style=color:#f92672>%--</span>ReadBufferExtended
                          <span style=color:#f92672>|</span>                                                                                                                        <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                                                         <span style=color:#f92672>--</span><span style=color:#ae81ff>1.55</span><span style=color:#f92672>%--</span>ReadBuffer_common
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|--</span><span style=color:#ae81ff>0.79</span><span style=color:#f92672>%--</span>smgrread
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>          <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>           <span style=color:#f92672>--</span><span style=color:#ae81ff>0.78</span><span style=color:#f92672>%--</span>mdread
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                     <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                      <span style=color:#f92672>--</span><span style=color:#ae81ff>0.75</span><span style=color:#f92672>%--</span>__libc_pread64
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>0.74</span><span style=color:#f92672>%--</span>entry_SYSCALL_64_after_hwframe
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                           do_syscall_64
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                           <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                            <span style=color:#f92672>--</span><span style=color:#ae81ff>0.71</span><span style=color:#f92672>%--</span>ksys_pread64
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                                      <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                                       <span style=color:#f92672>--</span><span style=color:#ae81ff>0.69</span><span style=color:#f92672>%--</span>vfs_read
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                                                 <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                                                  <span style=color:#f92672>--</span><span style=color:#ae81ff>0.67</span><span style=color:#f92672>%--</span>new_sync_read
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                                                            <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                                                             <span style=color:#f92672>--</span><span style=color:#ae81ff>0.66</span><span style=color:#f92672>%--</span>filemap_read
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                                                                       <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                                                                        <span style=color:#f92672>--</span><span style=color:#ae81ff>0.52</span><span style=color:#f92672>%--</span>copy_page_to_iter
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                                                                                  <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                                                                                   <span style=color:#f92672>--</span><span style=color:#ae81ff>0.51</span><span style=color:#f92672>%--</span>copyout
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>                                                                                                             copy_user_enhanced_fast_string
                          <span style=color:#f92672>|</span>                                                                                                                                   <span style=color:#f92672>|</span>          
                          <span style=color:#f92672>|</span>                                                                                                                                    <span style=color:#f92672>--</span><span style=color:#ae81ff>0.65</span><span style=color:#f92672>%--</span>BufferAlloc
                          <span style=color:#f92672>|</span>          
                           <span style=color:#f92672>--</span><span style=color:#ae81ff>1.17</span><span style=color:#f92672>%--</span>MemoryContextReset
                                     <span style=color:#f92672>|</span>          
                                      <span style=color:#f92672>--</span><span style=color:#ae81ff>0.85</span><span style=color:#f92672>%--</span>MemoryContextResetOnly
                                                <span style=color:#f92672>|</span>          
                                                 <span style=color:#f92672>--</span><span style=color:#ae81ff>0.57</span><span style=color:#f92672>%--</span>AllocSetReset

</code></pre></div><h3 id=cluster-ç®—å­>
Cluster ç®—å­
<a href=#cluster-%e7%ae%97%e5%ad%90 class=h-anchor aria-hidden=true>#</a>
</h3>
<h4 id=clustergather>
ClusterGather
<a href=#clustergather class=h-anchor aria-hidden=true>#</a>
</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++>ExecInitClusterGather() {
  gatherstate<span style=color:#f92672>-&gt;</span>ps.ExecProcNode <span style=color:#f92672>=</span> ExecClusterGather;

  <span style=color:#75715e>// ä¸»è¦æ˜¯æ„é€  PlanState
</span><span style=color:#75715e></span>  outerPlanState(gatherstate) <span style=color:#f92672>=</span> ExecStartClusterPlan() { <span style=color:#75715e>//åˆ†å‘æ‰§è¡Œè®¡åˆ’ {}
</span><span style=color:#75715e></span>    <span style=color:#75715e>// åªæ˜¯explan çš„è¯ï¼Œå¹¶ä¸éœ€è¦å‘é€æ‰§è¡Œè®¡åˆ’ã€‚ç›´æ¥è¿™é‡Œè¿”å›å³å¯
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (EXEC_FLAG_EXPLAIN_ONLY)
      <span style=color:#66d9ef>return</span> ExecInitNode(plan, estate, eflags);
    
    <span style=color:#75715e>// æ‰§è¡Œè®¡åˆ’éœ€è¦ä¼ è¾“åˆ°å…¶ä»–èŠ‚ç‚¹ï¼Œéœ€è¦è¿›è¡Œåºåˆ—åŒ–ï¼Œå½“å‰åºåˆ—åŒ–æ“ä½œä½¿ç”¨çš„æ˜¯æŸ¥è¡¨çš„æ–¹æ³•ï¼Œå¯ä»¥ä¸å…³æ³¨å…ˆåé¡ºåºï¼Œä½¿ç”¨flagéå†æŸ¥æ‰¾ï¼Œä¸»è¦æ–¹æ³•åœ¨mem_toc.hä¸­
</span><span style=color:#75715e></span>    <span style=color:#75715e>// é’ˆå¯¹ä¸åŒçš„ç±»å‹çš„æ•°æ®çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ä¹Ÿæ˜¯åæ¥å®ç°çš„
</span><span style=color:#75715e></span>    StartRemotePlan() {
      <span style=color:#75715e>// å‘é€æ‰§è¡Œè®¡åˆ’åˆ°è¿œç¨‹èŠ‚ç‚¹
</span><span style=color:#75715e></span>      foreach(lc, state<span style=color:#f92672>-&gt;</span>cur_handle<span style=color:#f92672>-&gt;</span>handles) {
        PQsendPlan() 
      }

      PG_TRY() {
        <span style=color:#75715e>// å¦‚æœæ‰§è¡Œè®¡åˆ’ä¸­ç”±reduce èŠ‚ç‚¹ï¼Œåˆ™å¯åŠ¨ StartDynamicReduceWorker
</span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (context<span style=color:#f92672>-&gt;</span>have_reduce <span style=color:#f92672>&amp;&amp;</span> context<span style=color:#f92672>-&gt;</span>start_self_reduce) {
          StartDynamicReduceWorker();
        }

        <span style=color:#75715e>// å¹¶ä¸”æ¥æ”¶dnçš„æ¶ˆæ¯ï¼ŒæŸ¥çœ‹dnçŠ¶æ€æ˜¯å¦æ­£å¸¸
</span><span style=color:#75715e></span>        foreach(lc, list_conn) {
          PQgetResult(conn);
        }
      }

      <span style=color:#75715e>// ä½œç”¨æœªçŸ¥
</span><span style=color:#75715e></span>      <span style=color:#66d9ef>if</span> (context<span style=color:#f92672>-&gt;</span>have_reduce) {
        StartRemoteReduceGroup();
      }
    }
    <span style=color:#75715e>// åˆå§‹åŒ–ä¸‹å±‚èŠ‚ç‚¹ï¼Œè¿™é‡Œcnä¸Šå…¶å®åº”è¯¥åªæœ‰ä¸€ä¸ª cluster gather åŠä¹‹ä¸Šçš„ç®—å­èµ·ä½œç”¨æ‰å¯¹ï¼Œä½†æ˜¯å®é™…ä¸Šä¸‹å±‚èŠ‚ç‚¹ä¸­å¦‚æœå­˜åœ¨reduce èŠ‚ç‚¹ï¼Œä¸” å¦‚æœ ä¼˜åŒ–ä¸­é€‰æ‹©å† cn è¿›è¡Œ reduce ï¼Œåˆ™ä¸‹å±‚è¿˜æ˜¯ä¼šè¿›è¡Œä¸€äº›reduce ç›¸å…³å¾—æ“ä½œï¼Œ
</span><span style=color:#75715e></span>    <span style=color:#75715e>// åŒ…æ‹¬ä¸Šé¢reduce å¾—ä¸€äº›è®¾ç½®
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ExecInitNode</span>(plan, estate, eflags);
  } 
}

ExecClusterGather() {
  <span style=color:#75715e>// è·å¾—ä¸‹å±‚èŠ‚ç‚¹çš„æ•°æ®ï¼Œè¿™é‡Œåˆ†ä¸ºä¸¤ä¸ªä¸åŒçš„éƒ¨åˆ†ï¼Œå…ˆå°è¯•ä»remoteè·å¾—çš„æ•°æ®ï¼Œå†å°è¯•localçš„æ‰§è¡Œè®¡åˆ’
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>while</span>(node<span style=color:#f92672>-&gt;</span>remote_running <span style=color:#f92672>!=</span> NIL <span style=color:#f92672>||</span> node<span style=color:#f92672>-&gt;</span>local_end <span style=color:#f92672>==</span> false) {
    <span style=color:#66d9ef>if</span>(node<span style=color:#f92672>-&gt;</span>remote_running <span style=color:#f92672>!=</span> NIL <span style=color:#f92672>&amp;&amp;</span> PQNListExecFinish(node<span style=color:#f92672>-&gt;</span>remote_running, NULL, <span style=color:#f92672>&amp;</span>node<span style=color:#f92672>-&gt;</span>hook_funcs, blocking)) {
      <span style=color:#75715e>// PQNListExecFinish è´Ÿè´£è·å–dnä¸Šå¾—æ•°æ®ï¼Œè¿™é‡Œ remote_running è®°å½•çš„æ˜¯è¿è¡Œä¸­çš„dnï¼Œå¦‚æœdn è¿è¡Œç»“æŸï¼Œåˆ™åŠ å…¥åˆ° last_run_end ï¼Œåç»­ä¼šä» remote_running ä¸­å‰”é™¤ è¿è¡Œç»“æŸçš„dn
</span><span style=color:#75715e></span>      <span style=color:#66d9ef>return</span> node<span style=color:#f92672>-&gt;</span>ps.ps_ResultTupleSlot;
    }

    <span style=color:#75715e>// è·å–cnä¸Šçš„æ•°æ®
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span>(node<span style=color:#f92672>-&gt;</span>local_end <span style=color:#f92672>==</span> false) {
      slot <span style=color:#f92672>=</span> ExecProcNode(outerPlanState(node));
    }
  }

}


ExecFinishClusterGather() {
  <span style=color:#75715e>// æ¸…ç†å·¥ä½œ
</span><span style=color:#75715e></span>}

</code></pre></div><h4 id=clustermergegather>
ClusterMergeGather
<a href=#clustermergegather class=h-anchor aria-hidden=true>#</a>
</h4>
<p>åŠŸèƒ½å’Œ ClusterGather ç±»ä¼¼ï¼Œä½†æ˜¯ä¼šå¯¹ dn æ”¶é›†çš„ æ•°æ®è¿›è¡Œæ’åºï¼Œ åœ¨ä¼˜åŒ–é˜¶æ®µä¸­ï¼Œå¦‚æœè¯­å¥æœ€ç»ˆçš„è¾“å‡ºéœ€è¦æ’åºï¼Œåˆ™åœ¨æ„é€ é¡¶å±‚èŠ‚ç‚¹çš„æ—¶å€™ï¼Œä¼šç”Ÿæˆ sort ç®—å­ï¼Œç„¶ååœ¨ç”Ÿæˆ ClusterMergeGather ç®—å­
ClusterMergeGather plan ä¸­ï¼Œdnçš„è¾“å‡ºä¸€å®šæ˜¯æœ‰åºçš„</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++>ExecInitClusterMergeGather() {
  ps<span style=color:#f92672>-&gt;</span>ps.ExecProcNode <span style=color:#f92672>=</span> ExecClusterMergeGather;
  <span style=color:#75715e>// ä½¿ç”¨ ExecStartClusterPlan åˆå§‹åŒ–çš„ planstat
</span><span style=color:#75715e></span>  outerPlanState(ps) <span style=color:#f92672>=</span> ExecStartClusterPlan();

  <span style=color:#75715e>// å¦‚æœæ˜¯éœ€è¦æ’åºè¾“å‡ºï¼Œåˆ™åœ¨åˆå§‹åŒ– slot çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨ sort tuple ç›¸å…³çš„å‡½æ•°ï¼Œå…·ä½“å‚è€ƒ tuplesort_begin_heap
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>for</span>(i<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;i<span style=color:#f92672>&lt;</span>node<span style=color:#f92672>-&gt;</span>numCols;<span style=color:#f92672>++</span>i) {
    PrepareSortSupportFromOrderingOp();
  }
}

ExecClusterMergeGather() {
  <span style=color:#75715e>// è·å¾—å…ƒç»„ï¼Œç„¶åè¿›è¡Œæ’åºï¼Œè¿™é‡Œä¹ŸåŒºåˆ†cnå’Œdnæ··åˆä½¿ç”¨ ExecProcNode å’Œ cmg_get_remote_slot
</span><span style=color:#75715e></span>  <span style=color:#75715e>// å…¶ä¸­ cmg_get_remote_slot å®é™…è°ƒç”¨çš„æ˜¯ PQNOneExecFinish
</span><span style=color:#75715e></span>  <span style=color:#75715e>// ä¹‹åä½¿ç”¨ binaryheap***è¿›è¡Œæ’åº
</span><span style=color:#75715e></span>}


ExecFinishClusterMergeGather() {
  <span style=color:#75715e>// æ¸…ç†å·¥ä½œ
</span><span style=color:#75715e></span>}
</code></pre></div><h4 id=clusterreduce>
ClusterReduce
<a href=#clusterreduce class=h-anchor aria-hidden=true>#</a>
</h4>
<p>recuce ç”¨äºåœ¨cn å’Œ dnï¼Œ dn å’Œ dn ä¹‹é—´ä¼ é€’æ•°æ®ï¼Œå¹¶ä¸”è¿˜ä¼šå¯åŠ¨ ä¸€ä¸ª æ–°è¿›ç¨‹è´Ÿè´£æ­¤å·¥ä½œï¼Œè¿™é‡Œç®€å•æ¢³ç†</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++>
<span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>enum</span> <span style=color:#a6e22e>ReduceType</span>
{
  RT_NOTHING <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>,                 <span style=color:#75715e>// ä¸æ‰§è¡Œreduce 
</span><span style=color:#75715e></span>  RT_NORMAL,                      <span style=color:#75715e>// å¸¸è§„reduce
</span><span style=color:#75715e></span>  RT_REDUCE_FIRST,                <span style=color:#75715e>// ä¼˜ç‚¹å‘ä¸Šå‘é€æ•°æ®è€Œä¸æ˜¯å‘å…¶ä»–èŠ‚ç‚¹
</span><span style=color:#75715e></span>  RT_REDUCE_FIRST_EPQ,            <span style=color:#75715e>// EPQ EvalPlanQualï¼Œå­é“¾æ¥ ä¸­çš„å­æŸ¥è¯¢
</span><span style=color:#75715e></span>  RT_PARALLEL_REDUCE_FIRST,       <span style=color:#75715e>//
</span><span style=color:#75715e></span>  RT_ADVANCE,                     <span style=color:#75715e>// æå‰è¿›è¡Œreduce
</span><span style=color:#75715e></span>  RT_ADVANCE_PARALLEL,
  RT_MERGE                        <span style=color:#75715e>// reduce è¦æ±‚æœ‰åº
</span><span style=color:#75715e></span>}ReduceType;

<span style=color:#75715e>#define CRF_FETCH_LOCAL_FIRST  0x0001  </span><span style=color:#75715e>/* fetch all local first */</span><span style=color:#75715e>          </span><span style=color:#75715e>// 
</span><span style=color:#75715e></span><span style=color:#75715e>#define CRF_DISK_UNNECESSARY  0x0002  </span><span style=color:#75715e>/* don&#39;t need cache on disk */</span><span style=color:#75715e>
</span><span style=color:#75715e>#define CRF_DISK_ALWAYS      0x0004  </span><span style=color:#75715e>/* always cache tuples on disk */</span><span style=color:#75715e>
</span><span style=color:#75715e>#define CRF_MAYBE_EPQ      0x0008  </span><span style=color:#75715e>/* maybe execute in EPQ */</span><span style=color:#75715e>
</span><span style=color:#75715e></span>
ExecInitClusterReduce() {

  crstate<span style=color:#f92672>-&gt;</span>ps.ExecProcNode <span style=color:#f92672>=</span> ExecDefaultClusterReduce;

  <span style=color:#75715e>// å¦‚æœæœ‰ PGXCNodeOid ï¼Œåˆ™è®¾ç½® æ¨¡å¼ä¸º RT_NOTHING
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (list_member_oid(node<span style=color:#f92672>-&gt;</span>reduce_oids, PGXCNodeOid) <span style=color:#f92672>==</span> false)
    crstate<span style=color:#f92672>-&gt;</span>reduce_method <span style=color:#f92672>=</span> (uint8)RT_NOTHING;
  <span style=color:#75715e>// å¦‚æœè¦æ±‚æ’åºï¼Œåˆ™ è®¾ç½® ä¸º RT_MERGEï¼ŒnumCols å¤§è‡´æŒ‡å¾—æ˜¯éœ€è¦æ’åºçš„åˆ—å¾—æ•°é‡
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>if</span> (node<span style=color:#f92672>-&gt;</span>numCols <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>)
    crstate<span style=color:#f92672>-&gt;</span>reduce_method <span style=color:#f92672>=</span> (uint8)RT_MERGE;
  <span style=color:#75715e>// åˆ¤æ–­éœ€è¦ä¼˜å…ˆæ‰§è¡Œreduce
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>if</span> (node<span style=color:#f92672>-&gt;</span>reduce_flags <span style=color:#f92672>&amp;</span> (CRF_FETCH_LOCAL_FIRST<span style=color:#f92672>|</span>CRF_DISK_ALWAYS) <span style=color:#f92672>||</span>
       crstate<span style=color:#f92672>-&gt;</span>eflags <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span>)
    crstate<span style=color:#f92672>-&gt;</span>reduce_method <span style=color:#f92672>=</span> (uint8)RT_REDUCE_FIRST;
  <span style=color:#66d9ef>else</span>
    crstate<span style=color:#f92672>-&gt;</span>reduce_method <span style=color:#f92672>=</span> (uint8)RT_NORMAL;

  <span style=color:#66d9ef>if</span> ((eflags <span style=color:#f92672>&amp;</span> EXEC_FLAG_IN_EPQ) <span style=color:#f92672>&amp;&amp;</span>
    crstate<span style=color:#f92672>-&gt;</span>reduce_method <span style=color:#f92672>!=</span> RT_NOTHING)
    crstate<span style=color:#f92672>-&gt;</span>ps.ExecProcNode <span style=color:#f92672>=</span> ExecEPQDefaultClusterReduce;
}

<span style=color:#75715e>// ExecProcNodeReal å‡½æ•°æŒ‡é’ˆï¼Œ ExecDefaultClusterReduce å’Œ  ExecEPQDefaultClusterReduce éƒ½åªæ˜¯ä¸€ä¸ªwarpperï¼Œ è°ƒç”¨çš„æ—¶å€™ï¼Œä¼šæŒ‰ç…§ä¸åŒreduce ç­–ç•¥ï¼Œè°ƒç”¨ä¸åŒçš„ init å‡½æ•°ï¼Œ å¯¹å‡½æ•°æŒ‡é’ˆèµ‹å€¼
</span><span style=color:#75715e></span>
<span style=color:#75715e>// é»˜è®¤çš„reduce å‡½æ•°
</span><span style=color:#75715e></span>ExecDefaultClusterReduce() {
  ClusterReduceState <span style=color:#f92672>*</span>crstate <span style=color:#f92672>=</span> castNode(ClusterReduceState, pstate);
  <span style=color:#66d9ef>if</span> (crstate<span style=color:#f92672>-&gt;</span>private_state <span style=color:#f92672>!=</span> NULL)
    <span style=color:#66d9ef>return</span> pstate<span style=color:#f92672>-&gt;</span>ExecProcNodeReal(pstate);

  InitReduceMethod(crstate);

  <span style=color:#66d9ef>return</span> pstate<span style=color:#f92672>-&gt;</span>ExecProcNodeReal(pstate);
}

<span style=color:#75715e>// EPQ reduce
</span><span style=color:#75715e></span>ExecEPQDefaultClusterReduce() {
  <span style=color:#66d9ef>switch</span>(origin<span style=color:#f92672>-&gt;</span>reduce_method) {
    <span style=color:#66d9ef>case</span> RT_REDUCE_FIRST:
      InitEPQReduceFirst(node, origin);
    <span style=color:#66d9ef>case</span> RT_MERGE:
      InitEPQMergeReduce(node, origin);
    <span style=color:#66d9ef>case</span> RT_ADVANCE:
      InitEPQAdvanceReduce(node, origin);
  }

  <span style=color:#66d9ef>return</span> pstate<span style=color:#f92672>-&gt;</span>ExecProcNodeReal(pstate);
}

<span style=color:#66d9ef>void</span> <span style=color:#a6e22e>InitReduceMethod</span>(ClusterReduceState <span style=color:#f92672>*</span>crstate) {
  <span style=color:#66d9ef>switch</span>(crstate<span style=color:#f92672>-&gt;</span>reduce_method) {
    <span style=color:#66d9ef>case</span> RT_NOTHING:
      <span style=color:#75715e>// è®¾ç½® ExecProcNodeReal ä¸º ExecNothingReduceï¼Œ å†…éƒ¨ä¸å…·ä½“å¾—ä»»åŠ¡
</span><span style=color:#75715e></span>      ExecSetExecProcNode(<span style=color:#f92672>&amp;</span>crstate<span style=color:#f92672>-&gt;</span>ps, ExecNothingReduce);
    <span style=color:#66d9ef>case</span> RT_NORMAL:
      InitNormalReduce(crstate);
    <span style=color:#66d9ef>case</span> RT_REDUCE_FIRST:
      InitReduceFirst(crstate);
    <span style=color:#66d9ef>case</span> RT_MERGE:
      InitMergeReduce(crstate);
  }
}



</code></pre></div><h4 id=execinitreducescan>
ExecInitReduceScan
<a href=#execinitreducescan class=h-anchor aria-hidden=true>#</a>
</h4>
</div>
<div class=pagination>
<div class=pagination__title>
<span class=pagination__title-h>Read other posts</span>
<hr>
</div>
<div class=pagination__buttons>
<span class="button previous">
<a href=https://askyx.github.io/posts/cost/>
<span class=button__icon>â†</span>
<span class=button__text>æ‰§è¡Œè®¡åˆ’ä»£ä»·è®¡ç®—è§„åˆ™æ¢³ç†</span>
</a>
</span>
<span class="button next">
<a href=https://askyx.github.io/posts/tx/>
<span class=button__text>äº‹åŠ¡çŸ¥è¯†ç®€è®°</span>
<span class=button__icon>â†’</span>
</a>
</span>
</div>
</div>
</div>
</div>
<footer class=footer>
<div class=footer__inner>
<a href=https://askyx.github.io/ class=logo style=text-decoration:none>
<span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg>
</span>
<span class=logo__text>Asky</span>
<span class=logo__cursor></span>
</a>
<div class=copyright>
<span>Â© 2024 Powered by
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span>
<span>Theme created by
<a href=https://twitter.com/panr target=_blank rel=noopener>panr</a></span>
</div>
</div>
</footer>
<script src=https://askyx.github.io/assets/main.js></script>
<script src=https://askyx.github.io/assets/prism.js></script>
</div>
</body>
</html>