<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>LevelDB on Askyx's Blog</title><link>https://askyx.github.io/tags/leveldb/</link><description>Recent content in LevelDB on Askyx's Blog</description><generator>Hugo</generator><language>zh-Hans</language><lastBuildDate>Thu, 06 Nov 2025 15:45:31 +0800</lastBuildDate><atom:link href="https://askyx.github.io/tags/leveldb/index.xml" rel="self" type="application/rss+xml"/><item><title>LevelDB源码阅读</title><link>https://askyx.github.io/posts/readbooks/leveldb/</link><pubDate>Sun, 15 May 2022 21:59:53 +0800</pubDate><guid>https://askyx.github.io/posts/readbooks/leveldb/</guid><description>&lt;hr&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-c++" data-lang="c++"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;LevelDB: version &lt;span style="color:#ae81ff"&gt;1.23&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Date: Thu Oct &lt;span style="color:#ae81ff"&gt;20&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;15&lt;/span&gt;&lt;span style="color:#f92672"&gt;:&lt;/span&gt;&lt;span style="color:#ae81ff"&gt;32&lt;/span&gt;&lt;span style="color:#f92672"&gt;:&lt;/span&gt;&lt;span style="color:#ae81ff"&gt;47&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;2022&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CPU: &lt;span style="color:#ae81ff"&gt;16&lt;/span&gt; &lt;span style="color:#f92672"&gt;*&lt;/span&gt; AMD Ryzen &lt;span style="color:#ae81ff"&gt;9&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;5900&lt;/span&gt;HS with Radeon Graphics
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;CPUCache: &lt;span style="color:#ae81ff"&gt;512&lt;/span&gt; KB
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Keys: &lt;span style="color:#ae81ff"&gt;16&lt;/span&gt; bytes each
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Values: &lt;span style="color:#ae81ff"&gt;100&lt;/span&gt; bytes each (&lt;span style="color:#ae81ff"&gt;50&lt;/span&gt; bytes after compression)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Entries: &lt;span style="color:#ae81ff"&gt;1000000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;RawSize: &lt;span style="color:#ae81ff"&gt;110.6&lt;/span&gt; MB (estimated)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;FileSize: &lt;span style="color:#ae81ff"&gt;62.9&lt;/span&gt; MB (estimated)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;------------------------------------------------&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;fillseq : &lt;span style="color:#ae81ff"&gt;1.394&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; &lt;span style="color:#ae81ff"&gt;79.3&lt;/span&gt; MB&lt;span style="color:#f92672"&gt;/&lt;/span&gt;s 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;fillsync : &lt;span style="color:#ae81ff"&gt;1208.178&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; &lt;span style="color:#ae81ff"&gt;0.1&lt;/span&gt; MB&lt;span style="color:#f92672"&gt;/&lt;/span&gt;s (&lt;span style="color:#ae81ff"&gt;1000&lt;/span&gt; ops)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;fillrandom : &lt;span style="color:#ae81ff"&gt;1.948&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; &lt;span style="color:#ae81ff"&gt;56.8&lt;/span&gt; MB&lt;span style="color:#f92672"&gt;/&lt;/span&gt;s 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;overwrite : &lt;span style="color:#ae81ff"&gt;2.448&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; &lt;span style="color:#ae81ff"&gt;45.2&lt;/span&gt; MB&lt;span style="color:#f92672"&gt;/&lt;/span&gt;s 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;readrandom : &lt;span style="color:#ae81ff"&gt;3.251&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; (&lt;span style="color:#ae81ff"&gt;864322&lt;/span&gt; of &lt;span style="color:#ae81ff"&gt;1000000&lt;/span&gt; found)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;readrandom : &lt;span style="color:#ae81ff"&gt;2.947&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; (&lt;span style="color:#ae81ff"&gt;864083&lt;/span&gt; of &lt;span style="color:#ae81ff"&gt;1000000&lt;/span&gt; found)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;readseq : &lt;span style="color:#ae81ff"&gt;0.126&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; &lt;span style="color:#ae81ff"&gt;878.1&lt;/span&gt; MB&lt;span style="color:#f92672"&gt;/&lt;/span&gt;s 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;readreverse : &lt;span style="color:#ae81ff"&gt;0.216&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; &lt;span style="color:#ae81ff"&gt;511.4&lt;/span&gt; MB&lt;span style="color:#f92672"&gt;/&lt;/span&gt;s 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;compact : &lt;span style="color:#ae81ff"&gt;473557.000&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;readrandom : &lt;span style="color:#ae81ff"&gt;2.174&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; (&lt;span style="color:#ae81ff"&gt;864105&lt;/span&gt; of &lt;span style="color:#ae81ff"&gt;1000000&lt;/span&gt; found)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;readseq : &lt;span style="color:#ae81ff"&gt;0.111&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; &lt;span style="color:#ae81ff"&gt;997.1&lt;/span&gt; MB&lt;span style="color:#f92672"&gt;/&lt;/span&gt;s 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;readreverse : &lt;span style="color:#ae81ff"&gt;0.185&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; &lt;span style="color:#ae81ff"&gt;598.0&lt;/span&gt; MB&lt;span style="color:#f92672"&gt;/&lt;/span&gt;s 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;fill100K : &lt;span style="color:#ae81ff"&gt;530.603&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; &lt;span style="color:#ae81ff"&gt;179.8&lt;/span&gt; MB&lt;span style="color:#f92672"&gt;/&lt;/span&gt;s (&lt;span style="color:#ae81ff"&gt;1000&lt;/span&gt; ops)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;crc32c : &lt;span style="color:#ae81ff"&gt;0.904&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; &lt;span style="color:#ae81ff"&gt;4322.1&lt;/span&gt; MB&lt;span style="color:#f92672"&gt;/&lt;/span&gt;s (&lt;span style="color:#ae81ff"&gt;4&lt;/span&gt;K per op)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;snappycomp : &lt;span style="color:#ae81ff"&gt;2.353&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; &lt;span style="color:#ae81ff"&gt;1659.9&lt;/span&gt; MB&lt;span style="color:#f92672"&gt;/&lt;/span&gt;s (output: &lt;span style="color:#ae81ff"&gt;55.1&lt;/span&gt;&lt;span style="color:#f92672"&gt;%&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;snappyuncomp : &lt;span style="color:#ae81ff"&gt;0.390&lt;/span&gt; micros&lt;span style="color:#f92672"&gt;/&lt;/span&gt;op; &lt;span style="color:#ae81ff"&gt;10026.4&lt;/span&gt; MB&lt;span style="color:#f92672"&gt;/&lt;/span&gt;s 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;pre&gt;&lt;code&gt;read: d019e3605f222ebc5a3a2484a2cb29db537551dd
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;小且完整的工业存储实现，其中有许多细节是可以借鉴的。这里没有完整的深入每一行代码，后续会时不时的慢慢补充&lt;/p&gt;</description></item></channel></rss>